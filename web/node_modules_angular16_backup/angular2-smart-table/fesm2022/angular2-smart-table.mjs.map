{"version":3,"file":"angular2-smart-table.mjs","sources":["../../../projects/angular2-smart-table/src/lib/lib/data-source/data-source.ts","../../../projects/angular2-smart-table/src/lib/lib/data-source/local/local.sorter.ts","../../../projects/angular2-smart-table/src/lib/lib/data-source/local/local.pager.ts","../../../projects/angular2-smart-table/src/lib/lib/helpers.ts","../../../projects/angular2-smart-table/src/lib/lib/data-source/local/local.data-source.ts","../../../projects/angular2-smart-table/src/lib/lib/data-set/cell.ts","../../../projects/angular2-smart-table/src/lib/lib/data-set/row.ts","../../../projects/angular2-smart-table/src/lib/lib/data-set/column.ts","../../../projects/angular2-smart-table/src/lib/lib/data-set/data-set.ts","../../../projects/angular2-smart-table/src/lib/lib/grid.ts","../../../projects/angular2-smart-table/src/lib/components/pager/pager.component.ts","../../../projects/angular2-smart-table/src/lib/components/cell/cell-edit-mode/edit-cell-default.ts","../../../projects/angular2-smart-table/src/lib/components/cell/cell-edit-mode/custom-edit.component.ts","../../../projects/angular2-smart-table/src/lib/components/cell/cell-editors/default-editor.ts","../../../projects/angular2-smart-table/src/lib/components/cell/cell-editors/checkbox-editor.component.ts","../../../projects/angular2-smart-table/src/lib/components/cell/cell-editors/input-editor.component.ts","../../../projects/angular2-smart-table/src/lib/components/cell/cell-editors/select-editor.component.ts","../../../projects/angular2-smart-table/src/lib/components/cell/cell-editors/textarea-editor.component.ts","../../../projects/angular2-smart-table/src/lib/components/cell/cell-edit-mode/default-edit.component.ts","../../../projects/angular2-smart-table/src/lib/components/cell/cell-edit-mode/default-edit.component.html","../../../projects/angular2-smart-table/src/lib/components/cell/cell-edit-mode/edit-cell.component.ts","../../../projects/angular2-smart-table/src/lib/components/cell/cell-view-mode/custom-view.component.ts","../../../projects/angular2-smart-table/src/lib/pipes/bypass-security-trust.pipe.ts","../../../projects/angular2-smart-table/src/lib/components/cell/cell-view-mode/view-cell.component.ts","../../../projects/angular2-smart-table/src/lib/components/cell/cell.component.ts","../../../projects/angular2-smart-table/src/lib/components/tbody/cells/save-cancel.component.ts","../../../projects/angular2-smart-table/src/lib/components/tbody/cells/edit-delete.component.ts","../../../projects/angular2-smart-table/src/lib/components/tbody/cells/custom-item.component.ts","../../../projects/angular2-smart-table/src/lib/components/tbody/cells/custom.component.ts","../../../projects/angular2-smart-table/src/lib/components/tbody/cells/expand.component.ts","../../../projects/angular2-smart-table/src/lib/components/tbody/tbody.component.ts","../../../projects/angular2-smart-table/src/lib/components/tbody/tbody.component.html","../../../projects/angular2-smart-table/src/lib/services/table.service.ts","../../../projects/angular2-smart-table/src/lib/components/filter/filter-default.ts","../../../projects/angular2-smart-table/src/lib/components/filter/filter-types/default-filter.ts","../../../projects/angular2-smart-table/src/lib/components/filter/filter-types/checkbox-filter.component.ts","../../../projects/angular2-smart-table/src/lib/components/filter/filter-types/input-filter.component.ts","../../../projects/angular2-smart-table/src/lib/components/filter/filter-types/select-filter.component.ts","../../../projects/angular2-smart-table/src/lib/components/filter/default-filter.component.ts","../../../projects/angular2-smart-table/src/lib/components/filter/custom-filter.component.ts","../../../projects/angular2-smart-table/src/lib/components/filter/filter.component.ts","../../../projects/angular2-smart-table/src/lib/components/thead/cells/add-button.component.ts","../../../projects/angular2-smart-table/src/lib/components/thead/rows/thead-filters-row.component.ts","../../../projects/angular2-smart-table/src/lib/components/thead/cells/create-cancel.component.ts","../../../projects/angular2-smart-table/src/lib/components/thead/rows/thead-form-row.component.ts","../../../projects/angular2-smart-table/src/lib/directives/resizer.directive.ts","../../../projects/angular2-smart-table/src/lib/components/thead/cells/actions-title.component.ts","../../../projects/angular2-smart-table/src/lib/components/thead/cells/column-title.component.ts","../../../projects/angular2-smart-table/src/lib/components/thead/rows/thead-titles-row.component.ts","../../../projects/angular2-smart-table/src/lib/components/thead/thead.component.ts","../../../projects/angular2-smart-table/src/lib/components/thead/thead.component.html","../../../projects/angular2-smart-table/src/lib/components/tags/tag/tag.component.ts","../../../projects/angular2-smart-table/src/lib/components/tags/tag/tag.component.html","../../../projects/angular2-smart-table/src/lib/components/tags/tags-list/tags-list.component.ts","../../../projects/angular2-smart-table/src/lib/components/tags/tags-list/tags-list.component.html","../../../projects/angular2-smart-table/src/lib/angular2-smart-table.component.ts","../../../projects/angular2-smart-table/src/lib/angular2-smart-table.component.html","../../../projects/angular2-smart-table/src/lib/pipes/pipes.module.ts","../../../projects/angular2-smart-table/src/lib/components/cell/cell.module.ts","../../../projects/angular2-smart-table/src/lib/components/filter/filter.module.ts","../../../projects/angular2-smart-table/src/lib/components/pager/pager.module.ts","../../../projects/angular2-smart-table/src/lib/components/tags/tags.module.ts","../../../projects/angular2-smart-table/src/lib/components/tbody/tbody.module.ts","../../../projects/angular2-smart-table/src/lib/directives/directives.module.ts","../../../projects/angular2-smart-table/src/lib/components/thead/thead.module.ts","../../../projects/angular2-smart-table/src/lib/angular2-smart-table.module.ts","../../../projects/angular2-smart-table/src/lib/lib/data-source/server/server-source.conf.ts","../../../projects/angular2-smart-table/src/lib/lib/data-source/server/server.data-source.ts","../../../projects/angular2-smart-table/src/public-api.ts","../../../projects/angular2-smart-table/src/angular2-smart-table.ts"],"sourcesContent":["import {Observable, Subject} from 'rxjs';\r\nimport {ColumnCompareFunction, ColumnFilterFunction, ISortDirection} from '../settings';\r\n\r\nexport interface ISortConfig {\r\n  field: string,\r\n  direction: ISortDirection,\r\n  compare?: ColumnCompareFunction,\r\n}\r\n\r\nexport interface IFilterConfig {\r\n  field: string,\r\n  search: string,\r\n  filter?: ColumnFilterFunction,\r\n}\r\n\r\nexport interface IPagingConfig {\r\n  page: number;\r\n  perPage: number;\r\n}\r\n\r\nexport interface DataSourceChangeEvent {\r\n  action: string,\r\n  elements: any, // TODO: this should be Array<any> but getElements() returns Promise<any> for some reason....\r\n  paging: IPagingConfig,\r\n  filter: IFilterConfig[];\r\n  sort: ISortConfig[];\r\n}\r\n\r\nexport abstract class DataSource {\r\n\r\n  protected onChangedSource = new Subject<DataSourceChangeEvent>();\r\n  protected onAddedSource = new Subject<any>();\r\n  protected onUpdatedSource = new Subject<any>();\r\n  protected onRemovedSource = new Subject<any>();\r\n\r\n  abstract getAll(): Promise<any>;\r\n  abstract getElements(): Promise<any>;\r\n  abstract getFilteredAndSorted(): Promise<any>;\r\n  abstract getSort(): Array<ISortConfig>;\r\n  abstract getFilter(): Array<IFilterConfig>;\r\n  abstract getPaging(): IPagingConfig;\r\n\r\n  /**\r\n   * Returns the total number of elements with respect to the current filter.\r\n   */\r\n  abstract count(): number;\r\n  abstract toggleItem(row: any, isSelected: boolean): void;\r\n\r\n  /**\r\n   * Sets the selection state of all (filtered) elements.\r\n   * @param checked the new selection state\r\n   * @param onlyFiltered only consider elements matching the current filter\r\n   */\r\n  abstract selectAllItems(checked: boolean, onlyFiltered: boolean): Promise<void>;\r\n  abstract getSelectedItems(): Array<any>;\r\n\r\n  /**\r\n   * Indicates whether every (filtered) element is selected.\r\n   *\r\n   * @param onlyFiltered only consider elements matching the current filter\r\n   * @param reportEmptyAsFalse by logic, in an empty set \"all\" elements are selected.\r\n   * But if you want this to be reported as `false`, you can set this parameter to `true`.\r\n   * @return true if all (filtered) elements are selected, false otherwise\r\n   * @see selectAllItems\r\n   */\r\n  abstract isEveryElementSelected(onlyFiltered: boolean, reportEmptyAsFalse: boolean): boolean;\r\n\r\n  refresh() {\r\n    this.emitOnChanged('refresh');\r\n  }\r\n\r\n  load(data: Array<any>): Promise<any> {\r\n    this.emitOnChanged('load');\r\n    return Promise.resolve();\r\n  }\r\n\r\n  onChanged(): Observable<DataSourceChangeEvent> {\r\n    return this.onChangedSource.asObservable();\r\n  }\r\n\r\n  onAdded(): Observable<any> {\r\n    return this.onAddedSource.asObservable();\r\n  }\r\n\r\n  onUpdated(): Observable<any> {\r\n    return this.onUpdatedSource.asObservable();\r\n  }\r\n\r\n  onRemoved(): Observable<any> {\r\n    return this.onRemovedSource.asObservable();\r\n  }\r\n\r\n  prepend(element: any): Promise<any> {\r\n    this.emitOnAdded(element);\r\n    this.emitOnChanged('prepend');\r\n    return Promise.resolve();\r\n  }\r\n\r\n  append(element: any): Promise<any> {\r\n    this.emitOnAdded(element);\r\n    this.emitOnChanged('append');\r\n    return Promise.resolve();\r\n  }\r\n\r\n  add(element: any): Promise<any> {\r\n    this.emitOnAdded(element);\r\n    this.emitOnChanged('add');\r\n    return Promise.resolve();\r\n  }\r\n\r\n  remove(element: any): Promise<any> {\r\n    this.emitOnRemoved(element);\r\n    this.emitOnChanged('remove');\r\n    return Promise.resolve();\r\n  }\r\n\r\n  update(element: any, values: any): Promise<any> {\r\n    this.emitOnUpdated(element);\r\n    this.emitOnChanged('update');\r\n    return Promise.resolve();\r\n  }\r\n\r\n  empty(): Promise<any> {\r\n    this.emitOnChanged('empty');\r\n    return Promise.resolve();\r\n  }\r\n\r\n  /**\r\n   *\r\n   * Array of conf objects\r\n   * [\r\n   *  {field: string, direction: asc|desc|null, compare?: ColumnCompareFunction|null},\r\n   * ]\r\n   * @param conf the configuration to add\r\n   * @param doEmit indicates whether a sort event shall be emitted\r\n   * @returns this data source\r\n   */\r\n  setSort(conf: Array<ISortConfig>, doEmit?: boolean) {\r\n    if (doEmit) {\r\n      this.emitOnChanged('sort');\r\n    }\r\n  }\r\n\r\n  /**\r\n   *\r\n   * Array of conf objects\r\n   * [\r\n   *  {field: string, direction: asc|desc|null, compare?: ColumnCompareFunction|null},\r\n   * ]\r\n   * @param conf the configuration to add\r\n   * @param doEmit indicates whether a sort event shall be emitted\r\n   * @returns this data source\r\n   */\r\n  updateSort(conf: Array<ISortConfig>, doEmit?: boolean) {\r\n    if (doEmit) {\r\n      this.emitOnChanged('sort');\r\n    }\r\n  }\r\n\r\n  setFilter(conf: Array<IFilterConfig>, doEmit?: boolean) {\r\n    if (doEmit) {\r\n      this.emitOnChanged('filter');\r\n    }\r\n  }\r\n\r\n  addFilter(fieldConf: IFilterConfig, doEmit?: boolean) {\r\n    if (doEmit) {\r\n      this.emitOnChanged('filter');\r\n    }\r\n  }\r\n\r\n  removeFilter(fieldName: string, doEmit?: boolean) {\r\n    if (doEmit) {\r\n      this.emitOnChanged('filter');\r\n    }\r\n  }\r\n\r\n  setPaging(page: number, perPage: number, doEmit?: boolean) {\r\n    if (doEmit) {\r\n      this.emitOnChanged('paging');\r\n    }\r\n  }\r\n\r\n  setPage(page: number, doEmit?: boolean) {\r\n    if (doEmit) {\r\n      this.emitOnChanged('page');\r\n    }\r\n  }\r\n\r\n  protected emitOnRemoved(element: any) {\r\n    this.onRemovedSource.next(element);\r\n  }\r\n\r\n  protected emitOnUpdated(element: any) {\r\n    this.onUpdatedSource.next(element);\r\n  }\r\n\r\n  protected emitOnAdded(element: any) {\r\n    this.onAddedSource.next(element);\r\n  }\r\n\r\n  protected emitOnChanged(action: string) {\r\n    this.getElements().then((elements) => this.onChangedSource.next({\r\n      action: action,\r\n      elements: elements,\r\n      paging: this.getPaging(),\r\n      filter: this.getFilter(),\r\n      sort: this.getSort(),\r\n    }));\r\n  }\r\n}\r\n","export function defaultObjectComparator(direction: number, left: any, right: any): number {\r\n  if (left == null && right == null) {\r\n    return 0;\r\n  }\r\n  // only one of them can be null now\r\n  if (left == null || left < right!) {\r\n    return -1 * direction;\r\n  }\r\n  if (right == null || right < left) {\r\n    return direction;\r\n  }\r\n  // none of them can be null now, and they must be equal\r\n  return 0;\r\n}\r\n\r\nexport function defaultNumberComparator(direction: number, left: number | null, right: number | null): number {\r\n  // the default comparator already does what we want, so this function is merely a type-safe alias\r\n  return defaultObjectComparator(direction, left, right);\r\n}\r\n\r\nexport function defaultStringComparator(direction: number, left: string | null, right: string | null): number {\r\n  if (left == null && right == null) {\r\n    return 0;\r\n  } else if (left == null) {\r\n    return -1 * direction;\r\n  } else if (right == null) {\r\n    return direction;\r\n  } else {\r\n    return left.localeCompare(right) * direction;\r\n  }\r\n}\r\n\r\n/**\r\n * Compares two values with special treatment for numbers and strings.\r\n *\r\n * The rule is: if both values are of type number (or null), they are compared as if they were numbers.\r\n * If both values are either null, undefined or typeof string, they are compared as strings using the current locale.\r\n * Otherwise, they are compared using their natural ordering.\r\n *\r\n * Null values are considered less than any non-null element. Null and undefined are considered equal.\r\n *\r\n * @param direction 1 for ascending and -1 for descending (other values are not allowed)\r\n * @param left the left value\r\n * @param right the right value\r\n */\r\nexport function defaultComparator(direction: any, left: any, right: any) {\r\n  const leftIsNumeric = left == null || (!isNaN(parseFloat(left)) && !isNaN(left - 0));\r\n  const rightIsNumeric = right == null || (!isNaN(parseFloat(right)) && !isNaN(right - 0));\r\n  const leftIsString = left == null || (typeof left === 'string');\r\n  const rightIsString = right == null || (typeof right === 'string');\r\n  if (leftIsNumeric && rightIsNumeric) {\r\n    return defaultNumberComparator(direction, Number(left), Number(right));\r\n  } else if (leftIsString && rightIsString) {\r\n    return defaultStringComparator(direction, left, right);\r\n  } else {\r\n    return defaultObjectComparator(direction, left, right);\r\n  }\r\n}\r\n","export class LocalPager {\r\n\r\n  static paginate(data: Array<any>, page: number, perPage: number): Array<any> {\r\n    return data.slice(perPage * (page - 1), perPage * page);\r\n  }\r\n}\r\n","import {cloneDeep} from 'lodash-es';\r\n\r\n/**\r\n * Extending object that entered in first argument.\r\n *\r\n * Returns extended object or false if have no target object or incorrect type.\r\n *\r\n * If you wish to clone source object (without modify it), just use empty new\r\n * object as first argument, like this:\r\n *   deepExtend({}, yourObj_1, [yourObj_N]);\r\n */\r\nexport const deepExtend = function (...objects: Array<any>): any {\r\n  if (arguments.length < 1 || typeof arguments[0] !== 'object') {\r\n    return false;\r\n  }\r\n\r\n  if (arguments.length < 2) {\r\n    return arguments[0];\r\n  }\r\n\r\n  const target = arguments[0];\r\n\r\n  // convert arguments to array and cut off target object\r\n  const args = Array.prototype.slice.call(arguments, 1);\r\n\r\n  let val, src;\r\n\r\n  args.forEach((obj: any) => {\r\n    // skip argument if it is array or isn't object\r\n    if (typeof obj !== 'object' || Array.isArray(obj)) {\r\n      return;\r\n    }\r\n\r\n    Object.keys(obj).forEach(function (key) {\r\n      src = target[key]; // source value\r\n      val = obj[key]; // new value\r\n\r\n      // recursion prevention\r\n      if (val === target) {\r\n        return;\r\n\r\n        /**\r\n         * if new value isn't object then just overwrite by new value\r\n         * instead of extending.\r\n         */\r\n      } else if (typeof val !== 'object' || val === null) {\r\n        target[key] = val;\r\n        return;\r\n\r\n        // just clone arrays (and recursive clone objects inside)\r\n      } else if (Array.isArray(val)) {\r\n        target[key] = cloneDeep(val);\r\n        return;\r\n\r\n        // overwrite by new value if source isn't object or array\r\n      } else if (typeof src !== 'object' || src === null || Array.isArray(src)) {\r\n        target[key] = deepExtend({}, val);\r\n        return;\r\n\r\n        // source value and new value is objects both, extending...\r\n      } else {\r\n        target[key] = deepExtend(src, val);\r\n        return;\r\n      }\r\n    });\r\n  });\r\n\r\n  return target;\r\n};\r\n\r\nexport class Deferred {\r\n\r\n  promise: Promise<any>;\r\n\r\n  resolve: any;\r\n  reject: any;\r\n\r\n  constructor() {\r\n    this.promise = new Promise((resolve, reject) => {\r\n      this.resolve = resolve;\r\n      this.reject = reject;\r\n    });\r\n  }\r\n}\r\n\r\n// getDeepFromObject({result: {data: 1}}, 'result.data', 2); // returns 1\r\nexport function getDeepFromObject(object = {}, name: string, defaultValue?: any) {\r\n  const keys = name.split('.');\r\n  // clone the object\r\n  let level = deepExtend({}, object);\r\n  keys.forEach((k) => {\r\n    if (typeof level !== 'undefined') {\r\n      level = level[k];\r\n    }\r\n  });\r\n\r\n  return typeof level === 'undefined' ? defaultValue : level;\r\n}\r\n\r\nexport function getPageForRowIndex(index: number, perPage: number): number {\r\n  // we need to add 1 to convert 0-based index to 1-based page number.\r\n  return Math.floor(index / perPage) + 1;\r\n}\r\n","import {defaultComparator} from './local.sorter';\r\nimport {LocalPager} from './local.pager';\r\nimport {DataSource, IFilterConfig, IPagingConfig, ISortConfig} from '../data-source';\r\nimport {deepExtend} from '../../helpers';\r\nimport {ColumnCompareFunction, ColumnFilterFunction} from \"../../settings\";\r\n\r\nexport class LocalDataSource extends DataSource {\r\n\r\n  protected data: Array<any> = [];\r\n  protected filteredAndSorted: Array<any> = [];\r\n  protected sortConf: Array<ISortConfig> = [];\r\n  protected filterConf: Array<IFilterConfig> = [];\r\n  protected pagingConf: IPagingConfig = {page: 1, perPage: 10};\r\n\r\n  private selectedItems: Array<any> = [];\r\n  constructor(data: Array<any> = []) {\r\n    super();\r\n\r\n    this.data = data;\r\n  }\r\n\r\n  load(data: Array<any>): Promise<any> {\r\n    this.data = data;\r\n\r\n    return super.load(data);\r\n  }\r\n\r\n  prepend(element: any): Promise<any> {\r\n    this.reset(true);\r\n\r\n    this.data.unshift(element);\r\n    return super.prepend(element);\r\n  }\r\n\r\n  append(element: any): Promise<any> {\r\n    this.reset(true);\r\n\r\n    this.data.push(element);\r\n    return super.append(element);\r\n  }\r\n\r\n  add(element: any): Promise<any> {\r\n    this.data.push(element);\r\n\r\n    return super.add(element);\r\n  }\r\n\r\n  remove(element: any): Promise<any> {\r\n    this.data = this.data.filter(el => el !== element);\r\n\r\n    return super.remove(element);\r\n  }\r\n\r\n  update(element: any, values: any): Promise<any> {\r\n    return new Promise((resolve, reject) => {\r\n      this.find(element).then((found) => {\r\n        found = deepExtend(found, values);\r\n        super.update(found, values).then(resolve).catch(reject);\r\n      }).catch(reject);\r\n    });\r\n  }\r\n\r\n  find(element: any): Promise<any> {\r\n    const found = this.data.find(el => el === element);\r\n    if (found) {\r\n      return Promise.resolve(found);\r\n    }\r\n\r\n    return Promise.reject(new Error('Element was not found in the dataset'));\r\n  }\r\n\r\n  getElements(): Promise<any> {\r\n    const data = this.data.slice(0);\r\n    return Promise.resolve(this.prepareData(data));\r\n  }\r\n\r\n  getFilteredAndSorted(): Promise<any> {\r\n    let data = this.data.slice(0);\r\n    this.prepareData(data); // this would return only the current page, but it sets filteredAndSorted array\r\n    return Promise.resolve(this.filteredAndSorted);\r\n  }\r\n\r\n  getAll(): Promise<any> {\r\n    const data = this.data.slice(0);\r\n    return Promise.resolve(data);\r\n  }\r\n\r\n  reset(silent = false) {\r\n    this.setFilter([], false);\r\n    this.setSort([], false);\r\n    this.setPage(1, !silent);\r\n  }\r\n\r\n  empty(): Promise<any> {\r\n    this.data = [];\r\n\r\n    return super.empty();\r\n  }\r\n\r\n  count(): number {\r\n    return this.filteredAndSorted.length;\r\n  }\r\n\r\n  toggleItem(row: any, isSelected: boolean): void {\r\n    if (isSelected) this.selectedItems.push(row);\r\n    else this.selectedItems = this.selectedItems.filter((i) => i !== row);\r\n  }\r\n\r\n  // TODO: actually there is no need that this is an async function, but changing the signature would be a breaking change\r\n  async selectAllItems(checked: boolean, onlyFiltered: boolean = false): Promise<void> {\r\n    if (checked) {\r\n      const itemsToSelect = onlyFiltered ? this.filteredAndSorted : this.data;\r\n      this.selectedItems = itemsToSelect.slice(0);\r\n    } else this.selectedItems = [];\r\n  }\r\n\r\n  isEveryElementSelected(onlyFiltered: boolean = false, reportEmptyAsFalse: boolean = false): boolean {\r\n    const itemsToCheck = onlyFiltered ? this.filteredAndSorted : this.data;\r\n    if (itemsToCheck.length === 0) {\r\n      return !reportEmptyAsFalse;\r\n    }\r\n    if (onlyFiltered) {\r\n      // TODO: this is an ugly and costly O(nÂ²) check, but currently we have no other choice....\r\n      if (itemsToCheck.length !== this.selectedItems.length) return false;\r\n      for (const item of itemsToCheck) {\r\n        if (this.selectedItems.indexOf(itemsToCheck) < 0) return false;\r\n      }\r\n      return true;\r\n    } else {\r\n      return itemsToCheck.length === this.selectedItems.length;\r\n    }\r\n  }\r\n\r\n  getSelectedItems(): Array<any> {\r\n    return this.selectedItems;\r\n  }\r\n\r\n  setSort(conf: Array<ISortConfig>, doEmit = true): void {\r\n    this.sortConf = conf;\r\n    super.setSort(conf, doEmit);\r\n  }\r\n\r\n  updateSort(conf: Array<ISortConfig>, doEmit = true): void {\r\n    if (conf !== null) {\r\n      conf.forEach((fieldConf) => {\r\n        const found = this.sortConf.findIndex(c => c.field === fieldConf.field);\r\n        if (found >= 0) {\r\n          if (fieldConf.compare === undefined) {\r\n            // keep the previously configured compare function\r\n            fieldConf.compare = this.sortConf[found].compare;\r\n          }\r\n          this.sortConf.splice(found, 1);\r\n        }\r\n        // push the updated config to the front of the array (highest sort priority)\r\n        this.sortConf = [fieldConf, ...this.sortConf];\r\n      });\r\n    }\r\n    super.setSort(conf, doEmit);\r\n  }\r\n\r\n  /**\r\n   *\r\n   * Replaces all filters with the given array of filters.\r\n   * [\r\n   *  {field: string, search: string, filter: ColumnCompareFunction|null},\r\n   * ]\r\n   *\r\n   * @param conf the array of filters\r\n   * @param doEmit true if an event shall be emitted that triggers a table refresh\r\n   */\r\n  setFilter(conf: Array<IFilterConfig>, doEmit = true): void {\r\n    this.filterConf = conf;\r\n    super.setFilter(conf, doEmit);\r\n  }\r\n\r\n  /**\r\n   *\r\n   * Adds a filter to this data source.\r\n   *\r\n   * {field: string, search: string, filter: ColumnFilterFunction|null},\r\n   *\r\n   * @param fieldConf the filter config\r\n   * @param doEmit true if an event shall be emitted that triggers a table refresh\r\n   */\r\n  addFilter(fieldConf: IFilterConfig, doEmit: boolean = true): void {\r\n    let found = false;\r\n    this.filterConf.forEach((currentFieldConf: IFilterConfig, index: number) => {\r\n      if (currentFieldConf.field === fieldConf.field) {\r\n        this.filterConf[index] = fieldConf;\r\n        found = true;\r\n      }\r\n    });\r\n    if (!found) {\r\n      this.filterConf.push(fieldConf);\r\n    }\r\n    super.addFilter(fieldConf, doEmit);\r\n  }\r\n\r\n  removeFilter(fieldName: string, doEmit: boolean = true): void {\r\n    this.filterConf = this.filterConf.filter(c => c.field !== fieldName);\r\n    super.removeFilter(fieldName, doEmit);\r\n  }\r\n\r\n  setPaging(page: number, perPage: number, doEmit: boolean = true): void {\r\n    this.pagingConf.page = page;\r\n    this.pagingConf.perPage = perPage;\r\n\r\n    super.setPaging(page, perPage, doEmit);\r\n  }\r\n\r\n  setPage(page: number, doEmit: boolean = true): void {\r\n    this.pagingConf.page = page;\r\n    super.setPage(page, doEmit);\r\n  }\r\n\r\n  getSort(): Array<ISortConfig> {\r\n    return this.sortConf;\r\n  }\r\n\r\n  getFilter(): Array<IFilterConfig> {\r\n    return this.filterConf;\r\n  }\r\n\r\n  getPaging(): IPagingConfig {\r\n    return this.pagingConf;\r\n  }\r\n\r\n  protected prepareData(data: Array<any>): Array<any> {\r\n    data = this.filter(data);\r\n    data = this.sort(data);\r\n    this.filteredAndSorted = data.slice(0);\r\n\r\n    return this.paginate(data);\r\n  }\r\n\r\n  protected sort(data: Array<any>): Array<any> {\r\n    // only use the part of the config where sorting is enabled\r\n    const sortConfig = this.sortConf.filter(c => c.direction !== null);\r\n\r\n    return data.sort((a, b) => {\r\n      for (const sc of sortConfig) {\r\n        const dir: number = (sc.direction === 'asc') ? 1 : -1;\r\n        const compare: ColumnCompareFunction = sc.compare ? sc.compare : defaultComparator;\r\n        let parts = sc.field.split(\".\");\r\n        let propA = a;\r\n        for (let i = 0; i < parts.length && typeof propA !== 'undefined'; i++) {\r\n          propA = propA[parts[i]];\r\n        }\r\n        let propB = b;\r\n        for (let i = 0; i < parts.length && typeof propB !== 'undefined'; i++) {\r\n          propB = propB[parts[i]];\r\n        }\r\n        const result = compare.call(null, dir, propA, propB);\r\n        if (result !== 0) return result;\r\n      }\r\n      return 0;\r\n    });\r\n  }\r\n\r\n  protected filter(data: Array<any>): Array<any> {\r\n    if (this.filterConf) {\r\n      for (const filterConf of this.filterConf) {\r\n        const filter: ColumnFilterFunction = filterConf.filter ?? ((v, s) => (v?.toString()??'').toLowerCase().includes(s.toLowerCase()));\r\n        data = data.filter((el) => {\r\n          let parts = filterConf.field.split(\".\");\r\n          let prop = el;\r\n          for (let i = 0; i < parts.length && typeof prop !== 'undefined'; i++) {\r\n            prop = prop[parts[i]];\r\n          }\r\n          return filter.call(null, prop, filterConf.search);\r\n        });\r\n      }\r\n    }\r\n    return data;\r\n  }\r\n\r\n  protected paginate(data: Array<any>): Array<any> {\r\n    return LocalPager.paginate(data, this.pagingConf.page, this.pagingConf.perPage);\r\n  }\r\n}\r\n","import {Column} from './column';\r\nimport {Row} from './row';\r\n\r\nexport class Cell {\r\n\r\n  private cachedValue: unknown;\r\n  private cachedPreparedValue: string = '';\r\n\r\n  private newValue: unknown;\r\n\r\n  constructor(protected value: unknown, protected row: Row, protected column: Column) {\r\n    this.resetValue();\r\n  }\r\n\r\n  getColumn(): Column {\r\n    return this.column;\r\n  }\r\n\r\n  getRow(): Row {\r\n    return this.row;\r\n  }\r\n\r\n  /**\r\n   * Gets the value (after post-processing with valuePrepareFunction).\r\n   */\r\n  getValue(): string {\r\n    if (this.cachedValue !== this.value) {\r\n      this.cachedPreparedValue = this.getPreparedValue();\r\n      this.cachedValue = this.value;\r\n    }\r\n    return this.cachedPreparedValue;\r\n  }\r\n\r\n  protected getPreparedValue(): string {\r\n    try {\r\n      const prepare = this.column.valuePrepareFunction ?? ((v) => (v?.toString() ?? ''));\r\n      return prepare.call(null, this.value, this);\r\n    } catch (_) {\r\n      console.error(`The valuePrepareFunction of column ${this.column.id} threw an error. Using simple toString() as fallback.`);\r\n      console.error('Please check the implementation of valuePrepareFunction.');\r\n      console.error('If this error was raised when creating a new row, please also check the implementation of valueCreateFunction.');\r\n      return this.value?.toString() ?? '';\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Returns the raw value that has not been post-processed by the valuePrepareFunction.\r\n   */\r\n  getRawValue(): unknown {\r\n    return this.value;\r\n  }\r\n\r\n  setValue(value: string) {\r\n    const store = this.column.valueStoreFunction ?? ((v) => v);\r\n    this.newValue = store.call(null, value, this);\r\n  }\r\n\r\n  /**\r\n   * Returns the new raw value after being post-processed by the valueStoreFunction.\r\n   */\r\n  getNewRawValue(): any {\r\n    return this.newValue;\r\n  }\r\n\r\n  getId(): string {\r\n    return this.getColumn().id;\r\n  }\r\n\r\n  getTitle(): string {\r\n    return this.getColumn().title;\r\n  }\r\n\r\n  isEditable(): boolean {\r\n    if (this.getRow().index === -1) {\r\n      return this.getColumn().isAddable ?? false;\r\n    }\r\n    else {\r\n      return this.getColumn().isEditable ?? false;\r\n    }\r\n  }\r\n\r\n  resetValue(): void {\r\n    this.cachedValue = this.value;\r\n    this.newValue = this.value;\r\n    this.cachedPreparedValue = this.getPreparedValue();\r\n  }\r\n}\r\n","import {Cell} from './cell';\r\nimport {Column} from './column';\r\nimport {DataSet} from './data-set';\r\n\r\nexport class Row {\r\n\r\n  isSelected: boolean = false;\r\n  isInEditing: boolean = false;\r\n  isExpanded: boolean = false;\r\n  cells: Array<Cell> = [];\r\n\r\n\r\n  constructor(public index: number, protected data: any, protected _dataSet: DataSet) {\r\n    this.process();\r\n  }\r\n\r\n  getCell(column: Column): Cell {\r\n    const theCell = this.cells.find(el => el.getColumn() === column)\r\n    if (!theCell) throw new Error('There is no cell with such Column');\r\n    return theCell;\r\n  }\r\n\r\n  getCells() {\r\n    return this.cells;\r\n  }\r\n\r\n  getData(): any {\r\n    return this.data;\r\n  }\r\n\r\n  getIsSelected(): boolean {\r\n    return this.isSelected;\r\n  }\r\n\r\n  getIsExpanded(): boolean {\r\n    return this.isExpanded;\r\n  }\r\n\r\n  getNewData(): any {\r\n    const values = Object.assign({}, this.data);\r\n    this.getCells().forEach((cell) => values[cell.getColumn().id] = cell.getNewRawValue());\r\n    return values;\r\n  }\r\n\r\n  setData(data: any): any {\r\n    this.data = data;\r\n    this.process();\r\n  }\r\n\r\n  process() {\r\n    this.cells = [];\r\n    this._dataSet.getColumns().forEach((column: Column) => {\r\n      this.cells.push(new Cell(this.data[column.id], this, column));\r\n    });\r\n  }\r\n}\r\n","import {\r\n  ColumnCompareFunction,\r\n  ColumnComponentInitFunction,\r\n  ColumnFilterFunction,\r\n  ColumnValuePrepareFunction,\r\n  ColumnValueStoreFunction,\r\n  EditorSettings,\r\n  FilterSettings,\r\n  IColumn,\r\n  IColumnType,\r\n  ISortDirection,\r\n  SanitizerSettings\r\n} from '../settings';\r\nimport {DataSet} from './data-set';\r\n\r\nexport class Column {\r\n\r\n  placeholder?: string;\r\n  title: string;\r\n  hide: boolean;\r\n  type: IColumnType;\r\n  sanitizer: SanitizerSettings;\r\n  classHeader: string;\r\n  classContent: string;\r\n  width: string;\r\n  /**\r\n   * If this column was resized, this contains the new width in pixels.\r\n   * Please be aware that this only contains the width specified in the width\r\n   * CSS attribute. It does NOT necessarily equal the actual width of the column\r\n   * unless the table-layout is fixed.\r\n   * Also note carefully that in automatic table layouts the actual width of other columns,\r\n   * that are not adjacent to the resized column, may also change. Those changes are not\r\n   * reflected by this property.\r\n   */\r\n  resizedWidth?: number = undefined;\r\n  isSortable: boolean;\r\n  isEditable: boolean;\r\n  isAddable: boolean;\r\n  isRowHeading: boolean;\r\n  isFilterable: boolean;\r\n  defaultSortDirection: ISortDirection;\r\n  editor: EditorSettings;\r\n  filter: FilterSettings;\r\n  renderComponent?: any;\r\n  compareFunction?: ColumnCompareFunction;\r\n  valuePrepareFunction?: ColumnValuePrepareFunction;\r\n  valueStoreFunction?: ColumnValueStoreFunction;\r\n  filterFunction?: ColumnFilterFunction;\r\n  componentInitFunction?: ColumnComponentInitFunction;\r\n\r\n  constructor(public id: string, protected settings: IColumn, protected dataSet: DataSet) {\r\n    this.type = this.settings.type ?? 'text';\r\n    this.placeholder = this.settings.placeholder;\r\n    this.sanitizer = this.settings.sanitizer ?? {};\r\n    this.title = this.settings.title ?? '';\r\n    this.classHeader = this.settings.classHeader ?? '';\r\n    this.classContent = this.settings.classContent ?? '';\r\n    this.width = this.settings.width ?? 'auto';\r\n    this.hide = this.settings.hide ?? false;\r\n    this.editor = this.settings.editor ?? {type: 'text'};\r\n    this.filter = this.settings.filter ?? {type: 'text'};\r\n    this.renderComponent = this.settings.renderComponent;\r\n\r\n    this.isFilterable = this.settings.isFilterable ?? true;\r\n    this.isSortable = this.settings.isSortable ?? true;\r\n    this.isEditable = this.settings.isEditable ?? true;\r\n    this.isAddable = this.settings.isAddable ?? true;\r\n    this.isRowHeading = this.settings.isRowHeading ?? false;\r\n\r\n    this.defaultSortDirection = this.settings.sortDirection ?? null;\r\n\r\n    this.compareFunction = this.settings.compareFunction;\r\n    this.valuePrepareFunction = this.settings.valuePrepareFunction;\r\n    this.valueStoreFunction = this.settings.valueStoreFunction;\r\n    this.filterFunction = this.settings.filterFunction;\r\n    this.componentInitFunction = this.settings.componentInitFunction;\r\n  }\r\n\r\n  getConfig(): any {\r\n    return this.editor && this.editor.config;\r\n  }\r\n}\r\n","import {Row} from './row';\r\nimport {Column} from './column';\r\nimport {IColumns} from \"../settings\";\r\n\r\nexport class DataSet {\r\n  protected data: Array<Row> = [];\r\n  protected columns: Array<Column> = [];\r\n  protected rows: Array<Row> = [];\r\n  protected selectedRow: Row | null = null;\r\n  protected expandedRow?: Row;\r\n  protected willSelect: 'first' | 'last' | 'indexed' = 'indexed';\r\n\r\n  constructor(data: Array<any> = [], protected columnSettings: IColumns) {\r\n    this.createColumns(columnSettings);\r\n    this.setData(data);\r\n  }\r\n\r\n  setData(data: Array<any>, selectedRows: Array<any> = []) {\r\n    this.data = data.map((el, index) => {\r\n      const row = new Row(index, el, this);\r\n      row.isSelected = selectedRows.indexOf(el) > -1;\r\n      return row;\r\n    });\r\n    this.createRows();\r\n  }\r\n\r\n  getColumns(): Array<Column> {\r\n    return this.columns;\r\n  }\r\n\r\n  getExpandedRow(): Row {\r\n    if (!this.expandedRow) {\r\n      console.warn('Expanded row not found');\r\n      throw new Error('Expanded row not found');\r\n    }\r\n    return this.expandedRow;\r\n  }\r\n\r\n  getSelectedRow(): Row | null {\r\n    return this.selectedRow;\r\n  }\r\n\r\n  getRows(): Array<Row> {\r\n    return this.rows ?? [];\r\n  }\r\n\r\n  getFirstRow(): Row {\r\n    return this.rows[0];\r\n  }\r\n\r\n  getLastRow(): Row {\r\n    return this.rows[this.rows.length - 1];\r\n  }\r\n\r\n  findRowByData(data: any): Row {\r\n    const row = this.rows.find((row: Row) => row.getData() === data);\r\n    if (!row) {\r\n      console.warn('Data row not found', data);\r\n      throw new Error('Row not found');\r\n    }\r\n    return row;\r\n  }\r\n\r\n  deselectAll() {\r\n    this.rows.forEach((row) => {\r\n      row.isSelected = false;\r\n    });\r\n    // we need to clear selectedRow field because no one row selected\r\n    this.selectedRow = null;\r\n  }\r\n\r\n  clearExpandAll() {\r\n    this.rows.forEach((row) => {\r\n      row.isExpanded = false;\r\n    });\r\n    // we need to clear selectedRow field because no one row selected\r\n    this.expandedRow = undefined;\r\n  }\r\n\r\n  selectRow(row: Row): void {\r\n    const previousIsSelected = row.isSelected;\r\n    this.deselectAll();\r\n\r\n    row.isSelected = !previousIsSelected;\r\n    this.selectedRow = row;\r\n  }\r\n\r\n  multipleSelectRow(row: Row): void {\r\n    row.isSelected = !row.isSelected;\r\n    this.selectedRow = row;\r\n  }\r\n\r\n  expandRow(row: Row): Row {\r\n    const previousIsExpanded = row.isExpanded;\r\n    this.clearExpandAll();\r\n    if (row.index !== this.expandedRow?.index) {\r\n      this.expandedRow = undefined;\r\n    }\r\n    row.isExpanded = !previousIsExpanded;\r\n    this.expandedRow = row;\r\n    return this.expandedRow;\r\n  }\r\n\r\n  selectPreviousRow(): Row | null {\r\n    if (this.rows.length > 0) {\r\n      let index = this.selectedRow ? this.selectedRow.index : 0;\r\n      if (index > this.rows.length - 1) {\r\n        index = this.rows.length - 1;\r\n      }\r\n      this.selectRow(this.rows[index]);\r\n      return this.getSelectedRow();\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  selectFirstRow(): Row | null{\r\n    if (this.rows.length > 0) {\r\n      this.selectRow(this.rows[0]);\r\n      return this.getSelectedRow();\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  selectLastRow(): Row | null {\r\n    if (this.rows.length > 0) {\r\n      this.selectRow(this.rows[this.rows.length - 1]);\r\n      return this.getSelectedRow();\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  willSelectFirstRow() {\r\n    this.willSelect = 'first';\r\n  }\r\n\r\n  willSelectLastRow() {\r\n    this.willSelect = 'last';\r\n  }\r\n\r\n  select(index: number): Row | null {\r\n    if (index >= 0 && this.getRows().length === 0) {\r\n      return null;\r\n    }\r\n    const willSelect = this.willSelect;\r\n    this.willSelect = 'indexed';\r\n    if (willSelect === 'indexed') {\r\n      if (index >= 0 && index < this.rows.length) {\r\n        this.selectRow(this.rows[index]);\r\n        return this.selectedRow;\r\n      } else {\r\n        // we need to deselect all rows if we got an incorrect index\r\n        this.deselectAll();\r\n        return null;\r\n      }\r\n    } else if (willSelect === 'first') {\r\n      return this.selectFirstRow();\r\n    } else if (willSelect === 'last') {\r\n      return this.selectLastRow();\r\n    } else {\r\n      // this branch is unreachable, because the if-else is exhaustive, but stupid typescript compilers do not see that\r\n      return null;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Create columns by mapping from the settings\r\n   * @param settings\r\n   * @private\r\n   */\r\n  createColumns(settings: IColumns) {\r\n    for (const id in settings) {\r\n      if (settings.hasOwnProperty(id)) {\r\n        this.columns.push(new Column(id, settings[id], this));\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Create rows based on current data prepared in data source\r\n   * @private\r\n   */\r\n  createRows() {\r\n    this.rows = [];\r\n    this.data.forEach((el) => {\r\n      this.rows.push(el);\r\n    });\r\n  }\r\n}\r\n","import {Observable, Subject, Subscription} from 'rxjs';\r\n\r\nimport {Deferred, getPageForRowIndex} from './helpers';\r\nimport {Column} from './data-set/column';\r\nimport {Row} from './data-set/row';\r\nimport {DataSet} from './data-set/data-set';\r\nimport {DataSource, DataSourceChangeEvent, ISortConfig} from './data-source/data-source';\r\nimport {EventEmitter, Type} from '@angular/core';\r\n\r\nimport {Settings} from \"./settings\";\r\nimport {CreateConfirmEvent, DeleteConfirmEvent, EditConfirmEvent} from './events';\r\n\r\nexport class Grid {\r\n\r\n  createFormShown: boolean = false;\r\n  createFormRow!: Row;\r\n\r\n  source!: DataSource;\r\n  settings!: Settings;\r\n  dataSet!: DataSet;\r\n\r\n  /**\r\n   * Points to an element in all data\r\n   *\r\n   * when < 0 all lines must be deselected\r\n   */\r\n  selectedRowIndex = -1;\r\n  onSelectRowSource = new Subject<any>();\r\n\r\n  private sourceOnChangedSubscription!: Subscription;\r\n  private sourceOnUpdatedSubscription!: Subscription;\r\n\r\n  constructor(source: DataSource, settings: Settings) {\r\n    this.setSettings(settings);\r\n    this.setSource(source);\r\n  }\r\n\r\n\r\n  detach(): void {\r\n    if (this.sourceOnChangedSubscription) {\r\n      this.sourceOnChangedSubscription.unsubscribe();\r\n    }\r\n    if (this.sourceOnUpdatedSubscription) {\r\n      this.sourceOnUpdatedSubscription.unsubscribe();\r\n    }\r\n  }\r\n\r\n  showActionColumn(position: string): boolean {\r\n    // no actions configured, therefore now actions visible\r\n    if (this.settings.actions === false || this.settings.actions === undefined) {\r\n      return false;\r\n    }\r\n    // not the correct position\r\n    if (position !== this.settings.actions?.position) {\r\n      return false;\r\n    }\r\n    // column is visible if and only if at least one action is visible - check all of them\r\n    return this.settings.actions.add || this.settings.actions.edit || this.settings.actions.delete ||\r\n      (this.settings.actions.custom?.length ?? 0) > 0 ||\r\n      this.getExpandedRowComponentClass() !== undefined;\r\n  }\r\n\r\n  isMultiSelectVisible(): boolean {\r\n    return this.settings.selectMode === 'multi' || this.settings.selectMode === 'multi_filtered';\r\n  }\r\n\r\n  isMultiSortEnabled(): boolean {\r\n    return this.settings.sortMode !== 'single';\r\n  }\r\n\r\n  getExpandedRowComponentClass(): Type<any> | undefined {\r\n    return this.settings.expand?.component;\r\n  }\r\n\r\n  setSettings(settings: Settings) {\r\n    this.settings = settings;\r\n    this.recreateDataSet();\r\n  }\r\n\r\n  recreateDataSet() {\r\n    this.dataSet = new DataSet([], this.settings.columns);\r\n\r\n    if (this.source) {\r\n      this.source.refresh();\r\n    }\r\n  }\r\n\r\n  getDataSet(): DataSet {\r\n    return this.dataSet;\r\n  }\r\n\r\n  setSource(source: DataSource) {\r\n    this.detach();\r\n    this.source = this.prepareSource(source);\r\n\r\n    this.sourceOnChangedSubscription = this.source.onChanged().subscribe((changes: any) => this.processDataChange(changes));\r\n\r\n    this.sourceOnUpdatedSubscription = this.source.onUpdated().subscribe((data: any) => {\r\n      const changedRow = this.dataSet.findRowByData(data);\r\n      changedRow.setData(data);\r\n    });\r\n  }\r\n\r\n  getColumns(): Array<Column> {\r\n    return this.dataSet.getColumns();\r\n  }\r\n\r\n  getRows(): Array<Row> {\r\n    return this.dataSet.getRows();\r\n  }\r\n\r\n  selectRow(row: Row) {\r\n    this.dataSet.selectRow(row);\r\n    this.source.toggleItem(row.getData(), row.isSelected);\r\n  }\r\n\r\n  multipleSelectRow(row: Row) {\r\n    this.dataSet.multipleSelectRow(row);\r\n    this.source.toggleItem(row.getData(), row.isSelected);\r\n  }\r\n\r\n  onSelectRow(): Observable<any> {\r\n    return this.onSelectRowSource.asObservable();\r\n  }\r\n\r\n  expandRow(row: Row) {\r\n    this.dataSet.expandRow(row);\r\n  }\r\n\r\n  edit(row: Row) {\r\n    row.isInEditing = true;\r\n  }\r\n\r\n  create(row: Row, confirmEmitter: EventEmitter<CreateConfirmEvent>) {\r\n    const deferred = new Deferred();\r\n    deferred.promise.then((newData) => {\r\n      newData = newData ? newData : row.getNewData();\r\n      this.createFormShown = false;\r\n      this.source.prepend(newData).then();\r\n    }).catch((err) => {\r\n      // doing nothing\r\n    });\r\n\r\n    if (this.settings.add?.confirmCreate ?? false) {\r\n      confirmEmitter.emit({\r\n        newData: row.getNewData(),\r\n        source: this.source,\r\n        confirm: deferred,\r\n      });\r\n    } else {\r\n      deferred.resolve();\r\n    }\r\n  }\r\n\r\n  save(row: Row, confirmEmitter: EventEmitter<EditConfirmEvent>) {\r\n\r\n    const deferred = new Deferred();\r\n    deferred.promise.then((newData) => {\r\n      newData = newData ? newData : row.getNewData();\r\n      if (deferred.resolve.skipEdit) {\r\n        row.isInEditing = false;\r\n      } else {\r\n        this.source.update(row.getData(), newData).then(() => {\r\n          row.isInEditing = false;\r\n        });\r\n      }\r\n    }).catch((err) => {\r\n      // doing nothing\r\n    });\r\n\r\n    if (this.settings.edit?.confirmSave ?? false) {\r\n      confirmEmitter.emit({\r\n        row: row,\r\n        data: row.getData(),\r\n        newData: row.getNewData(),\r\n        source: this.source,\r\n        confirm: deferred,\r\n      });\r\n    } else {\r\n      deferred.resolve();\r\n    }\r\n  }\r\n\r\n  delete(row: Row, confirmEmitter: EventEmitter<DeleteConfirmEvent>) {\r\n\r\n    const deferred = new Deferred();\r\n    deferred.promise.then(() => {\r\n      this.source.remove(row.getData());\r\n    }).catch((err) => {\r\n      // doing nothing\r\n    });\r\n\r\n    if (this.settings.delete?.confirmDelete ?? false) {\r\n      confirmEmitter.emit({\r\n        row: row,\r\n        data: row.getData(),\r\n        source: this.source,\r\n        confirm: deferred,\r\n      });\r\n    } else {\r\n      deferred.resolve();\r\n    }\r\n  }\r\n\r\n  processDataChange(changes: DataSourceChangeEvent) {\r\n    if (this.shouldProcessChange(changes)) {\r\n      this.dataSet.setData(changes.elements, this.getSelectedItems());\r\n      if (this.settings.selectMode === 'single') {\r\n        if (this.dataSet.getRows().length > 0) {\r\n          const row = this.determineRowToSelect(changes);\r\n          this.onSelectRowSource.next(row);\r\n        } else {\r\n          this.onSelectRowSource.next(null);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  shouldProcessChange(changes: DataSourceChangeEvent): boolean {\r\n    if (['filter', 'sort', 'page', 'remove', 'refresh', 'load', 'empty', 'paging'].indexOf(changes.action) !== -1) {\r\n      return true;\r\n    } else if (['prepend', 'append'].indexOf(changes.action) !== -1 && (this.settings.pager?.display ?? true)) {\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  determineRowToSelect(changes: DataSourceChangeEvent): Row | null {\r\n\r\n    if (['load', 'page', 'filter', 'sort', 'refresh'].indexOf(changes.action) !== -1) {\r\n      return this.dataSet.select(this.getRowIndexToSelect());\r\n    }\r\n\r\n    if (this.selectedRowIndex < 0) {\r\n      return null;\r\n    }\r\n\r\n    if (changes.action === 'remove') {\r\n      if (changes.elements.length === 0) {\r\n        // we have to store which one to select as the data will be reloaded\r\n        this.dataSet.willSelectLastRow();\r\n      } else {\r\n        return this.dataSet.selectPreviousRow();\r\n      }\r\n    }\r\n    if (changes.action === 'append') {\r\n      // we have to store which one to select as the data will be reloaded\r\n      this.dataSet.willSelectLastRow();\r\n    }\r\n    if (changes.action === 'add') {\r\n      return this.dataSet.selectFirstRow();\r\n    }\r\n    if (changes.action === 'update') {\r\n      return this.dataSet.selectFirstRow();\r\n    }\r\n    if (changes.action === 'prepend') {\r\n      // we have to store which one to select as the data will be reloaded\r\n      this.dataSet.willSelectFirstRow();\r\n    }\r\n    return null;\r\n  }\r\n\r\n  prepareSource(source: DataSource): DataSource {\r\n    let sortConf: Array<ISortConfig> = [];\r\n    for (const column of this.getColumns()) {\r\n      if (column.isSortable && column.defaultSortDirection !== null) {\r\n        sortConf.push({\r\n          field: column.id,\r\n          direction: column.defaultSortDirection,\r\n          compare: column.compareFunction,\r\n        });\r\n      }\r\n    }\r\n    source.setSort(sortConf, false);\r\n    source.setPaging(this.getPageToSelect(source), this.settings.pager?.perPage ?? 10, false);\r\n\r\n    source.refresh();\r\n    return source;\r\n  }\r\n\r\n  getSelectedItems(): Array<any> {\r\n    return this.source.getSelectedItems();\r\n  }\r\n\r\n  async selectAllRows(status: boolean) {\r\n    // remember that the data set of the grid only contains the visible elements on the current page\r\n    this.dataSet.getRows().forEach(r => r.isSelected = status);\r\n\r\n    // advise the data source to also update the selected elements\r\n    await this.source.selectAllItems(status, this.settings.selectMode === 'multi_filtered');\r\n  }\r\n\r\n  getFirstRow(): Row {\r\n    return this.dataSet.getFirstRow();\r\n  }\r\n\r\n  getLastRow(): Row {\r\n    return this.dataSet.getLastRow();\r\n  }\r\n\r\n  private getSelectionInfo(): { perPage: number, page: number, selectedRowIndex: number, switchPageToSelectedRowPage: boolean } {\r\n    return {\r\n      perPage: this.settings.pager?.perPage ?? 10,\r\n      page: this.settings.pager?.page ?? 1,\r\n      selectedRowIndex: this.selectedRowIndex,\r\n      switchPageToSelectedRowPage: this.settings.switchPageToSelectedRowPage ?? false,\r\n    };\r\n  }\r\n\r\n  private getRowIndexToSelect(): number {\r\n    const {switchPageToSelectedRowPage, selectedRowIndex, perPage} = this.getSelectionInfo();\r\n    const dataAmount: number = this.source.count();\r\n    /**\r\n     * source - contains all table data\r\n     * dataSet - contains data for current page\r\n     * selectedRowIndex - contains index for data in all data\r\n     *\r\n     * because of that, we need to count index for a specific row in page\r\n     * if\r\n     * `switchPageToSelectedRowPage` - we need to change page automatically\r\n     * `selectedRowIndex < dataAmount && selectedRowIndex >= 0` - index points to existing data\r\n     * (if index points to non-existing data and we calculate index for current page - we will get wrong selected row.\r\n     *  if we return index witch not points to existing data - no line will be highlighted)\r\n     */\r\n    return (\r\n      switchPageToSelectedRowPage &&\r\n      selectedRowIndex < dataAmount &&\r\n      selectedRowIndex >= 0\r\n    ) ?\r\n      selectedRowIndex % perPage :\r\n      selectedRowIndex;\r\n  }\r\n\r\n  private getPageToSelect(source: DataSource): number {\r\n    const {switchPageToSelectedRowPage, selectedRowIndex, perPage, page} = this.getSelectionInfo();\r\n    let pageToSelect: number = Math.max(1, page);\r\n    if (switchPageToSelectedRowPage && selectedRowIndex >= 0) {\r\n      pageToSelect = getPageForRowIndex(selectedRowIndex, perPage);\r\n    }\r\n    const maxPageAmount: number = Math.ceil(source.count() / perPage);\r\n    return maxPageAmount ? Math.min(pageToSelect, maxPageAmount) : pageToSelect;\r\n  }\r\n\r\n  showCreateForm() {\r\n    // if already shown, do nothing\r\n    if (this.createFormShown) return;\r\n\r\n    const vcf = this.settings.valueCreateFunction ?? (() => ({}));\r\n    this.createFormRow = new Row(-1, vcf(), this.dataSet);\r\n    this.createFormRow.isInEditing = true;\r\n    this.createFormShown = true;\r\n  }\r\n}\r\n","import {Component, Input, OnChanges, OnDestroy, SimpleChanges} from '@angular/core';\r\nimport {Subscription} from 'rxjs';\r\n\r\nimport {DataSource} from '../../lib/data-source/data-source';\r\n\r\n@Component({\r\n    selector: 'angular2-smart-table-pager',\r\n    styleUrls: ['./pager.component.scss'],\r\n    template: `\r\n    <nav *ngIf=\"shouldShow()\" class=\"angular2-smart-pagination-nav\">\r\n      <ul class=\"angular2-smart-pagination pagination\">\r\n        <li class=\"angular2-smart-page-item page-item\" [ngClass]=\"{disabled: getPage() == 1}\">\r\n          <a class=\"angular2-smart-page-link page-link\" href=\"#\"\r\n          (click)=\"getPage() == 1 ? false : paginate(1)\" aria-label=\"First\">\r\n            <span aria-hidden=\"true\">&laquo;</span>\r\n            <span class=\"sr-only\">First</span>\r\n          </a>\r\n        </li>\r\n        <li class=\"angular2-smart-page-item page-item\" [ngClass]=\"{disabled: getPage() == 1}\">\r\n          <a class=\"angular2-smart-page-link page-link page-link-prev\" href=\"#\"\r\n             (click)=\"getPage() == 1 ? false : prev()\" aria-label=\"Prev\">\r\n            <span aria-hidden=\"true\">&lt;</span>\r\n            <span class=\"sr-only\">Prev</span>\r\n          </a>\r\n        </li>\r\n        <li class=\"angular2-smart-page-item page-item\"\r\n        [ngClass]=\"{active: getPage() == page}\" *ngFor=\"let page of getPages()\">\r\n          <span class=\"angular2-smart-page-link page-link\"\r\n          *ngIf=\"getPage() == page\">{{ page }} <span class=\"sr-only\">(current)</span></span>\r\n          <a class=\"angular2-smart-page-link page-link\" href=\"#\"\r\n          (click)=\"paginate(page)\" *ngIf=\"getPage() != page\">{{ page }}</a>\r\n        </li>\r\n\r\n        <li class=\"angular2-smart-page-item page-item\"\r\n            [ngClass]=\"{disabled: getPage() == getLast()}\">\r\n          <a class=\"angular2-smart-page-link page-link page-link-next\" href=\"#\"\r\n             (click)=\"getPage() == getLast() ? false : next()\" aria-label=\"Next\">\r\n            <span aria-hidden=\"true\">&gt;</span>\r\n            <span class=\"sr-only\">Next</span>\r\n          </a>\r\n        </li>\r\n\r\n        <li class=\"angular2-smart-page-item page-item\"\r\n        [ngClass]=\"{disabled: getPage() == getLast()}\">\r\n          <a class=\"angular2-smart-page-link page-link\" href=\"#\"\r\n          (click)=\"getPage() == getLast() ? false : paginate(getLast())\" aria-label=\"Last\">\r\n            <span aria-hidden=\"true\">&raquo;</span>\r\n            <span class=\"sr-only\">Last</span>\r\n          </a>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n    <div *ngIf=\"!shouldShow()\"><!-- placeholder to consume the space of the page selection --></div>\r\n\r\n    <nav *ngIf=\"perPageSelect && perPageSelect.length > 0\" class=\"angular2-smart-pagination-per-page\">\r\n      <label for=\"per-page\" *ngIf=\"perPageSelectLabel\">{{perPageSelectLabel}}</label>\r\n      <select (change)=\"onChangePerPage($any($event.target).value)\" [value]=\"perPage\" id=\"per-page\">\r\n        <option *ngFor=\"let item of perPageSelect\" [value]=\"item\">{{ item }}</option>\r\n      </select>\r\n    </nav>\r\n  `,\r\n    standalone: false\r\n})\r\nexport class PagerComponent implements OnChanges, OnDestroy {\r\n\r\n  @Input() source!: DataSource;\r\n  @Input() perPageSelect!: number[];\r\n  @Input() perPageSelectLabel!: string;\r\n\r\n  protected pages!: Array<any>;\r\n  protected page!: number;\r\n  protected count: number = 0;\r\n  protected perPage!: number;\r\n\r\n  protected dataChangedSub: Subscription | null = null;\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (changes.source) {\r\n      if (this.dataChangedSub !== null) {\r\n        this.dataChangedSub.unsubscribe();\r\n      }\r\n      this.dataChangedSub = this.source.onChanged().subscribe((dataChanges) => {\r\n        this.page = this.source.getPaging().page;\r\n        this.perPage = this.source.getPaging().perPage;\r\n        this.count = this.source.count();\r\n        const lastPage = this.getLast();\r\n        if (dataChanges.action === 'prepend') {\r\n          this.source.setPage(1);\r\n        } else if (dataChanges.action === 'append') {\r\n          this.source.setPage(lastPage);\r\n        } else if (this.page > lastPage) {\r\n          this.source.setPage(lastPage);\r\n        } else if (this.page < 1) {\r\n          // for whatever reason...\r\n          this.source.setPage(1);\r\n        } else {\r\n          // do not execute the following function when we needed to adjust the page!\r\n          // another event will be emitted and as a reaction we will end up here again\r\n          // (in previous versions, this code was executed unnecessarily often)\r\n          this.initPages();\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (this.dataChangedSub !== null) {\r\n      this.dataChangedSub.unsubscribe();\r\n      this.dataChangedSub = null;\r\n    }\r\n  }\r\n\r\n  shouldShow(): boolean {\r\n    return this.source.count() > this.perPage;\r\n  }\r\n\r\n  paginate(page: number): boolean {\r\n    this.source.setPage(page);\r\n    this.page = page;\r\n    return false;\r\n  }\r\n\r\n  next(): boolean {\r\n    return this.paginate(this.getPage() + 1);\r\n  }\r\n\r\n  prev(): boolean {\r\n    return this.paginate(this.getPage() - 1);\r\n  }\r\n\r\n  getPage(): number {\r\n    return this.page;\r\n  }\r\n\r\n  getPages(): Array<any> {\r\n    return this.pages;\r\n  }\r\n\r\n  getLast(): number {\r\n    const last = Math.ceil(this.count / this.perPage);\r\n    return last === 0 ? 1 : last;\r\n  }\r\n\r\n  initPages() {\r\n    const pagesCount = this.getLast();\r\n    let showPagesCount = 4;\r\n    showPagesCount = pagesCount < showPagesCount ? pagesCount : showPagesCount;\r\n    this.pages = [];\r\n\r\n    if (this.shouldShow()) {\r\n\r\n      let middleOne = Math.ceil(showPagesCount / 2);\r\n      middleOne = this.page >= middleOne ? this.page : middleOne;\r\n\r\n      let lastOne = middleOne + Math.floor(showPagesCount / 2);\r\n      lastOne = lastOne >= pagesCount ? pagesCount : lastOne;\r\n\r\n      const firstOne = lastOne - showPagesCount + 1;\r\n\r\n      for (let i = firstOne; i <= lastOne; i++) {\r\n        this.pages.push(i);\r\n      }\r\n    }\r\n  }\r\n\r\n  onChangePerPage(newPerPage: number) {\r\n    this.source.getPaging().perPage = newPerPage;\r\n    this.source.refresh();\r\n    this.initPages();\r\n  }\r\n\r\n}\r\n","import {Component, EventEmitter, Input, Output} from '@angular/core';\r\n\r\nimport {Cell} from '../../../lib/data-set/cell';\r\n\r\n@Component({\r\n    template: '',\r\n    standalone: false\r\n})\r\nexport class EditCellDefault {\r\n\r\n  @Input() cell!: Cell;\r\n  @Input() inputClass: string = '';\r\n\r\n  @Output() edited = new EventEmitter<void>();\r\n  @Output() stopEditing = new EventEmitter<void>();\r\n\r\n  onEdited(): boolean {\r\n    this.edited.emit();\r\n    return false;\r\n  }\r\n\r\n  onStopEditing(): boolean {\r\n    this.stopEditing.emit();\r\n    return false;\r\n  }\r\n\r\n  onClick(event: MouseEvent) {\r\n    event.stopPropagation();\r\n  }\r\n}\r\n","import {Component, OnChanges, OnDestroy, SimpleChanges, ViewChild, ViewContainerRef,} from '@angular/core';\r\n\r\nimport {EditCellDefault} from './edit-cell-default';\r\n\r\n@Component({\r\n    selector: 'table-cell-custom-editor',\r\n    template: `\r\n    <ng-template #dynamicTarget></ng-template>\r\n  `,\r\n    standalone: false\r\n})\r\nexport class CustomEditComponent extends EditCellDefault implements OnChanges, OnDestroy {\r\n\r\n  customComponent: any;\r\n  @ViewChild('dynamicTarget', { read: ViewContainerRef, static: true }) dynamicTarget!: ViewContainerRef;\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (this.cell && !this.customComponent) {\r\n      const editor = this.cell.getColumn().editor;\r\n      if (!editor) return;\r\n      this.customComponent = this.dynamicTarget.createComponent(editor.component);\r\n\r\n      // set @Inputs and @Outputs of custom component\r\n      this.customComponent.instance.cell = this.cell;\r\n      this.customComponent.instance.inputClass = this.inputClass;\r\n      this.customComponent.instance.onStopEditing.subscribe(() => this.onStopEditing());\r\n      this.customComponent.instance.onEdited.subscribe(() => this.onEdited());\r\n      this.customComponent.instance.onClick.subscribe((event: MouseEvent) => this.onClick(event));\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (this.customComponent) {\r\n      this.customComponent.destroy();\r\n    }\r\n  }\r\n}\r\n","import {Component, EventEmitter, Input, Output} from '@angular/core';\r\n\r\nimport {Cell} from '../../../lib/data-set/cell';\r\n\r\n@Component({\r\n    template: '',\r\n    standalone: false\r\n})\r\nexport class DefaultEditor implements Editor {\r\n  @Input() cell!: Cell;\r\n  @Input() inputClass!: string;\r\n\r\n  @Output() onStopEditing = new EventEmitter<void>();\r\n  @Output() onEdited = new EventEmitter<void>();\r\n  @Output() onClick = new EventEmitter<MouseEvent>();\r\n\r\n  get disableEnterKeySave(): boolean {\r\n    return this.cell.getColumn().getConfig() && this.cell.getColumn().getConfig().disableEnterKeySave;\r\n  }\r\n}\r\n\r\nexport interface Editor {\r\n  cell: Cell;\r\n  inputClass: string;\r\n  onStopEditing: EventEmitter<void>;\r\n  onEdited: EventEmitter<void>;\r\n  onClick: EventEmitter<MouseEvent>;\r\n}\r\n","import {Component, OnInit} from '@angular/core';\r\n\r\nimport {DefaultEditor} from './default-editor';\r\nimport {CheckboxEditorSettings} from \"../../../lib/settings\";\r\n\r\n@Component({\r\n    selector: 'checkbox-editor',\r\n    styleUrls: ['./editor.component.scss'],\r\n    template: `\r\n    <input [ngClass]=\"inputClass\"\r\n           type=\"checkbox\"\r\n           [name]=\"cell.getId()\"\r\n           [disabled]=\"!cell.isEditable()\"\r\n           [checked]=\"cell.getValue() === trueVal\"\r\n           (click)=\"onClick.emit($event)\"\r\n           (change)=\"onChange($any($event.target).checked)\">\r\n    `,\r\n    standalone: false\r\n})\r\nexport class CheckboxEditorComponent extends DefaultEditor implements OnInit {\r\n\r\n  trueVal = 'true';\r\n  falseVal = 'false';\r\n\r\n  constructor() {\r\n    super();\r\n  }\r\n\r\n  ngOnInit() {\r\n    const config = this.cell.getColumn().editor.config;\r\n    if (config !== undefined) {\r\n      const ces = config as CheckboxEditorSettings;\r\n      this.trueVal = ces.true;\r\n      this.falseVal = ces.false;\r\n    }\r\n  }\r\n\r\n  onChange(newVal: boolean) {\r\n    this.cell.setValue(newVal ? this.trueVal : this.falseVal);\r\n  }\r\n}\r\n","import {Component} from '@angular/core';\r\n\r\nimport {DefaultEditor} from './default-editor';\r\n\r\n@Component({\r\n    selector: 'input-editor',\r\n    styleUrls: ['./editor.component.scss'],\r\n    template: `\r\n    <input [ngClass]=\"inputClass\"\r\n           [value]=\"cell.getValue()\"\r\n           [name]=\"cell.getId()\"\r\n           [placeholder]=\"cell.getTitle()\"\r\n           [disabled]=\"!cell.isEditable()\"\r\n           (click)=\"onClick.emit($event)\"\r\n           (keyup)=\"cell.setValue($any($event.target).value)\"\r\n           (keydown.enter)=\"disableEnterKeySave || onEdited.emit()\"\r\n           (keydown.esc)=\"onStopEditing.emit()\">\r\n    `,\r\n    standalone: false\r\n})\r\nexport class InputEditorComponent extends DefaultEditor {\r\n\r\n  constructor() {\r\n    super();\r\n  }\r\n}\r\n","import {Component} from '@angular/core';\n\nimport {DefaultEditor} from './default-editor';\nimport {ListEditorSettings} from \"../../../lib/settings\";\n\n@Component({\n    selector: 'select-editor',\n    styleUrls: ['./editor.component.scss'],\n    template: `\n    <select [ngClass]=\"inputClass\"\n            (change)=\"onSelectionChanged($any($event.target).value)\"\n            [name]=\"cell.getId()\"\n            [disabled]=\"!cell.isEditable()\"\n            (click)=\"onClick.emit($event)\"\n            (keydown.enter)=\"disableEnterKeySave || onEdited.emit()\"\n            (keydown.esc)=\"onStopEditing.emit()\"\n    >\n        <option value=\"\">{{ editorConfig.selectText ?? 'Select...' }}</option>\n        <option *ngFor=\"let option of editorConfig.list\" [value]=\"option.value\"\n                [selected]=\"option.value === cell.getRawValue()\">{{ option.title }}\n        </option>\n    </select>\n    `,\n    standalone: false\n})\nexport class SelectEditorComponent extends DefaultEditor {\n\n  constructor() {\n    super();\n  }\n\n  get editorConfig(): ListEditorSettings {\n    return this.cell.getColumn().getConfig();\n  }\n\n  onSelectionChanged(newValue: string) {\n    this.cell.setValue(newValue);\n  }\n}\n","import {Component} from '@angular/core';\r\n\r\nimport {DefaultEditor} from './default-editor';\r\n\r\n@Component({\r\n    selector: 'textarea-editor',\r\n    styleUrls: ['./editor.component.scss'],\r\n    template: `\r\n    <textarea [ngClass]=\"inputClass\"\r\n              [value]=\"cell.getValue()\"\r\n              [name]=\"cell.getId()\"\r\n              [disabled]=\"!cell.isEditable()\"\r\n              [placeholder]=\"cell.getTitle()\"\r\n              (click)=\"onClick.emit($event)\"\r\n              (keyup)=\"cell.setValue($any($event.target).value)\"\r\n              (keydown.enter)=\"disableEnterKeySave || onEdited.emit()\"\r\n              (keydown.esc)=\"onStopEditing.emit()\">\r\n    </textarea>\r\n    `,\r\n    standalone: false\r\n})\r\nexport class TextareaEditorComponent extends DefaultEditor {\r\n\r\n  constructor() {\r\n    super();\r\n  }\r\n}\r\n","import {Component} from '@angular/core';\r\n\r\nimport {EditCellDefault} from './edit-cell-default';\r\n\r\n@Component({\r\n    selector: 'table-cell-default-editor',\r\n    templateUrl: './default-edit.component.html',\r\n    standalone: false\r\n})\r\nexport class DefaultEditComponent extends EditCellDefault {\r\n\r\n  constructor() {\r\n    super();\r\n  }\r\n\r\n  getEditorType(): string {\r\n    const editor = this.cell.getColumn().editor\r\n    if (!editor) {\r\n      return 'default';\r\n    }\r\n    return editor.type;\r\n  }\r\n}\r\n","<div [ngSwitch]=\"getEditorType()\">\r\n    <select-editor *ngSwitchCase=\"'list'\"\r\n                   [cell]=\"cell\"\r\n                   [inputClass]=\"inputClass\"\r\n                   (onClick)=\"onClick($event)\"\r\n                   (onEdited)=\"onEdited()\"\r\n                   (onStopEditing)=\"onStopEditing()\">\r\n    </select-editor>\r\n\r\n    <textarea-editor *ngSwitchCase=\"'textarea'\"\r\n                     [cell]=\"cell\"\r\n                     [inputClass]=\"inputClass\"\r\n                     (onClick)=\"onClick($event)\"\r\n                     (onEdited)=\"onEdited()\"\r\n                     (onStopEditing)=\"onStopEditing()\">\r\n    </textarea-editor>\r\n\r\n    <checkbox-editor *ngSwitchCase=\"'checkbox'\"\r\n                     [cell]=\"cell\"\r\n                     [inputClass]=\"inputClass\"\r\n                     (onClick)=\"onClick($event)\">\r\n    </checkbox-editor>\r\n\r\n    <input-editor *ngSwitchDefault\r\n                  [cell]=\"cell\"\r\n                  [inputClass]=\"inputClass\"\r\n                  (onClick)=\"onClick($event)\"\r\n                  (onEdited)=\"onEdited()\"\r\n                  (onStopEditing)=\"onStopEditing()\">\r\n    </input-editor>\r\n</div>\r\n","import {Component, EventEmitter, Input, OnInit, Output} from '@angular/core';\r\n\r\nimport {Cell} from '../../../lib/data-set/cell';\r\n\r\n@Component({\r\n    selector: 'table-cell-edit-mode',\r\n    template: `\r\n      <div [ngSwitch]=\"getEditorType()\">\r\n        <table-cell-custom-editor *ngSwitchCase=\"'custom'\"\r\n                                  [cell]=\"cell\"\r\n                                  [inputClass]=\"inputClass\"\r\n                                  (edited)=\"edited.emit()\"\r\n                                  (stopEditing)=\"stopEditing.emit()\"\r\n        ></table-cell-custom-editor>\r\n        <table-cell-default-editor *ngSwitchDefault\r\n                                   [cell]=\"cell\"\r\n                                   [inputClass]=\"inputClass\"\r\n                                   (edited)=\"edited.emit()\"\r\n                                   (stopEditing)=\"stopEditing.emit()\"\r\n        ></table-cell-default-editor>\r\n      </div>\r\n    `,\r\n    standalone: false\r\n})\r\nexport class EditCellComponent implements OnInit {\r\n\r\n  @Input() cell!: Cell;\r\n  @Input() inputClass: string = '';\r\n\r\n  @Output() edited = new EventEmitter<void>();\r\n  @Output() stopEditing = new EventEmitter<void>();\r\n\r\n  ngOnInit(): void {\r\n    this.cell.resetValue();\r\n  }\r\n\r\n  getEditorType(): string {\r\n    const editor = this.cell.getColumn().editor\r\n    if (!editor) {\r\n      return 'default';\r\n    }\r\n    return editor.type;\r\n  }\r\n}\r\n","import {Component, Input, OnDestroy, OnInit, ViewChild, ViewContainerRef,} from '@angular/core';\r\n\r\nimport {Cell} from '../../../lib/data-set/cell';\r\n\r\n@Component({\r\n    selector: 'custom-view-component',\r\n    template: `\r\n    <ng-template #dynamicTarget></ng-template>\r\n  `,\r\n    standalone: false\r\n})\r\nexport class CustomViewComponent implements OnInit, OnDestroy {\r\n\r\n  customComponent: any;\r\n  @Input() cell!: Cell;\r\n  @ViewChild('dynamicTarget', { read: ViewContainerRef, static: true }) dynamicTarget!: ViewContainerRef;\r\n\r\n  ngOnInit() {\r\n    if (this.cell && !this.customComponent) {\r\n      this.customComponent = this.dynamicTarget.createComponent(this.cell.getColumn().renderComponent);\r\n      const componentInitFunction = this.cell.getColumn().componentInitFunction;\r\n      if (componentInitFunction === undefined) {\r\n        console.error('Since version 3.0.0, a custom renderer always needs a componentInitFunction');\r\n      } else {\r\n        componentInitFunction(this.customComponent.instance, this.cell);\r\n      }\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.customComponent.destroy();\r\n  }\r\n}\r\n","import {Pipe, PipeTransform} from '@angular/core';\r\nimport {DomSanitizer, SafeHtml, SafeResourceUrl, SafeScript, SafeStyle, SafeUrl} from '@angular/platform-browser';\r\n\r\nexport type SecurityTrustType = 'html'|'style'|'script'|'url'|'resourceUrl'|'none';\r\n\r\n@Pipe({\r\n    name: 'bypassSecurityTrust',\r\n    standalone: false\r\n})\r\nexport class BypassSecurityTrustPipe implements PipeTransform {\r\n\r\n  constructor(protected sanitizer: DomSanitizer) {}\r\n\r\n  public transform(value: string, type: SecurityTrustType): SafeHtml | SafeStyle | SafeScript | SafeUrl | SafeResourceUrl {\r\n    switch (type) {\r\n      case 'html': return this.sanitizer.bypassSecurityTrustHtml(value);\r\n      case 'style': return this.sanitizer.bypassSecurityTrustStyle(value);\r\n      case 'script': return this.sanitizer.bypassSecurityTrustScript(value);\r\n      case 'url': return this.sanitizer.bypassSecurityTrustUrl(value);\r\n      case 'resourceUrl': return this.sanitizer.bypassSecurityTrustResourceUrl(value);\r\n      case 'none': return value;\r\n    }\r\n  }\r\n}\r\n","import {ChangeDetectionStrategy, Component, Input} from '@angular/core';\r\n\r\nimport {Cell} from '../../../lib/data-set/cell';\r\nimport {SecurityTrustType} from '../../../pipes/bypass-security-trust.pipe';\r\n\r\n@Component({\r\n    selector: 'table-cell-view-mode',\r\n    changeDetection: ChangeDetectionStrategy.OnPush,\r\n    template: `\r\n    <div [ngSwitch]=\"cell.getColumn().type\">\r\n        <custom-view-component *ngSwitchCase=\"'custom'\" [cell]=\"cell\"></custom-view-component>\r\n        <div *ngSwitchCase=\"'html'\" [innerHTML]=\"cell.getValue() | bypassSecurityTrust: bypassSecurityTrust\" [ngClass]=\"cssClass\"></div>\r\n        <div *ngSwitchDefault [ngClass]=\"cssClass\">{{ cell.getValue() }}</div>\r\n    </div>\r\n    `,\r\n    standalone: false\r\n})\r\nexport class ViewCellComponent {\r\n\r\n  @Input() cell!: Cell;\r\n\r\n  get bypassSecurityTrust(): SecurityTrustType {\r\n    return this.cell.getColumn().sanitizer.bypassHtml ? 'html' : 'none';\r\n  }\r\n\r\n  get cssClass(): string {\r\n    return this.cell.getColumn().classContent;\r\n  }\r\n}\r\n","import {Component, EventEmitter, Input} from '@angular/core';\r\n\r\nimport {Grid} from '../../lib/grid';\r\nimport {Cell} from '../../lib/data-set/cell';\r\nimport {Row} from '../../lib/data-set/row';\r\nimport {CreateCancelEvent, CreateConfirmEvent, EditCancelEvent, EditConfirmEvent} from '../../lib/events';\r\n\r\n@Component({\r\n    selector: 'angular2-smart-table-cell',\r\n    template: `\r\n    <table-cell-view-mode *ngIf=\"!isInEditing\" [cell]=\"cell\"></table-cell-view-mode>\r\n    <table-cell-edit-mode *ngIf=\"isInEditing\" [cell]=\"cell\"\r\n                          [inputClass]=\"inputClass\"\r\n                          (edited)=\"onEdited()\"\r\n                          (stopEditing)=\"onStopEditing()\"\r\n    ></table-cell-edit-mode>\r\n  `,\r\n    standalone: false\r\n})\r\nexport class CellComponent {\r\n\r\n  @Input() grid!: Grid;\r\n  @Input() row!: Row;\r\n  @Input() cell!: Cell;\r\n  @Input() inputClass: string = '';\r\n  @Input() mode: string = 'inline';\r\n  @Input() isInEditing: boolean = false;\r\n  @Input() isNew!: boolean;\r\n  // if isNew === false\r\n  @Input() editConfirm!: EventEmitter<EditConfirmEvent>;\r\n  @Input() editCancel!: EventEmitter<EditCancelEvent>;\r\n  // if isNew === true\r\n  @Input() createConfirm!: EventEmitter<CreateConfirmEvent>;\r\n  @Input() createCancel!: EventEmitter<CreateCancelEvent>;\r\n\r\n  onEdited() {\r\n    if (this.isNew) {\r\n      this.grid.create(this.grid.createFormRow, this.createConfirm);\r\n    } else {\r\n      this.grid.save(this.row, this.editConfirm);\r\n    }\r\n  }\r\n\r\n  onStopEditing() {\r\n    if (this.isNew) {\r\n      this.grid.createFormShown = false;\r\n      this.createCancel.emit({\r\n        discardedData: this.grid.createFormRow.getNewData(),\r\n        source: this.grid.source,\r\n      });\r\n    } else {\r\n      this.row.isInEditing = false;\r\n      this.editCancel.emit({\r\n        row: this.row,\r\n        data: this.row.getData(),\r\n        discardedData: this.row.getNewData(),\r\n        source: this.grid.source,\r\n      });\r\n    }\r\n  }\r\n}\r\n","import {Component, EventEmitter, Input, OnChanges} from '@angular/core';\r\n\r\nimport {Grid} from '../../../lib/grid';\r\nimport {Row} from '../../../lib/data-set/row';\r\nimport {EditCancelEvent, EditConfirmEvent} from '../../../lib/events';\r\nimport {SecurityTrustType} from '../../../pipes/bypass-security-trust.pipe';\r\n\r\n@Component({\r\n    // TODO: @breaking-change rename the selector to angular2-st-tbody-save-cancel in the next major version\r\n    selector: 'angular2-st-tbody-create-cancel',\r\n    template: `\r\n    <a href=\"#\" class=\"angular2-smart-action angular2-smart-action-edit-save\"\r\n        [innerHTML]=\"saveButtonContent | bypassSecurityTrust: bypassSecurityTrust\" (click)=\"onSave($event)\"></a>\r\n    <a href=\"#\" class=\"angular2-smart-action angular2-smart-action-edit-cancel\"\r\n        [innerHTML]=\"cancelButtonContent | bypassSecurityTrust: bypassSecurityTrust\" (click)=\"onCancelEdit($event)\"></a>\r\n  `,\r\n    standalone: false\r\n})\r\nexport class TbodySaveCancelComponent implements OnChanges {\r\n\r\n  @Input() grid!: Grid;\r\n  @Input() row!: Row;\r\n  @Input() editConfirm!: EventEmitter<EditConfirmEvent>;\r\n  @Input() editCancel!: EventEmitter<EditCancelEvent>;\r\n\r\n  cancelButtonContent!: string;\r\n  saveButtonContent!: string;\r\n  bypassSecurityTrust: SecurityTrustType = 'none';\r\n\r\n  onSave(event: MouseEvent) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n\r\n    this.grid.save(this.row, this.editConfirm);\r\n  }\r\n\r\n  onCancelEdit(event: MouseEvent) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n\r\n    this.row.isInEditing = false;\r\n    this.editCancel.emit({\r\n      row: this.row,\r\n      data: this.row.getData(),\r\n      discardedData: this.row.getNewData(),\r\n      source: this.grid.source,\r\n    });\r\n  }\r\n\r\n  ngOnChanges() {\r\n    // we can assume that default settings have been applied and all values are defined\r\n    this.saveButtonContent = this.grid.settings.edit!.saveButtonContent!;\r\n    this.cancelButtonContent = this.grid.settings.edit!.cancelButtonContent!;\r\n    this.bypassSecurityTrust = this.grid.settings.edit?.sanitizer?.bypassHtml ? 'html' : 'none';\r\n  }\r\n}\r\n","import {ChangeDetectionStrategy, Component, EventEmitter, Input, OnChanges, Output} from '@angular/core';\r\n\r\nimport {Grid} from '../../../lib/grid';\r\nimport {Row} from '../../../lib/data-set/row';\r\nimport {DataSource} from '../../../lib/data-source/data-source';\r\nimport {DeleteConfirmEvent, DeleteEvent, EditEvent} from '../../../lib/events';\r\nimport {SecurityTrustType} from '../../../pipes/bypass-security-trust.pipe';\r\n\r\n@Component({\r\n    selector: 'angular2-st-tbody-edit-delete',\r\n    changeDetection: ChangeDetectionStrategy.OnPush,\r\n    template: `\r\n    <a href=\"#\" *ngIf=\"editVisible\" class=\"angular2-smart-action angular2-smart-action-edit-edit\"\r\n       [ngClass]=\"{'not-allowed': editDisabled}\"\r\n       [innerHTML]=\"editRowButtonContent | bypassSecurityTrust: editButtonBypassSecurityTrust\"\r\n       (click)=\"onEdit($event)\"></a>\r\n    <a href=\"#\" *ngIf=\"deleteVisible\" class=\"angular2-smart-action angular2-smart-action-delete-delete\"\r\n       [ngClass]=\"{'not-allowed': deleteDisabled}\"\r\n       [innerHTML]=\"deleteRowButtonContent | bypassSecurityTrust: deleteButtonBypassSecurityTrust\" (click)=\"onDelete($event)\"></a>\r\n  `,\r\n    standalone: false\r\n})\r\nexport class TbodyEditDeleteComponent implements OnChanges {\r\n\r\n  @Input() grid!: Grid;\r\n  @Input() row!: Row;\r\n  @Input() source!: DataSource;\r\n  @Input() deleteConfirm!: EventEmitter<DeleteConfirmEvent>;\r\n\r\n  @Output() edit = new EventEmitter<EditEvent>();\r\n  @Output() delete = new EventEmitter<DeleteEvent>();\r\n  @Output() editRowSelect = new EventEmitter<any>();\r\n\r\n  editRowButtonContent!: string;\r\n  editButtonBypassSecurityTrust: SecurityTrustType = 'none';\r\n  editHiddenWhenFunction: (row: Row) => boolean = (_) => false;\r\n  editDisabledWhenFunction: (row: Row) => boolean = (_) => false;\r\n  deleteHiddenWhenFunction: (row: Row) => boolean = (_) => false;\r\n  deleteDisabledWhenFunction: (row: Row) => boolean = (_) => false;\r\n  deleteRowButtonContent!: string;\r\n  deleteButtonBypassSecurityTrust: SecurityTrustType = 'none';\r\n\r\n  onEdit(event: any) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    if (this.editDisabled) return;\r\n\r\n    this.editRowSelect.emit(this.row);\r\n\r\n    if (this.grid.settings.mode === 'external') {\r\n      this.edit.emit({\r\n        row: this.row,\r\n        data: this.row.getData(),\r\n        source: this.source,\r\n      });\r\n    } else {\r\n      this.grid.edit(this.row);\r\n    }\r\n  }\r\n\r\n  onDelete(event: any) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    if (this.deleteDisabled) return;\r\n\r\n    if (this.grid.settings.mode === 'external') {\r\n      this.delete.emit({\r\n        row: this.row,\r\n        data: this.row.getData(),\r\n        source: this.source,\r\n      });\r\n    } else {\r\n      this.grid.delete(this.row, this.deleteConfirm);\r\n    }\r\n  }\r\n\r\n  get editVisible(): boolean {\r\n    return !this.editHiddenWhenFunction(this.row);\r\n  }\r\n\r\n  get editDisabled(): boolean {\r\n    return this.editDisabledWhenFunction(this.row);\r\n  }\r\n\r\n  get deleteVisible(): boolean {\r\n    return !this.deleteHiddenWhenFunction(this.row);\r\n  }\r\n\r\n  get deleteDisabled(): boolean {\r\n    return this.deleteDisabledWhenFunction(this.row);\r\n  }\r\n\r\n  ngOnChanges() {\r\n    const actions = this.grid.settings.actions;\r\n    if (actions === false || actions === undefined) {\r\n      // handle the \"flexibility\" of this property....\r\n      this.editHiddenWhenFunction = (_) => (actions === false);\r\n      this.deleteHiddenWhenFunction = (_) => (actions === false);\r\n      return;\r\n    }\r\n\r\n    this.editRowButtonContent = this.grid.settings.edit?.editButtonContent ?? 'Edit';\r\n    this.editButtonBypassSecurityTrust = this.grid.settings.edit?.sanitizer?.bypassHtml ? 'html' : 'none';\r\n    this.editHiddenWhenFunction = this.grid.settings.edit?.hiddenWhen ?? ((_) => (actions.edit === false));\r\n    this.editDisabledWhenFunction = this.grid.settings.edit?.disabledWhen ?? this.editDisabledWhenFunction;\r\n    this.deleteRowButtonContent = this.grid.settings.delete?.deleteButtonContent ?? 'Delete';\r\n    this.deleteButtonBypassSecurityTrust = this.grid.settings.delete?.sanitizer?.bypassHtml ? 'html' : 'none';\r\n    this.deleteHiddenWhenFunction = this.grid.settings.delete?.hiddenWhen ?? ((_) => (actions.delete === false));\r\n    this.deleteDisabledWhenFunction = this.grid.settings.delete?.disabledWhen ?? this.deleteDisabledWhenFunction;\r\n  }\r\n}\r\n","import {Component, Input, OnDestroy, OnInit, ViewChild, ViewContainerRef} from '@angular/core';\r\nimport {Row} from '../../../lib/data-set/row';\r\nimport {CustomAction} from '../../../lib/settings';\r\n\r\n@Component({\r\n    selector: 'angular2-st-tbody-custom-item',\r\n    template: `\r\n    <ng-template #dynamicTarget></ng-template>\r\n  `,\r\n    standalone: false\r\n})\r\nexport class TbodyCustomItemComponent implements OnInit, OnDestroy {\r\n\r\n  customComponent: any;\r\n  @Input() action!: CustomAction;\r\n  @Input() row!: Row;\r\n  @ViewChild('dynamicTarget', { read: ViewContainerRef, static: true }) dynamicTarget!: ViewContainerRef;\r\n\r\n  ngOnInit() {\r\n    this.customComponent = this.dynamicTarget.createComponent(this.action.renderComponent);\r\n    Object.assign(this.customComponent.instance, this.getPatch());\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.customComponent.destroy();\r\n  }\r\n\r\n  protected getPatch() {\r\n    return {\r\n      action: this.action,\r\n      rowData: this.row.getData(),\r\n    };\r\n  }\r\n}\r\n","import {ChangeDetectionStrategy, Component, EventEmitter, Input, Output} from '@angular/core';\r\nimport {Row} from '../../../lib/data-set/row';\r\n\r\nimport {Grid} from '../../../lib/grid';\r\nimport {CustomAction} from '../../../lib/settings';\r\nimport {CustomActionEvent} from '../../../lib/events';\r\nimport {SecurityTrustType} from \"../../../pipes/bypass-security-trust.pipe\";\r\n\r\n@Component({\r\n    selector: 'angular2-st-tbody-custom',\r\n    changeDetection: ChangeDetectionStrategy.OnPush,\r\n    template: `\r\n      <ng-container *ngFor=\"let action of customActions\">\r\n          <a href=\"#\" class=\"angular2-smart-action angular2-smart-action-custom-custom\"\r\n             *ngIf=\"!action.renderComponent && showAction(action)\"\r\n             [ngClass]=\"{'not-allowed': disableAction(action)}\"\r\n             [innerHTML]=\"buttonContent(action) | bypassSecurityTrust: bypassSecurityTrustFor(action)\"\r\n             (click)=\"onCustom(action, $event)\"\r\n          ></a>\r\n          <a href=\"#\" class=\"angular2-smart-action angular2-smart-action-custom-custom\"\r\n             *ngIf=\"action.renderComponent && showAction(action)\"\r\n             [ngClass]=\"{'not-allowed': disableAction(action)}\"\r\n             (click)=\"onCustom(action, $event)\"\r\n          >\r\n              <angular2-st-tbody-custom-item\r\n                      class=\"angular2-smart-action angular2-smart-action-custom-custom\"\r\n                      [action]=\"action\"\r\n                      [row]=\"row\"\r\n              ></angular2-st-tbody-custom-item>\r\n          </a>\r\n      </ng-container>\r\n  `,\r\n    standalone: false\r\n})\r\nexport class TbodyCustomComponent {\r\n\r\n  @Input() grid!: Grid;\r\n  @Input() row!: Row;\r\n  @Input() source: any;\r\n  @Output() custom = new EventEmitter<CustomActionEvent>();\r\n\r\n  get customActions(): CustomAction[] {\r\n    if (this.grid.settings.actions === false) return [];\r\n    return this.grid.settings.actions?.custom ?? [];\r\n  }\r\n\r\n  buttonContent(action: CustomAction): string {\r\n    return action.customButtonContent ?? action.title ?? action.name;\r\n  }\r\n\r\n  bypassSecurityTrustFor(action: CustomAction): SecurityTrustType {\r\n    return (action.sanitizer?.bypassHtml ?? false) ? 'html' : 'none';\r\n  }\r\n\r\n  showAction(action: CustomAction): boolean {\r\n    return action.hiddenWhen === undefined || !action.hiddenWhen(this.row);\r\n  }\r\n\r\n  disableAction(action: CustomAction): boolean {\r\n    return action.disabledWhen !== undefined && action.disabledWhen(this.row);\r\n  }\r\n\r\n  onCustom(action: CustomAction, event: MouseEvent) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n\r\n    this.custom.emit({\r\n      action: action.name,\r\n      row: this.row,\r\n      data: this.row.getData(),\r\n      source: this.source,\r\n    });\r\n  }\r\n}\r\n","import {ChangeDetectionStrategy, Component, EventEmitter, Input, OnChanges, Output} from \"@angular/core\";\r\nimport {Row} from \"../../../lib/data-set/row\";\r\nimport {Grid} from \"../../../lib/grid\";\r\nimport {SecurityTrustType} from '../../../pipes/bypass-security-trust.pipe';\r\n\r\n@Component({\r\n    selector: 'angular2-st-tbody-expand',\r\n    changeDetection: ChangeDetectionStrategy.OnPush,\r\n    template: `\r\n      <a *ngIf=\"visible\" href=\"#\" class=\"angular2-smart-action angular2-smart-action-expand-expand\"\r\n         [ngClass]=\"{'not-allowed': disabled}\"\r\n         [innerHTML]=\"buttonContent | bypassSecurityTrust: bypassSecurityTrust\" (click)=\"onExpand($event)\"></a>\r\n    `,\r\n    standalone: false\r\n})\r\n  export class TbodyExpandRowComponent implements OnChanges {\r\n\r\n    @Input() grid!: Grid;\r\n    @Input() row!: Row;\r\n\r\n    @Output() onExpandRow = new EventEmitter<any>();\r\n\r\n    buttonContent!: string;\r\n    bypassSecurityTrust: SecurityTrustType = 'none';\r\n\r\n    hiddenWhenFunction: (row: Row) => boolean = (_) => false;\r\n    disabledWhenFunction: (row: Row) => boolean = (_) => false;\r\n\r\n    constructor(){\r\n    }\r\n\r\n    get visible(): boolean {\r\n      return !this.hiddenWhenFunction(this.row);\r\n    }\r\n\r\n    get disabled(): boolean {\r\n      return this.disabledWhenFunction(this.row);\r\n    }\r\n\r\n    onExpand(event: any) {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        if (!this.disabled) {\r\n          this.onExpandRow.emit(this.row);\r\n        }\r\n    }\r\n\r\n\r\n    ngOnChanges() {\r\n        this.buttonContent = this.grid.settings.expand?.buttonContent ?? 'Expand';\r\n        this.bypassSecurityTrust = this.grid.settings.expand?.sanitizer?.bypassHtml ? 'html' : 'none';\r\n\r\n        this.hiddenWhenFunction = this.grid.settings.expand?.hiddenWhen ?? this.hiddenWhenFunction;\r\n        this.disabledWhenFunction = this.grid.settings.expand?.disabledWhen ?? this.disabledWhenFunction;\r\n    }\r\n  }\r\n","import {\r\n  AfterViewInit,\r\n  Component,\r\n  EventEmitter,\r\n  Input,\r\n  OnChanges,\r\n  OnDestroy,\r\n  Output,\r\n  QueryList,\r\n  ViewChildren,\r\n  ViewContainerRef\r\n} from '@angular/core';\r\n\r\nimport {Grid} from '../../lib/grid';\r\nimport {DataSource} from '../../lib/data-source/data-source';\r\nimport {Cell} from '../../lib/data-set/cell';\r\nimport {delay} from 'rxjs/operators';\r\nimport {Row} from '../../lib/data-set/row';\r\nimport {\r\n  CustomActionEvent,\r\n  DeleteConfirmEvent,\r\n  DeleteEvent,\r\n  EditCancelEvent,\r\n  EditConfirmEvent,\r\n  EditEvent\r\n} from '../../lib/events';\r\nimport {RowClassFunction} from \"../../lib/settings\";\r\n\r\n@Component({\r\n    selector: '[angular2-st-tbody]',\r\n    styleUrls: ['./tbody.component.scss'],\r\n    templateUrl: './tbody.component.html',\r\n    standalone: false\r\n})\r\nexport class NgxSmartTableTbodyComponent implements AfterViewInit, OnChanges, OnDestroy {\r\n\r\n  @Input() grid!: Grid;\r\n  @Input() source!: DataSource;\r\n  @Input() deleteConfirm!: EventEmitter<DeleteConfirmEvent>;\r\n  @Input() editConfirm!: EventEmitter<EditConfirmEvent>;\r\n  @Input() editCancel!: EventEmitter<EditCancelEvent>;\r\n  @Input() rowClassFunction!: RowClassFunction;\r\n\r\n  @Output() edit = new EventEmitter<EditEvent>();\r\n  @Output() delete = new EventEmitter<DeleteEvent>();\r\n  @Output() custom = new EventEmitter<CustomActionEvent>();\r\n\r\n  @Output() userSelectRow = new EventEmitter<Row>();\r\n  @Output() editRowSelect = new EventEmitter<Row>();\r\n  @Output() multipleSelectRow = new EventEmitter<Row>();\r\n  @Output() rowHover = new EventEmitter<Row>();\r\n  @Output() onExpandRow = new EventEmitter<Row>();\r\n\r\n  @ViewChildren('expandedRowChild', { read: ViewContainerRef }) expandedRowChild!: QueryList<ViewContainerRef>;\r\n\r\n  expandedRowComponent: any;\r\n  hasChildComponent: boolean = false;\r\n\r\n  ngAfterViewInit(): void {\r\n    let cmp = this.grid.getExpandedRowComponentClass();\r\n    if (cmp !== undefined && !this.expandedRowComponent) {\r\n      this.expandedRowChild.forEach(c => c.clear());\r\n      this.hasChildComponent = true;\r\n      this.createExpandedRowComponent();\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    if (this.expandedRowComponent) this.expandedRowComponent.destroy();\r\n  }\r\n\r\n  private createExpandedRowComponent() {\r\n    const cmp = this.grid.getExpandedRowComponentClass();\r\n    if (cmp !== undefined) {\r\n      this.expandedRowChild.changes\r\n        .pipe(delay(0))\r\n        .subscribe((list: QueryList<ViewContainerRef>) => {\r\n          if (list.length) {\r\n            this.expandedRowComponent = list.first.createComponent(cmp);\r\n            Object.assign(this.expandedRowComponent.instance, this.grid.dataSet.expandRow, {\r\n              rowData: this.grid.dataSet.getExpandedRow().getData(),\r\n            });\r\n          }\r\n        });\r\n    }\r\n  }\r\n\r\n  isMultiSelectVisible!: boolean;\r\n  showActionColumnLeft!: boolean;\r\n  showActionColumnRight!: boolean;\r\n  mode!: string;\r\n  editInputClass!: string;\r\n  noDataMessage!: string;\r\n\r\n  get tableColumnsCount() {\r\n    const actionColumn = (this.showActionColumnLeft || this.showActionColumnRight) ? 1 : 0;\r\n    const selectColumn = this.isMultiSelectVisible ? 1 : 0;\r\n    return this.grid.getColumns().length + actionColumn + selectColumn;\r\n  }\r\n\r\n  ngOnChanges() {\r\n    this.isMultiSelectVisible = this.grid.isMultiSelectVisible();\r\n    this.showActionColumnLeft = this.grid.showActionColumn('left');\r\n    this.mode = this.grid.settings.mode ?? 'inline';\r\n    this.editInputClass = this.grid.settings.edit?.inputClass ?? '';\r\n    this.showActionColumnRight = this.grid.showActionColumn('right');\r\n    this.noDataMessage = this.grid.settings.noDataMessage!;\r\n  }\r\n\r\n  getVisibleCells(cells: Array<Cell>): Array<Cell> {\r\n    return (cells || []).filter((cell: Cell) => !cell.getColumn().hide);\r\n  }\r\n}\r\n","<ng-container  *ngFor=\"let row of grid.getRows()\">\r\n  <tr (click)=\"userSelectRow.emit(row)\" (mouseover)=\"rowHover.emit(row)\" class=\"angular2-smart-row\" [className]=\"rowClassFunction(row)\" [ngClass]=\"{selected: row.isSelected}\">\r\n    <td *ngIf=\"isMultiSelectVisible\" class=\"angular2-smart-actions angular2-smart-action-multiple-select\" (click)=\"multipleSelectRow.emit(row)\">\r\n      <input type=\"checkbox\" [checked]=\"row.isSelected\">\r\n    </td>\r\n    <td *ngIf=\"!row.isInEditing && showActionColumnLeft\" class=\"angular2-smart-actions\">\r\n\r\n      <angular2-st-tbody-custom\r\n        [grid]=\"grid\"\r\n        (custom)=\"custom.emit($event)\"\r\n        [row]=\"row\"\r\n        [source]=\"source\">\r\n      </angular2-st-tbody-custom>\r\n\r\n      <angular2-st-tbody-expand\r\n          *ngIf=\"hasChildComponent\"\r\n          [grid]=\"grid\"\r\n          [row]=\"row\"\r\n          (onExpandRow)=\"onExpandRow.emit(row)\">\r\n      </angular2-st-tbody-expand>\r\n\r\n      <angular2-st-tbody-edit-delete [grid]=\"grid\"\r\n                                [deleteConfirm]=\"deleteConfirm\"\r\n                                (edit)=\"edit.emit($event)\"\r\n                                (delete)=\"delete.emit($event)\"\r\n                                (editRowSelect)=\"editRowSelect.emit($event)\"\r\n                                [row]=\"row\"\r\n                                [source]=\"source\">\r\n      </angular2-st-tbody-edit-delete>\r\n    </td>\r\n    <td *ngIf=\"row.isInEditing && showActionColumnLeft\"  class=\"angular2-smart-actions\">\r\n      <angular2-st-tbody-create-cancel [grid]=\"grid\" [row]=\"row\" [editConfirm]=\"editConfirm\" [editCancel]=\"editCancel\"></angular2-st-tbody-create-cancel>\r\n    </td>\r\n    <ng-container *ngFor=\"let cell of getVisibleCells(row.cells)\">\r\n      <td *ngIf=\"!cell.getColumn().isRowHeading\">\r\n        <angular2-smart-table-cell\r\n          [cell]=\"cell\"\r\n          [grid]=\"grid\"\r\n          [row]=\"row\"\r\n          [isNew]=\"false\"\r\n          [mode]=\"mode\"\r\n          [editConfirm]=\"editConfirm\"\r\n          [editCancel]=\"editCancel\"\r\n          [inputClass]=\"editInputClass\"\r\n          [isInEditing]=\"row.isInEditing\"\r\n        ></angular2-smart-table-cell>\r\n      </td>\r\n      <th *ngIf=\"cell.getColumn().isRowHeading\" scope=\"row\">\r\n        <angular2-smart-table-cell\r\n          [cell]=\"cell\"\r\n          [grid]=\"grid\"\r\n          [row]=\"row\"\r\n          [isNew]=\"false\"\r\n          [mode]=\"mode\"\r\n          [editConfirm]=\"editConfirm\"\r\n          [editCancel]=\"editCancel\"\r\n          [inputClass]=\"editInputClass\"\r\n          [isInEditing]=\"row.isInEditing\"\r\n        ></angular2-smart-table-cell>\r\n      </th>\r\n    </ng-container>\r\n\r\n    <td *ngIf=\"row.isInEditing && showActionColumnRight\"  class=\"angular2-smart-actions\">\r\n      <angular2-st-tbody-create-cancel [grid]=\"grid\" [row]=\"row\" [editConfirm]=\"editConfirm\" [editCancel]=\"editCancel\"></angular2-st-tbody-create-cancel>\r\n    </td>\r\n\r\n    <td *ngIf=\"!row.isInEditing && showActionColumnRight\" class=\"angular2-smart-actions\">\r\n      <angular2-st-tbody-custom [grid]=\"grid\" (custom)=\"custom.emit($event)\" [row]=\"row\" [source]=\"source\"></angular2-st-tbody-custom>\r\n\r\n      <angular2-st-tbody-expand\r\n          *ngIf=\"hasChildComponent\"\r\n          [grid]=\"grid\"\r\n          [row]=\"row\"\r\n          (onExpandRow)=\"onExpandRow.emit(row)\">\r\n      </angular2-st-tbody-expand>\r\n\r\n      <angular2-st-tbody-edit-delete [grid]=\"grid\"\r\n                                [deleteConfirm]=\"deleteConfirm\"\r\n                                [row]=\"row\"\r\n                                [source]=\"source\"\r\n                                (edit)=\"edit.emit($event)\"\r\n                                (delete)=\"delete.emit($event)\"\r\n                                (editRowSelect)=\"editRowSelect.emit($event)\">\r\n      </angular2-st-tbody-edit-delete>\r\n    </td>\r\n  </tr>\r\n  <tr class=\"angular2-smart-row angular2-smart-row-detail\" *ngIf=\"row.isExpanded\">\r\n    <td [attr.colspan]=\"tableColumnsCount\" class=\"angular2-smart-column-expandedDetail\">\r\n      <ng-template #expandedRowChild ></ng-template>\r\n    </td>\r\n  </tr>\r\n</ng-container>\r\n<tr *ngIf=\"grid.getRows().length == 0\">\r\n  <td [attr.colspan]=\"tableColumnsCount\">\r\n    {{ noDataMessage }}\r\n  </td>\r\n</tr>\r\n","import {Injectable} from '@angular/core';\r\nimport {Subject} from 'rxjs';\r\n\r\n@Injectable({providedIn: 'root'})\r\nexport class TableService {\r\n  mouseMoveEvent$ = new Subject<MouseEvent>();\r\n}\r\n","import {Component, Input} from '@angular/core';\r\n\r\nimport {Column} from '../../lib/data-set/column';\r\nimport {DataSource} from '../../lib/data-source/data-source';\r\n\r\n@Component({\r\n    template: '',\r\n    standalone: false\r\n})\r\nexport class FilterDefault {\r\n\r\n  @Input() column!: Column;\r\n  @Input() source!: DataSource;\r\n  @Input() inputClass: string = '';\r\n  @Input() debounceTime: number = 300;\r\n  @Input() query: string = '';\r\n\r\n  onFilter(query: string) {\r\n    if (query === '') {\r\n      this.source.removeFilter(this.column.id);\r\n    } else {\r\n      this.source.addFilter({\r\n        field: this.column.id,\r\n        search: query,\r\n        filter: this.column.filterFunction,\r\n      });\r\n    }\r\n  }\r\n}\r\n","import {Component, EventEmitter, Input, OnDestroy, OnInit, Output} from '@angular/core';\r\nimport {Subject, Subscription} from 'rxjs';\r\n\r\nimport {Column} from '../../../lib/data-set/column';\r\nimport {debounceTime, distinctUntilChanged} from \"rxjs/operators\";\r\n\r\n@Component({\r\n    template: '',\r\n    standalone: false\r\n})\r\nexport class DefaultFilter implements Filter, OnInit, OnDestroy {\r\n\r\n  subject = new Subject<string>();\r\n  changesSubscription?: Subscription;\r\n  @Input() query: string = '';\r\n  @Input() inputClass!: string;\r\n  @Input() debounceTime: number = 300;\r\n  @Input() column!: Column;\r\n  @Output() filter = new EventEmitter<string>();\r\n\r\n  ngOnInit() {\r\n    this.changesSubscription = this.subject\r\n      .pipe(\r\n        distinctUntilChanged(),\r\n        debounceTime(this.debounceTime),\r\n      )\r\n      .subscribe(value => this.setFilter());\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.changesSubscription?.unsubscribe();\r\n  }\r\n\r\n  onValueChanged(value: string) {\r\n    this.query = value;\r\n    this.subject.next(value);\r\n  }\r\n\r\n  setFilter() {\r\n    this.filter.emit(this.query);\r\n  }\r\n}\r\n\r\nexport interface Filter {\r\n  debounceTime: number;\r\n  changesSubscription?: Subscription;\r\n  query: string;\r\n  inputClass: string;\r\n  column: Column;\r\n  filter: EventEmitter<string>;\r\n}\r\n","import {Component, OnInit} from '@angular/core';\r\n\r\nimport {DefaultFilter} from './default-filter';\r\nimport {CheckboxFilterSettings} from \"../../../lib/settings\";\r\n\r\n@Component({\r\n    selector: 'checkbox-filter',\r\n    template: `\r\n    <input type=\"checkbox\" (change)=\"onChecked($any($event.target).checked)\" [checked]=\"checked\" [ngClass]=\"inputClass\">\r\n    <a href=\"#\" *ngIf=\"filterActive\" (click)=\"resetFilter($event)\">{{resetText}}</a>\r\n  `,\r\n    standalone: false\r\n})\r\nexport class CheckboxFilterComponent extends DefaultFilter implements OnInit {\r\n\r\n  filterActive: boolean = false;\r\n  checked: boolean = false;\r\n\r\n  trueVal = 'true';\r\n  falseVal = 'false';\r\n  resetText = 'reset';\r\n\r\n  ngOnInit() {\r\n    if (this.column.filter.config !== undefined) {\r\n      const config = this.column.filter.config as CheckboxFilterSettings;\r\n      this.trueVal = config?.true ?? 'true';\r\n      this.falseVal = config?.false ?? 'false';\r\n      this.resetText = config?.resetText ?? 'reset';\r\n    }\r\n    super.ngOnInit();\r\n  }\r\n\r\n  onChecked(checked: boolean) {\r\n    this.filterActive = true;\r\n    this.checked = checked;\r\n    this.onValueChanged(checked ? this.trueVal : this.falseVal);\r\n  }\r\n\r\n  resetFilter(event: any) {\r\n    event.preventDefault();\r\n    this.query = '';\r\n    this.checked = false;\r\n    this.filterActive = false;\r\n    this.setFilter();\r\n  }\r\n}\r\n","import {Component} from '@angular/core';\r\n\r\nimport {DefaultFilter} from './default-filter';\r\n\r\n@Component({\r\n    selector: 'input-filter',\r\n    template: `\r\n    <input\r\n      [ngClass]=\"inputClass\"\r\n      type=\"text\"\r\n      [value]=\"query\"\r\n      (change)=\"onValueChanged($any($event.target).value)\"\r\n      (keyup)=\"onValueChanged($any($event.target).value)\"\r\n      placeholder=\"{{ column.placeholder || column.title }}\"/>\r\n  `,\r\n    standalone: false\r\n})\r\nexport class InputFilterComponent extends DefaultFilter {\r\n}\r\n","import {Component, OnDestroy, OnInit} from '@angular/core';\r\n\r\nimport {DefaultFilter} from './default-filter';\r\nimport {FilterSettings, ListFilterSettings} from \"../../../lib/settings\";\r\n\r\n@Component({\r\n    selector: 'select-filter',\r\n    template: `\r\n    <select [ngClass]=\"inputClass\"\r\n            [value]=\"query\"\r\n            (change)=\"onValueChanged($any($event.target).value)\">\r\n        <option value=\"\">{{ config.selectText ?? 'Select...' }}</option>\r\n        <option *ngFor=\"let option of config.list\" [value]=\"option.value\">\r\n          {{ option.title }}\r\n        </option>\r\n    </select>\r\n  `,\r\n    standalone: false\r\n})\r\nexport class SelectFilterComponent extends DefaultFilter implements OnInit, OnDestroy {\r\n\r\n  config!: ListFilterSettings;\r\n\r\n  ngOnInit() {\r\n    this.config = (this.column.filter as FilterSettings).config as ListFilterSettings;\r\n    // if no filter function is provided, but filtering shall be strict, define the respective filter\r\n    const strict = this.config.strict === undefined || this.config.strict;\r\n    if (this.column.filterFunction === undefined && strict) {\r\n      this.column.filterFunction = (v, f) => v?.toString() === f;\r\n    }\r\n    super.ngOnInit();\r\n  }\r\n}\r\n","import {Component} from '@angular/core';\r\n\r\nimport {FilterDefault} from \"./filter-default\";\r\n\r\n@Component({\r\n    selector: 'default-table-filter',\r\n    template: `\r\n    <ng-container [ngSwitch]=\"column.filter.type\">\r\n      <select-filter *ngSwitchCase=\"'list'\"\r\n                     [query]=\"query\"\r\n                     [inputClass]=\"inputClass\"\r\n                     [debounceTime]=\"debounceTime\"\r\n                     [column]=\"column\"\r\n                     (filter)=\"onFilter($event)\">\r\n      </select-filter>\r\n      <checkbox-filter *ngSwitchCase=\"'checkbox'\"\r\n                       [query]=\"query\"\r\n                       [inputClass]=\"inputClass\"\r\n                       [debounceTime]=\"debounceTime\"\r\n                       [column]=\"column\"\r\n                       (filter)=\"onFilter($event)\">\r\n      </checkbox-filter>\r\n      <input-filter *ngSwitchDefault\r\n                    [query]=\"query\"\r\n                    [inputClass]=\"inputClass\"\r\n                    [debounceTime]=\"debounceTime\"\r\n                    [column]=\"column\"\r\n                    (filter)=\"onFilter($event)\">\r\n      </input-filter>\r\n    </ng-container>\r\n  `,\r\n    standalone: false\r\n})\r\nexport class DefaultFilterComponent extends FilterDefault {\r\n}\r\n","import {Component, OnChanges, OnDestroy, SimpleChanges, ViewChild, ViewContainerRef} from '@angular/core';\r\n\r\nimport {FilterDefault} from './filter-default';\r\n\r\n@Component({\r\n    selector: 'custom-table-filter',\r\n    template: `<ng-template #dynamicTarget></ng-template>`,\r\n    standalone: false\r\n})\r\nexport class CustomFilterComponent extends FilterDefault implements OnChanges, OnDestroy {\r\n  customComponent: any;\r\n  @ViewChild('dynamicTarget', { read: ViewContainerRef, static: true }) dynamicTarget!: ViewContainerRef;\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (this.column && !this.customComponent) {\r\n      const filter = this.column.filter;\r\n      if (!filter) {\r\n        return;\r\n      }\r\n      this.customComponent = this.dynamicTarget.createComponent(filter.component);\r\n\r\n      // set @Inputs and @Outputs of custom component\r\n      this.customComponent.instance.query = this.query;\r\n      this.customComponent.instance.column = this.column;\r\n      this.customComponent.instance.source = this.source;\r\n      this.customComponent.instance.inputClass = this.inputClass;\r\n      this.customComponent.instance.debounceTime = this.debounceTime;\r\n      this.customComponent.instance.filter.subscribe((event: any) => { this.onFilter(event)});\r\n    }\r\n    if (this.customComponent.instance.ngOnChanges !== undefined) {\r\n      this.customComponent.instance.ngOnChanges(changes);\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (this.customComponent) {\r\n      this.customComponent.destroy();\r\n    }\r\n  }\r\n}\r\n","import {Component, OnChanges, SimpleChanges} from '@angular/core';\r\nimport {FilterDefault} from './filter-default';\r\nimport {Subscription} from 'rxjs';\r\n\r\n@Component({\r\n    selector: 'angular2-smart-table-filter',\r\n    styleUrls: ['./filter.component.scss'],\r\n    template: `\r\n      <div class=\"angular2-smart-filter\" *ngIf=\"column.isFilterable\" [ngSwitch]=\"column.filter.type\">\r\n        <custom-table-filter *ngSwitchCase=\"'custom'\"\r\n                             [query]=\"query\"\r\n                             [column]=\"column\"\r\n                             [source]=\"source\"\r\n                             [inputClass]=\"inputClass\"\r\n                             [debounceTime]=\"debounceTime\"\r\n        ></custom-table-filter>\r\n        <default-table-filter *ngSwitchDefault\r\n                              [query]=\"query\"\r\n                              [column]=\"column\"\r\n                              [source]=\"source\"\r\n                              [inputClass]=\"inputClass\"\r\n                              [debounceTime]=\"debounceTime\"\r\n        ></default-table-filter>\r\n      </div>\r\n    `,\r\n    standalone: false\r\n})\r\nexport class FilterComponent extends FilterDefault implements OnChanges {\r\n  query: string = '';\r\n  protected dataChangedSub!: Subscription;\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (changes.source) {\r\n      if (!changes.source.firstChange) {\r\n        this.dataChangedSub.unsubscribe();\r\n      }\r\n      this.dataChangedSub = this.source.onChanged().subscribe((dataChanges) => {\r\n        let newQuery = '';\r\n        for (const f of dataChanges.filter) {\r\n          if (f.field == this.column.id) {\r\n            newQuery = f.search;\r\n            break;\r\n          }\r\n        }\r\n        this.query = newQuery;\r\n      });\r\n    }\r\n  }\r\n}\r\n","import {AfterViewInit, Component, ElementRef, EventEmitter, Input, OnChanges, Output} from '@angular/core';\r\n\r\nimport {Grid} from '../../../lib/grid';\r\nimport {DataSource} from '../../../lib/data-source/data-source';\r\nimport {CreateEvent} from '../../../lib/events';\r\nimport {SecurityTrustType} from '../../../pipes/bypass-security-trust.pipe';\r\n\r\n@Component({\r\n    selector: '[angular2-st-add-button]',\r\n    template: `\r\n    <a *ngIf=\"visible\" href=\"#\" class=\"angular2-smart-action angular2-smart-action-add-add\"\r\n        [ngClass]=\"{'not-allowed': disabled}\"\r\n        [innerHTML]=\"addNewButtonContent | bypassSecurityTrust: bypassSecurityTrust\" (click)=\"onAdd($event)\"></a>\r\n  `,\r\n    standalone: false\r\n})\r\nexport class AddButtonComponent implements AfterViewInit, OnChanges {\r\n\r\n  @Input() grid!: Grid;\r\n  @Input() source!: DataSource;\r\n  @Output() create = new EventEmitter<CreateEvent>();\r\n\r\n  hiddenWhenFunction: () => boolean = () => false;\r\n  disabledWhenFunction: () => boolean = () => false;\r\n  addNewButtonContent!: string;\r\n  bypassSecurityTrust: SecurityTrustType = 'none';\r\n\r\n  constructor(private ref: ElementRef) {\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.ref.nativeElement.classList.add('angular2-smart-actions-title', 'angular2-smart-actions-title-add');\r\n  }\r\n\r\n  get visible(): boolean {\r\n    return !this.hiddenWhenFunction();\r\n  }\r\n\r\n  get disabled(): boolean {\r\n    return this.disabledWhenFunction();\r\n  }\r\n\r\n  ngOnChanges() {\r\n    this.addNewButtonContent = this.grid.settings.add?.addButtonContent ?? 'Add';\r\n    this.bypassSecurityTrust = this.grid.settings.add?.sanitizer?.bypassHtml ? 'html' : 'none';\r\n\r\n    this.disabledWhenFunction = this.grid.settings.add?.disabledWhen ?? this.disabledWhenFunction;\r\n    const actions = this.grid.settings.actions;\r\n    if (actions === false || actions === undefined) {\r\n      this.hiddenWhenFunction = () => (actions === false);\r\n    } else {\r\n      this.hiddenWhenFunction = this.grid.settings.add?.hiddenWhen ?? (() => (actions.add === false));\r\n    }\r\n  }\r\n\r\n  onAdd(event: any) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    if (this.disabled) return;\r\n\r\n    if (this.grid.settings.mode === 'external') {\r\n      this.create.emit({\r\n        source: this.source,\r\n      });\r\n    } else {\r\n      this.grid.showCreateForm();\r\n    }\r\n  }\r\n}\r\n","import {Component, EventEmitter, Input, OnChanges, Output, SimpleChanges} from '@angular/core';\r\n\r\nimport {Grid} from '../../../lib/grid';\r\nimport {DataSource} from '../../../lib/data-source/data-source';\r\nimport {Column} from \"../../../lib/data-set/column\";\r\nimport {CreateEvent} from '../../../lib/events';\r\n\r\n@Component({\r\n    selector: '[angular2-st-thead-filters-row]',\r\n    template: `\r\n    <th *ngIf=\"isMultiSelectVisible\" scope=\"col\"></th>\r\n    <th angular2-st-add-button\r\n        *ngIf=\"showActionColumnLeft\"\r\n        [grid]=\"grid\"\r\n        (create)=\"create.emit($event)\"\r\n        scope=\"col\"\r\n    >\r\n    </th>\r\n    <th *ngFor=\"let column of getVisibleColumns(grid.getColumns())\"\r\n        class=\"angular2-smart-th {{ column.id }}\"\r\n        scope=\"col\"\r\n    >\r\n      <angular2-smart-table-filter\r\n        [source]=\"source\"\r\n        [column]=\"column\"\r\n        [inputClass]=\"filterInputClass\"\r\n        [debounceTime]=\"filterDebounceTime\"\r\n      ></angular2-smart-table-filter>\r\n    </th>\r\n    <th angular2-st-add-button\r\n        *ngIf=\"showActionColumnRight\"\r\n        [grid]=\"grid\"\r\n        [source]=\"source\"\r\n        (create)=\"create.emit($event)\"\r\n        scope=\"col\"\r\n    >\r\n    </th>\r\n  `,\r\n    standalone: false\r\n})\r\nexport class TheadFitlersRowComponent implements OnChanges {\r\n\r\n  @Input() grid!: Grid;\r\n  @Input() source!: DataSource;\r\n\r\n  @Output() create = new EventEmitter<CreateEvent>();\r\n\r\n  isMultiSelectVisible!: boolean;\r\n  showActionColumnLeft!: boolean;\r\n  showActionColumnRight!: boolean;\r\n  filterInputClass!: string;\r\n  filterDebounceTime: number = 300;\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (changes['grid'] !== undefined) {\r\n      this.isMultiSelectVisible = this.grid.isMultiSelectVisible();\r\n      this.showActionColumnLeft = this.grid.showActionColumn('left');\r\n      this.showActionColumnRight = this.grid.showActionColumn('right');\r\n      this.filterInputClass = this.grid.settings.filter?.inputClass ?? '';\r\n      this.filterDebounceTime = this.grid.settings.filter?.debounceTime ?? 300;\r\n    }\r\n  }\r\n\r\n  getVisibleColumns(columns: Array<Column>): Array<Column> {\r\n    return (columns || []).filter((column: Column) => !column.hide);\r\n  }\r\n}\r\n","import {Component, EventEmitter, Input, OnChanges} from '@angular/core';\r\n\r\nimport {Grid} from '../../../lib/grid';\r\nimport {CreateCancelEvent, CreateConfirmEvent} from '../../../lib/events';\r\nimport {SecurityTrustType} from '../../../pipes/bypass-security-trust.pipe';\r\n\r\n@Component({\r\n    // TODO: @breaking-change rename the selector to angular2-st-thead-create-cancel in the next major version\r\n    selector: 'angular2-st-actions',\r\n    template: `\r\n    <a href=\"#\" class=\"angular2-smart-action angular2-smart-action-add-create\"\r\n        [innerHTML]=\"createButtonContent | bypassSecurityTrust: bypassSecurityTrust\" (click)=\"onCreate($event)\"></a>\r\n    <a href=\"#\" class=\"angular2-smart-action angular2-smart-action-add-cancel\"\r\n        [innerHTML]=\"cancelButtonContent | bypassSecurityTrust: bypassSecurityTrust\" (click)=\"onCancelCreate($event)\"></a>\r\n  `,\r\n    standalone: false\r\n})\r\nexport class TheadCreateCancelComponent implements OnChanges {\r\n\r\n  @Input() grid!: Grid;\r\n  @Input() createConfirm!: EventEmitter<CreateConfirmEvent>;\r\n  @Input() createCancel!: EventEmitter<CreateCancelEvent>;\r\n\r\n  createButtonContent!: string;\r\n  cancelButtonContent!: string;\r\n  bypassSecurityTrust: SecurityTrustType = 'none';\r\n\r\n  onCreate(event: MouseEvent) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    this.grid.create(this.grid.createFormRow, this.createConfirm);\r\n  }\r\n\r\n  onCancelCreate(event: MouseEvent) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    this.grid.createFormShown = false;\r\n    this.createCancel.emit({\r\n      discardedData: this.grid.createFormRow.getNewData(),\r\n      source: this.grid.source,\r\n    });\r\n  }\r\n\r\n  ngOnChanges() {\r\n    // we can assume that default settings have been applied and all values are defined\r\n    this.createButtonContent = this.grid.settings.add!.createButtonContent!;\r\n    this.cancelButtonContent = this.grid.settings.add!.cancelButtonContent!;\r\n    this.bypassSecurityTrust = this.grid.settings.add?.sanitizer?.bypassHtml ? 'html' : 'none';\r\n  }\r\n}\r\n","import {Component, EventEmitter, Input, OnChanges} from '@angular/core';\r\n\r\nimport {Grid} from '../../../lib/grid';\r\nimport {Row} from '../../../lib/data-set/row';\r\nimport {Cell} from '../../../lib/data-set/cell';\r\nimport {CreateCancelEvent, CreateConfirmEvent} from '../../../lib/events';\r\n\r\n@Component({\r\n    selector: '[angular2-st-thead-form-row]',\r\n    template: `\r\n    <td *ngIf=\"isMultiSelectVisible\"></td>\r\n    <td *ngIf=\"showActionColumnLeft\" class=\"angular2-smart-actions\">\r\n      <angular2-st-actions [grid]=\"grid\" [createConfirm]=\"createConfirm\" [createCancel]=\"createCancel\"></angular2-st-actions>\r\n    </td>\r\n    <td *ngFor=\"let cell of getVisibleCells(row.getCells())\">\r\n      <angular2-smart-table-cell\r\n        [cell]=\"cell\"\r\n        [grid]=\"grid\"\r\n        [isNew]=\"true\"\r\n        [createConfirm]=\"createConfirm\"\r\n        [createCancel]=\"createCancel\"\r\n        [inputClass]=\"addInputClass\"\r\n        [isInEditing]=\"true\"\r\n      ></angular2-smart-table-cell>\r\n    </td>\r\n    <td *ngIf=\"showActionColumnRight\" class=\"angular2-smart-actions\">\r\n      <angular2-st-actions [grid]=\"grid\" [createConfirm]=\"createConfirm\" [createCancel]=\"createCancel\"></angular2-st-actions>\r\n    </td>\r\n  `,\r\n    standalone: false\r\n})\r\nexport class TheadFormRowComponent implements OnChanges {\r\n\r\n  @Input() grid!: Grid;\r\n  @Input() row!: Row;\r\n  @Input() createConfirm!: EventEmitter<CreateConfirmEvent>;\r\n  @Input() createCancel!: EventEmitter<CreateCancelEvent>;\r\n  isMultiSelectVisible!: boolean;\r\n\r\n  showActionColumnLeft!: boolean;\r\n  showActionColumnRight!: boolean;\r\n  addInputClass!: string;\r\n\r\n  ngOnChanges() {\r\n    this.isMultiSelectVisible = this.grid.isMultiSelectVisible();\r\n    this.showActionColumnLeft = this.grid.showActionColumn('left');\r\n    this.showActionColumnRight = this.grid.showActionColumn('right');\r\n    this.addInputClass = this.grid.settings.add?.inputClass ?? '';\r\n  }\r\n\r\n  getVisibleCells(cells: Array<Cell>): Array<Cell> {\r\n    return (cells || []).filter((cell: Cell) => !cell.getColumn().hide);\r\n  }\r\n}\r\n","import {Directive, ElementRef, HostListener, Input, OnDestroy, OnInit, Renderer2} from '@angular/core';\r\nimport {Subject} from 'rxjs';\r\nimport {filter, takeUntil} from 'rxjs/operators';\r\n\r\nimport {TableService} from '../services/table.service';\r\nimport {Column} from \"../lib/data-set/column\";\r\n\r\n@Directive({\r\n    selector: '[angular2SmartTableResizer]',\r\n    standalone: false\r\n})\r\nexport class NgxResizerDirective implements OnInit, OnDestroy {\r\n  @Input() angular2SmartTableResizer!: {column: Column, siblingColumn: Column | undefined};\r\n\r\n  isClicked!: boolean;\r\n\r\n  parentElement: any;\r\n  siblingElement: any;\r\n\r\n  pointerOffset: number = 0;\r\n  parentOffset: number = 0;\r\n  siblingOffset: number | undefined = undefined;\r\n\r\n  destroyed$ = new Subject<any>();\r\n\r\n  constructor(private elementRef: ElementRef, private renderer: Renderer2, private tableService: TableService) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.tableService.mouseMoveEvent$\r\n      .pipe(\r\n        takeUntil(this.destroyed$),\r\n        filter(() => this.isClicked)\r\n      )\r\n      .subscribe((event: MouseEvent) => {\r\n        const offset = this.pointerOffset - event.pageX;\r\n        const width = this.parentOffset - offset;\r\n        this.angular2SmartTableResizer.column.resizedWidth = width;\r\n        this.renderer.setStyle(this.parentElement, 'width', width + 'px');\r\n\r\n        const siblingColumn = this.angular2SmartTableResizer.siblingColumn;\r\n        if (siblingColumn !== undefined && this.siblingOffset !== undefined) {\r\n          const siblingWidth = this.siblingOffset + offset;\r\n          siblingColumn.resizedWidth = siblingWidth;\r\n          this.renderer.setStyle(this.siblingElement, 'width', siblingWidth + 'px');\r\n        }\r\n      });\r\n  }\r\n\r\n  @HostListener('mousedown', ['$event']) onMouseEnter(event: MouseEvent) {\r\n    this.isClicked = true;\r\n    this.parentElement = this.renderer.parentNode(this.elementRef.nativeElement);\r\n    this.siblingElement = this.renderer.nextSibling(this.parentElement);\r\n    this.pointerOffset = event.pageX;\r\n\r\n    this.parentOffset = this.parentElement.offsetWidth;\r\n    this.siblingOffset = this.siblingElement?.offsetWidth;\r\n  }\r\n\r\n  @HostListener('document:mouseup') onMouseDown() {\r\n    this.isClicked = false;\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.destroyed$.next(null);\r\n  }\r\n}\r\n","import {AfterViewInit, Component, ElementRef, Input, OnChanges} from '@angular/core';\r\n\r\nimport {Grid} from '../../../lib/grid';\r\n\r\n@Component({\r\n    selector: '[angular2-st-actions-title]',\r\n    template: `\r\n    <div class=\"angular2-smart-title\">{{ actionsColumnTitle }}</div>\r\n  `,\r\n    standalone: false\r\n})\r\nexport class ActionsTitleComponent implements AfterViewInit, OnChanges {\r\n\r\n  @Input() grid!: Grid;\r\n\r\n  actionsColumnTitle!: string;\r\n\r\n  constructor(private ref: ElementRef) {\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.ref.nativeElement.classList.add('angular2-smart-actions');\r\n  }\r\n\r\n  ngOnChanges() {\r\n    this.actionsColumnTitle = 'Actions';\r\n    if (this.grid.settings.actions !== false) {\r\n      this.actionsColumnTitle = this.grid.settings.actions?.columnTitle ?? 'Actions';\r\n    }\r\n  }\r\n}\r\n","import {Component, EventEmitter, Input, OnChanges, OnDestroy, Output, SimpleChanges} from '@angular/core';\r\n\r\nimport {Column} from '../../../lib/data-set/column';\r\nimport {DataSource, ISortConfig} from '../../../lib/data-source/data-source';\r\nimport {Subscription} from \"rxjs\";\r\n\r\n@Component({\r\n  selector: 'angular2-st-column-title',\r\n  styles: `\r\n    a.sort {\r\n      &::after {\r\n        display: inline-block;\r\n        font-size: .8em;\r\n        color: darkgrey;\r\n        vertical-align: top;\r\n      }\r\n\r\n      &.asc::after {\r\n        content: \"â²\";\r\n      }\r\n\r\n      &.desc::after {\r\n        content: \"â¼\";\r\n      }\r\n    }\r\n  `,\r\n  template: `\r\n    <a href=\"#\" *ngIf=\"column.isSortable\"\r\n       (click)=\"_sort($event)\"\r\n       class=\"angular2-smart-sort-link sort\"\r\n       [ngClass]=\"currentDirection??''\">\r\n      {{ column.title }}\r\n    </a>\r\n    <span class=\"angular2-smart-sort\" *ngIf=\"!column.isSortable\">{{ column.title }}</span>\r\n    <button style=\"position: absolute; top:0; right:0; border:none\" *ngIf=\"isHideable\"\r\n            (click)=\"_hideColumnClicked($event)\">ð\r\n    </button>\r\n  `,\r\n  standalone: false\r\n})\r\nexport class ColumnTitleComponent implements OnChanges, OnDestroy {\r\n\r\n  currentDirection: 'asc' | 'desc' | null = null;\r\n  @Input() multiSort = true;\r\n  @Input() column!: Column;\r\n  @Input() source!: DataSource;\r\n  @Input() isHideable!: boolean;\r\n  @Output() hide = new EventEmitter<string>();\r\n\r\n  protected dataChangedSub: Subscription | null = null;\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (changes.source) {\r\n      if (this.dataChangedSub !== null) {\r\n        this.dataChangedSub.unsubscribe();\r\n      }\r\n      this.dataChangedSub = this.source.onChanged().subscribe(_ => {\r\n        this.currentDirection = null;\r\n        const sortConf = this.source.getSort();\r\n        if (sortConf) {\r\n          sortConf.forEach(c => {\r\n            if (c.field === this.column.id) {\r\n              this.currentDirection = c.direction;\r\n            }\r\n          });\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (this.dataChangedSub !== null) {\r\n      this.dataChangedSub.unsubscribe();\r\n      this.dataChangedSub = null;\r\n    }\r\n  }\r\n\r\n  _sort(event: any) {\r\n    event.preventDefault();\r\n    this.changeSortDirection();\r\n    const conf: ISortConfig = {\r\n      field: this.column.id,\r\n      direction: this.currentDirection,\r\n      compare: this.column.compareFunction,\r\n    };\r\n    if (this.multiSort) {\r\n      this.source.updateSort([conf]);\r\n    } else {\r\n      this.source.setSort([conf]);\r\n    }\r\n  }\r\n\r\n\r\n  _hideColumnClicked(event: any) {\r\n    event.preventDefault();\r\n    this.hide.emit(this.column.id);\r\n  }\r\n\r\n\r\n  private changeSortDirection(): void {\r\n    // rotate sort direction, including null (no sort)\r\n    if (this.currentDirection === null) {\r\n      this.currentDirection = 'asc';\r\n    } else if (this.currentDirection === 'asc') {\r\n      this.currentDirection = 'desc';\r\n    } else if (this.currentDirection === 'desc') {\r\n      this.currentDirection = null;\r\n    }\r\n  }\r\n}\r\n","import {Component, EventEmitter, Input, OnChanges, Output} from '@angular/core';\r\n\r\nimport {Grid} from '../../../lib/grid';\r\nimport {DataSource} from '../../../lib/data-source/data-source';\r\nimport {Column} from \"../../../lib/data-set/column\";\r\n\r\n@Component({\r\n    selector: '[angular2-st-thead-titles-row]',\r\n    template: `\r\n    <th *ngIf=\"isMultiSelectVisible\"\r\n        [style.width]=\"multiSelectWidth\"\r\n        scope=\"col\"\r\n    >\r\n      <input type=\"checkbox\" [checked]=\"isAllSelected\" (click)=\"selectAllRows.emit()\">\r\n    </th>\r\n    <th angular2-st-actions-title *ngIf=\"showActionColumnLeft\" [grid]=\"grid\" scope=\"col\"></th>\r\n    <th *ngFor=\"let column of visibleColumns; index as i; last as isLast\"\r\n        class=\"angular2-smart-th {{ column.id }}\"\r\n        [ngClass]=\"column.classHeader\"\r\n        [style.width]=\"column.width\"\r\n        scope=\"col\"\r\n    >\r\n      <angular2-st-column-title\r\n        [source]=\"source\"\r\n        [column]=\"column\"\r\n        [isHideable]=\"isHideable\"\r\n        [multiSort]=\"grid.isMultiSortEnabled()\"\r\n        (hide)=\"hide.emit($event)\"\r\n      ></angular2-st-column-title>\r\n      <div *ngIf=\"isResizable && (showActionColumnRight || !isLast)\"\r\n           [angular2SmartTableResizer]=\"{column: column, siblingColumn: isLast ? undefined : visibleColumns[i+1]}\"\r\n           class=\"angular2-resizer-block\"\r\n      ></div>\r\n    </th>\r\n    <th angular2-st-actions-title *ngIf=\"showActionColumnRight\" [grid]=\"grid\" scope=\"col\"></th>\r\n  `,\r\n    standalone: false\r\n})\r\nexport class TheadTitlesRowComponent implements OnChanges {\r\n\r\n  @Input() grid!: Grid;\r\n  @Input() isAllSelected!: boolean;\r\n  @Input() source!: DataSource;\r\n\r\n  @Output() hide = new EventEmitter<string>();\r\n  @Output() selectAllRows = new EventEmitter<void>();\r\n\r\n  multiSelectWidth: string = '3rem';\r\n  isMultiSelectVisible!: boolean;\r\n  showActionColumnLeft!: boolean;\r\n  showActionColumnRight!: boolean;\r\n  isResizable!: boolean;\r\n  isHideable: boolean = false;\r\n\r\n\r\n  ngOnChanges() {\r\n    this.isMultiSelectVisible = this.grid.isMultiSelectVisible();\r\n    this.showActionColumnLeft = this.grid.showActionColumn('left');\r\n    this.showActionColumnRight = this.grid.showActionColumn('right');\r\n    this.isResizable = this.grid.settings.resizable ?? false;\r\n    this.isHideable = this.grid.settings.hideable ?? false;\r\n  }\r\n\r\n  get visibleColumns(): Array<Column> {\r\n    return (this.grid.getColumns() || []).filter((column: Column) => !column.hide);\r\n  }\r\n}\r\n","import {Component, EventEmitter, HostListener, Input, OnChanges, Output} from '@angular/core';\r\n\r\nimport {Grid} from '../../lib/grid';\r\nimport {DataSource} from '../../lib/data-source/data-source';\r\nimport {TableService} from '../../services/table.service';\r\nimport {CreateCancelEvent, CreateConfirmEvent, CreateEvent} from '../../lib/events';\r\n\r\n@Component({\r\n    selector: '[angular2-st-thead]',\r\n    styleUrls: ['./thead.component.scss'],\r\n    templateUrl: './thead.component.html',\r\n    standalone: false\r\n})\r\nexport class NgxSmartTableTheadComponent implements OnChanges {\r\n\r\n  @Input() grid!: Grid;\r\n  @Input() source!: DataSource;\r\n  @Input() isAllSelected!: boolean;\r\n  @Input() createConfirm!: EventEmitter<CreateConfirmEvent>;\r\n  @Input() createCancel!: EventEmitter<CreateCancelEvent>;\r\n\r\n  @Output() hide = new EventEmitter<string>();\r\n  @Output() selectAllRows = new EventEmitter<void>();\r\n  @Output() create = new EventEmitter<CreateEvent>();\r\n\r\n  isHideHeader!: boolean;\r\n  isHideSubHeader!: boolean;\r\n\r\n  constructor(private tableService: TableService) {\r\n  }\r\n\r\n  ngOnChanges() {\r\n    this.isHideHeader = this.grid.settings.hideHeader ?? false;\r\n    this.isHideSubHeader = this.grid.settings.hideSubHeader ?? false;\r\n  }\r\n\r\n  @HostListener('mousemove', ['$event'])\r\n  mouseMove(event: MouseEvent) {\r\n    this.tableService.mouseMoveEvent$.next(event);\r\n  }\r\n}\r\n","<tr angular2-st-thead-titles-row *ngIf=\"!isHideHeader\"\r\n    class=\"angular2-smart-titles\"\r\n    [grid]=\"grid\"\r\n    [isAllSelected]=\"isAllSelected\"\r\n    [source]=\"source\"\r\n    (hide)=\"hide.emit($event)\"\r\n    (selectAllRows)=\"selectAllRows.emit()\"\r\n></tr>\r\n\r\n<tr angular2-st-thead-filters-row *ngIf=\"!isHideSubHeader\"\r\n    class=\"angular2-smart-filters\"\r\n    [grid]=\"grid\"\r\n    [source]=\"source\"\r\n    (create)=\"create.emit($event)\"\r\n></tr>\r\n\r\n<tr angular2-st-thead-form-row *ngIf=\"grid.createFormShown\"\r\n    [grid]=\"grid\"\r\n    [row]=\"grid.createFormRow\"\r\n    [createConfirm]=\"createConfirm\"\r\n    [createCancel]=\"createCancel\"\r\n></tr>\r\n","import {Component, EventEmitter, Input, Output} from '@angular/core';\r\n\r\nexport interface TagsListEntry {\r\n  key: string;\r\n  value: string;\r\n}\r\n\r\n@Component({\r\n    selector: 'angular2-smart-table-tag',\r\n    templateUrl: './tag.component.html',\r\n    standalone: false\r\n})\r\nexport class TagComponent {\r\n\r\n    @Input() item!: TagsListEntry;\r\n\r\n    @Output() close = new EventEmitter<string>();\r\n\r\n    closeClicked(evt: Event) {\r\n        evt.stopPropagation();\r\n        this.close.emit(this.item.key);\r\n    }\r\n}\r\n","<div style=\"padding: .25em; display: inline; white-space: nowrap\">\r\n  <svg\r\n    (click)=\"closeClicked($event)\"\r\n    style=\"width: 1.2em; cursor: pointer\"\r\n    aria-hidden=\"true\"\r\n    focusable=\"false\"\r\n    role=\"img\"\r\n    viewBox=\"0 0 64 64\"\r\n    id=\"svg19\"\r\n    xmlns=\"http://www.w3.org/2000/svg\">\r\n    <defs id=\"defs23\"/>\r\n    <path\r\n      fill=\"currentColor\"\r\n      d=\"m 32.271186,1.2711864 c -17.125,0 -30.9999996,13.8749996 -30.9999996,30.9999996 0,17.125 13.8749996,31 30.9999996,31 17.125,0 31,-13.875 31,-31 0,-17.125 -13.875,-30.9999996 -31,-30.9999996 z m 15.2,39.1374996 c 0.5875,0.5875 0.5875,1.5375 0,2.125 l -4.95,4.9375 c -0.5875,0.5875 -1.5375,0.5875 -2.125,0 l -8.125,-8.2 -8.1375,8.2 c -0.5875,0.5875 -1.5375,0.5875 -2.125,0 l -4.9375,-4.95 c -0.5875,-0.5875 -0.5875,-1.5375 0,-2.125 l 8.2,-8.125 -8.2,-8.1375 c -0.5875,-0.5875 -0.5875,-1.5375 0,-2.125 l 4.95,-4.95 c 0.5875,-0.5875 1.5375,-0.5875 2.125,0 l 8.125,8.2125 8.1375,-8.2 c 0.5875,-0.5875 1.5375,-0.5875 2.125,0 l 4.95,4.95 c 0.5875,0.5875 0.5875,1.5375 0,2.125 l -8.2125,8.125 z\"\r\n      id=\"path17\"\r\n      style=\"stroke-width:0.125\"/>\r\n  </svg>\r\n  <span style=\"margin-left: 3px; font-size: 1.5em\">{{ item.value }}</span>\r\n</div>\r\n","import {Component, EventEmitter, Input, Output} from '@angular/core';\r\nimport {TagsListEntry} from \"../tag/tag.component\";\r\n\r\n@Component({\r\n    selector: 'angular2-smart-table-tags-list',\r\n    templateUrl: './tags-list.component.html',\r\n    standalone: false\r\n})\r\nexport class TagsListComponent {\r\n\r\n    @Input() tags!: TagsListEntry[];\r\n\r\n    @Output() close = new EventEmitter<string>();\r\n\r\n    closedTag(tagKey: string) {\r\n        this.close.emit(tagKey);\r\n    }\r\n}\r\n","<div>\r\n  <angular2-smart-table-tag\r\n    *ngFor=\"let tag of tags\"\r\n    [item]=\"tag\"\r\n    (close)=\"closedTag($event)\"\r\n  ></angular2-smart-table-tag>\r\n</div>\r\n","import {Component, EventEmitter, Input, OnChanges, OnDestroy, Output, SimpleChange} from '@angular/core';\r\nimport {Subject, Subscription} from 'rxjs';\r\nimport {takeUntil} from 'rxjs/operators';\r\nimport {DataSet} from './lib/data-set/data-set';\r\nimport {Row} from './lib/data-set/row';\r\nimport {DataSource, DataSourceChangeEvent} from './lib/data-source/data-source';\r\nimport {LocalDataSource} from './lib/data-source/local/local.data-source';\r\nimport {Grid} from './lib/grid';\r\nimport {deepExtend} from './lib/helpers';\r\nimport {RowClassFunction, Settings} from './lib/settings';\r\nimport {\r\n  CreateCancelEvent,\r\n  CreateConfirmEvent,\r\n  CreateEvent,\r\n  CustomActionEvent,\r\n  DeleteConfirmEvent,\r\n  DeleteEvent,\r\n  EditCancelEvent,\r\n  EditConfirmEvent,\r\n  EditEvent,\r\n  RowSelectionEvent,\r\n} from './lib/events';\r\nimport {Column} from \"./lib/data-set/column\";\r\nimport {TagsListEntry} from \"./components/tags/tag/tag.component\";\r\n\r\n@Component({\r\n  selector: 'angular2-smart-table',\r\n  styleUrls: ['./angular2-smart-table.component.scss'],\r\n  templateUrl: './angular2-smart-table.component.html',\r\n  standalone: false,\r\n})\r\nexport class Angular2SmartTableComponent implements OnChanges, OnDestroy {\r\n\r\n  @Input() source: any;\r\n  @Input() settings!: Settings;\r\n\r\n  @Output() rowSelect = new EventEmitter<RowSelectionEvent>();\r\n  @Output() userRowSelect = new EventEmitter<RowSelectionEvent>();\r\n  @Output() delete = new EventEmitter<DeleteEvent>();\r\n  @Output() edit = new EventEmitter<EditEvent>();\r\n  @Output() create = new EventEmitter<CreateEvent>();\r\n  @Output() custom = new EventEmitter<CustomActionEvent>();\r\n  @Output() deleteConfirm = new EventEmitter<DeleteConfirmEvent>();\r\n  @Output() editConfirm = new EventEmitter<EditConfirmEvent>();\r\n  @Output() editCancel = new EventEmitter<EditCancelEvent>();\r\n  @Output() createConfirm = new EventEmitter<CreateConfirmEvent>();\r\n  @Output() createCancel = new EventEmitter<CreateCancelEvent>();\r\n  @Output() rowHover: EventEmitter<Row> = new EventEmitter<Row>();\r\n  @Output() afterGridInit: EventEmitter<DataSet> = new EventEmitter<DataSet>();\r\n\r\n  dataChangeSubscription?: Subscription;\r\n\r\n  tableClass!: string;\r\n  tableId!: string;\r\n  perPageSelect!: number[];\r\n  perPageSelectLabel!: string;\r\n  isHideHeader!: boolean;\r\n  isHideSubHeader!: boolean;\r\n  isPagerDisplay!: boolean;\r\n  isTagListShown: boolean = true;\r\n  rowClassFunction!: RowClassFunction;\r\n\r\n  grid!: Grid; // initially undefined, but will never be set to undefined, so we do not add undefined type here\r\n\r\n  defaultSettings: Settings = {\r\n    mode: 'inline',\r\n    selectMode: 'single',\r\n    sortMode: 'multi',\r\n    switchPageToSelectedRowPage: false,\r\n    hideHeader: false,\r\n    hideSubHeader: false,\r\n    resizable: false,\r\n    hideable: false,\r\n    hideTagList: false,\r\n    actions: {\r\n      columnTitle: 'Actions',\r\n      add: true,\r\n      edit: true,\r\n      delete: true,\r\n      custom: [],\r\n      position: 'left',\r\n    },\r\n    filter: {\r\n      inputClass: '',\r\n      debounceTime: 300,\r\n    },\r\n    edit: {\r\n      inputClass: '',\r\n      editButtonContent: 'Edit',\r\n      saveButtonContent: 'Update',\r\n      cancelButtonContent: 'Cancel',\r\n      confirmSave: false,\r\n    },\r\n    add: {\r\n      inputClass: '',\r\n      addButtonContent: 'Add New',\r\n      createButtonContent: 'Create',\r\n      cancelButtonContent: 'Cancel',\r\n      confirmCreate: false,\r\n    },\r\n    delete: {\r\n      deleteButtonContent: 'Delete',\r\n      confirmDelete: false,\r\n    },\r\n    expand: {\r\n      buttonContent: 'Expand'\r\n    },\r\n    attr: {\r\n      id: '',\r\n      class: '',\r\n    },\r\n    noDataMessage: 'No data found',\r\n    columns: {},\r\n    pager: {\r\n      display: true,\r\n      page: 1,\r\n      perPage: 10,\r\n      perPageSelect: [],\r\n      perPageSelectLabel: 'Per Page:',\r\n    },\r\n    rowClassFunction: (_) => '',\r\n  };\r\n\r\n  isAllSelected: boolean = false;\r\n\r\n  private onSelectRowSubscription!: Subscription;\r\n  private destroyed$: Subject<void> = new Subject<void>();\r\n\r\n  ngOnChanges(changes: { [propertyName: string]: SimpleChange }) {\r\n    if (this.grid !== undefined) {\r\n      // grid is already created, just update the relevant properties\r\n      if (changes['settings']) {\r\n        this.grid.setSettings(this.prepareSettings());\r\n        this.updateNotVisibleColumnTagList();\r\n      }\r\n      if (changes['source']) {\r\n        this.source = this.prepareSource();\r\n        this.grid.setSource(this.source);\r\n      }\r\n    } else if (this.settings !== undefined && this.source !== undefined) {\r\n      // create a new grid, but only if settings and source are already available\r\n\r\n      this.source = this.prepareSource();\r\n      this.grid = new Grid(this.source, this.prepareSettings());\r\n      this.updateNotVisibleColumnTagList();\r\n\r\n      this.subscribeToOnSelectRow();\r\n      /** Delay a bit the grid init event trigger to prevent empty rows */\r\n      setTimeout(() => {\r\n        this.afterGridInit.emit(this.grid.dataSet);\r\n      }, 10);\r\n    }\r\n\r\n    // once everything is set up, we can copy some settings\r\n    // we use the settings from the grid, because those are enriched with the defaults\r\n    if (this.grid !== undefined) {\r\n      this.tableId = this.grid.settings.attr!.id!;\r\n      this.tableClass = this.grid.settings.attr!.class!;\r\n      this.isHideHeader = this.grid.settings.hideHeader!;\r\n      this.isHideSubHeader = this.grid.settings.hideSubHeader!;\r\n      this.isTagListShown = !(this.grid.settings.hideTagList ?? false);\r\n      this.isPagerDisplay = this.grid.settings.pager!.display!;\r\n      this.perPageSelect = this.grid.settings.pager!.perPageSelect!;\r\n      this.perPageSelectLabel = this.grid.settings.pager!.perPageSelectLabel!;\r\n      this.rowClassFunction = this.grid.settings.rowClassFunction!;\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroyed$.next();\r\n  }\r\n\r\n  onEditRowSelect(row: Row) {\r\n    if (this.grid.settings.selectMode === 'single') {\r\n      this.grid.selectRow(row);\r\n      this.emitSelectRow(row);\r\n    }\r\n  }\r\n\r\n  onUserSelectRow(row: Row) {\r\n    if (this.grid.settings.selectMode === 'single') {\r\n      this.grid.selectRow(row);\r\n      this.emitUserSelectRow(row);\r\n    }\r\n  }\r\n\r\n  onRowHover(row: Row) {\r\n    this.rowHover.emit(row);\r\n  }\r\n\r\n  onMultipleSelectRow(row: Row) {\r\n    this.grid.multipleSelectRow(row);\r\n    // TODO: currently we make our life easy and just deselect the \"select all\" checkbox when needed\r\n    //       but we do not check it, when we determine that the user has selected everything\r\n    if (!row.isSelected) this.isAllSelected = false;\r\n    this.emitUserSelectRow(row);\r\n  }\r\n\r\n  async onSelectAllRows() {\r\n    this.isAllSelected = !this.isAllSelected;\r\n    await this.grid.selectAllRows(this.isAllSelected);\r\n    this.emitUserSelectRow(null);\r\n  }\r\n\r\n  onExpandRow(row: Row) {\r\n    this.grid.expandRow(row);\r\n  }\r\n\r\n  prepareSource(): DataSource {\r\n    let source: DataSource;\r\n    if (this.source instanceof DataSource) {\r\n      source = this.source;\r\n    } else if (this.source instanceof Array) {\r\n      source = new LocalDataSource(this.source);\r\n    } else {\r\n      source = new LocalDataSource();\r\n    }\r\n\r\n    // we have to hook up a listener to update some variables when the data source changes\r\n    if (this.dataChangeSubscription) this.dataChangeSubscription.unsubscribe();\r\n    this.dataChangeSubscription = source.onChanged().subscribe((changes: any) => this.processDataChange(changes));\r\n\r\n    return source;\r\n  }\r\n\r\n  processDataChange(_: DataSourceChangeEvent): void {\r\n    // here we can already assume that the source has been lifted to an instance of DataSource\r\n    const source = this.source as DataSource;\r\n    this.isAllSelected = source.isEveryElementSelected(\r\n      this.grid.settings.selectMode === 'multi_filtered',\r\n      true,\r\n    );\r\n  }\r\n\r\n  prepareSettings(): Settings {\r\n    return deepExtend({}, this.defaultSettings, this.settings);\r\n  }\r\n\r\n  getNotVisibleColumns(): Column[] {\r\n    return (this.grid?.getColumns() ?? []).filter(column => column.hide);\r\n  }\r\n\r\n  notVisibleColumnTagsList: TagsListEntry[] = [];\r\n  updateNotVisibleColumnTagList() {\r\n    this.notVisibleColumnTagsList = this.getNotVisibleColumns().map(c => ({\r\n      key: c.id,\r\n      value: c.title,\r\n    }));\r\n  }\r\n\r\n  onShowColumn(columnId: string) {\r\n    this.grid.settings.columns[columnId].hide = false;\r\n    this.grid.recreateDataSet();\r\n    this.updateNotVisibleColumnTagList();\r\n  }\r\n\r\n  onHideColumn(columnId: string) {\r\n    this.grid.settings.columns[columnId].hide = true;\r\n    this.grid.recreateDataSet();\r\n    this.updateNotVisibleColumnTagList();\r\n  }\r\n\r\n  private createRowSelectionEvent(row: Row | null): RowSelectionEvent {\r\n    return {\r\n      row: row,\r\n      data: row ? row.getData() : null,\r\n      isSelected: row ? row.getIsSelected() : null,\r\n      source: this.source,\r\n      selected: this.grid.getSelectedItems(),\r\n    };\r\n  }\r\n\r\n  private emitUserSelectRow(row: Row | null) {\r\n    this.userRowSelect.emit(this.createRowSelectionEvent(row));\r\n    // always also emit the general event\r\n    this.emitSelectRow(row);\r\n  }\r\n\r\n  private emitSelectRow(row: Row | null) {\r\n    this.rowSelect.emit(this.createRowSelectionEvent(row));\r\n  }\r\n\r\n  private isIndexOutOfRange(index: number): boolean {\r\n    const dataAmount = this.source?.count();\r\n    return index < 0 || (typeof dataAmount === 'number' && index >= dataAmount);\r\n  }\r\n\r\n  private subscribeToOnSelectRow(): void {\r\n    if (this.onSelectRowSubscription) {\r\n      this.onSelectRowSubscription.unsubscribe();\r\n    }\r\n    this.onSelectRowSubscription = this.grid.onSelectRow()\r\n      .pipe(takeUntil(this.destroyed$))\r\n      .subscribe((row) => {\r\n        this.emitSelectRow(row);\r\n      });\r\n  }\r\n}\r\n","<ng-container *ngIf=\"grid !== undefined\">\r\n<angular2-smart-table-tags-list *ngIf=\"isTagListShown\"\r\n  [tags]=\"notVisibleColumnTagsList\" (close)=\"onShowColumn($event)\"\r\n></angular2-smart-table-tags-list>\r\n\r\n<div style=\"overflow-x: auto; -webkit-overflow-scrolling: touch\">\r\n  <table [id]=\"tableId\" [ngClass]=\"tableClass\">\r\n    <thead\r\n      angular2-st-thead\r\n      *ngIf=\"!isHideHeader || !isHideSubHeader\"\r\n      [grid]=\"grid\"\r\n      [isAllSelected]=\"isAllSelected\"\r\n      [source]=\"source\"\r\n      [createConfirm]=\"createConfirm\"\r\n      [createCancel]=\"createCancel\"\r\n      (create)=\"create.emit($event)\"\r\n      (selectAllRows)=\"onSelectAllRows()\"\r\n      (hide)=\"onHideColumn($event)\"\r\n    ></thead>\r\n\r\n    <tbody\r\n      angular2-st-tbody\r\n      [grid]=\"grid\"\r\n      [source]=\"source\"\r\n      [deleteConfirm]=\"deleteConfirm\"\r\n      [editConfirm]=\"editConfirm\"\r\n      [editCancel]=\"editCancel\"\r\n      [rowClassFunction]=\"rowClassFunction\"\r\n      (edit)=\"edit.emit($event)\"\r\n      (delete)=\"delete.emit($event)\"\r\n      (custom)=\"custom.emit($event)\"\r\n      (userSelectRow)=\"onUserSelectRow($event)\"\r\n      (editRowSelect)=\"onEditRowSelect($event)\"\r\n      (multipleSelectRow)=\"onMultipleSelectRow($event)\"\r\n      (onExpandRow)=\"onExpandRow($event)\"\r\n      (rowHover)=\"onRowHover($event)\"\r\n    ></tbody>\r\n  </table>\r\n</div>\r\n<angular2-smart-table-pager\r\n  *ngIf=\"isPagerDisplay\"\r\n  [source]=\"source\"\r\n  [perPageSelect]=\"perPageSelect\"\r\n  [perPageSelectLabel]=\"perPageSelectLabel\"\r\n>\r\n</angular2-smart-table-pager>\r\n</ng-container>\r\n","import {NgModule} from '@angular/core';\r\nimport {BypassSecurityTrustPipe} from './bypass-security-trust.pipe';\r\n\r\nconst PIPES = [\r\n  BypassSecurityTrustPipe,\r\n];\r\n\r\n@NgModule({\r\n  declarations: [...PIPES],\r\n  exports: [...PIPES],\r\n})\r\nexport class PipesModule {\r\n\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\n\r\nimport {CellComponent} from './cell.component';\r\nimport {CustomEditComponent} from './cell-edit-mode/custom-edit.component';\r\nimport {DefaultEditComponent} from './cell-edit-mode/default-edit.component';\r\nimport {EditCellComponent} from './cell-edit-mode/edit-cell.component';\r\nimport {CheckboxEditorComponent} from './cell-editors/checkbox-editor.component';\r\nimport {InputEditorComponent} from './cell-editors/input-editor.component';\r\nimport {SelectEditorComponent} from './cell-editors/select-editor.component';\r\nimport {TextareaEditorComponent} from './cell-editors/textarea-editor.component';\r\nimport {CustomViewComponent} from './cell-view-mode/custom-view.component';\r\nimport {ViewCellComponent} from './cell-view-mode/view-cell.component';\r\nimport {EditCellDefault} from './cell-edit-mode/edit-cell-default';\r\nimport {DefaultEditor} from './cell-editors/default-editor';\r\nimport {PipesModule} from '../../pipes/pipes.module';\r\n\r\nconst CELL_COMPONENTS = [\r\n  CellComponent,\r\n  EditCellDefault,\r\n  DefaultEditor,\r\n  CustomEditComponent,\r\n  DefaultEditComponent,\r\n  EditCellComponent,\r\n  CheckboxEditorComponent,\r\n  InputEditorComponent,\r\n  SelectEditorComponent,\r\n  TextareaEditorComponent,\r\n  CustomViewComponent,\r\n  ViewCellComponent,\r\n];\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        PipesModule,\r\n    ],\r\n  declarations: [\r\n    ...CELL_COMPONENTS,\r\n  ],\r\n  exports: [\r\n    ...CELL_COMPONENTS,\r\n  ],\r\n})\r\nexport class CellModule { }\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\n\r\nimport {FilterComponent} from './filter.component';\r\nimport {DefaultFilterComponent} from \"./default-filter.component\";\r\nimport {CustomFilterComponent} from \"./custom-filter.component\";\r\nimport {CheckboxFilterComponent} from './filter-types/checkbox-filter.component';\r\nimport {InputFilterComponent} from './filter-types/input-filter.component';\r\nimport {SelectFilterComponent} from './filter-types/select-filter.component';\r\nimport {DefaultFilter} from './filter-types/default-filter';\r\nimport {FilterDefault} from './filter-default';\r\n\r\nconst FILTER_COMPONENTS = [\r\n  FilterDefault,\r\n  DefaultFilter,\r\n  FilterComponent,\r\n  DefaultFilterComponent,\r\n  CustomFilterComponent,\r\n  CheckboxFilterComponent,\r\n  InputFilterComponent,\r\n  SelectFilterComponent,\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n  ],\r\n  declarations: [\r\n    ...FILTER_COMPONENTS,\r\n  ],\r\n  exports: [\r\n    ...FILTER_COMPONENTS,\r\n  ],\r\n})\r\nexport class FilterModule { }\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\n\r\nimport {PagerComponent} from './pager.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n  ],\r\n  declarations: [\r\n    PagerComponent,\r\n  ],\r\n  exports: [\r\n    PagerComponent,\r\n  ],\r\n})\r\nexport class PagerModule { }\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {TagComponent} from './tag/tag.component';\r\nimport {TagsListComponent} from './tags-list/tags-list.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n  ],\r\n  declarations: [\r\n    TagComponent,\r\n    TagsListComponent\r\n  ],\r\n  exports: [\r\n    TagComponent,\r\n    TagsListComponent\r\n  ],\r\n})\r\nexport class TagsModule { }\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\n\r\nimport {CellModule} from '../cell/cell.module';\r\n\r\nimport {NgxSmartTableTbodyComponent} from './tbody.component';\r\nimport {TbodySaveCancelComponent} from './cells/save-cancel.component';\r\nimport {TbodyEditDeleteComponent} from './cells/edit-delete.component';\r\nimport {TbodyCustomComponent} from './cells/custom.component';\r\nimport {TbodyExpandRowComponent} from './cells/expand.component';\r\nimport {TbodyCustomItemComponent} from './cells/custom-item.component';\r\nimport {PipesModule} from '../../pipes/pipes.module';\r\n\r\nconst TBODY_COMPONENTS = [\r\n  TbodySaveCancelComponent,\r\n  TbodyEditDeleteComponent,\r\n  TbodyCustomComponent,\r\n  TbodyExpandRowComponent,\r\n  TbodyCustomItemComponent,\r\n  NgxSmartTableTbodyComponent\r\n];\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        CellModule,\r\n        PipesModule,\r\n    ],\r\n  declarations: [\r\n    ...TBODY_COMPONENTS,\r\n  ],\r\n  exports: [\r\n    ...TBODY_COMPONENTS,\r\n  ],\r\n})\r\nexport class TBodyModule { }\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\n\r\nimport {NgxResizerDirective} from './resizer.directive';\r\n\r\nconst DIRECTIVES = [\r\n  NgxResizerDirective\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations: [\r\n    ...DIRECTIVES,\r\n  ],\r\n  exports: [\r\n    ...DIRECTIVES,\r\n  ],\r\n})\r\nexport class DirectivesModule { }\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\n\r\nimport {FilterModule} from '../filter/filter.module';\r\nimport {CellModule} from '../cell/cell.module';\r\n\r\nimport {NgxSmartTableTheadComponent} from './thead.component';\r\nimport {TheadCreateCancelComponent} from './cells/create-cancel.component';\r\nimport {ActionsTitleComponent} from './cells/actions-title.component';\r\nimport {AddButtonComponent} from './cells/add-button.component';\r\nimport {ColumnTitleComponent} from './cells/column-title.component';\r\nimport {TheadFitlersRowComponent} from './rows/thead-filters-row.component';\r\nimport {TheadFormRowComponent} from './rows/thead-form-row.component';\r\nimport {TheadTitlesRowComponent} from './rows/thead-titles-row.component';\r\nimport {DirectivesModule} from '../../directives/directives.module';\r\nimport {PipesModule} from '../../pipes/pipes.module';\r\n\r\nconst THEAD_COMPONENTS = [\r\n  TheadCreateCancelComponent,\r\n  ActionsTitleComponent,\r\n  AddButtonComponent,\r\n  ColumnTitleComponent,\r\n  TheadFitlersRowComponent,\r\n  TheadFormRowComponent,\r\n  TheadTitlesRowComponent,\r\n  NgxSmartTableTheadComponent\r\n];\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        FilterModule,\r\n        CellModule,\r\n        DirectivesModule,\r\n        PipesModule\r\n    ],\r\n  declarations: [\r\n    ...THEAD_COMPONENTS,\r\n  ],\r\n  exports: [\r\n    ...THEAD_COMPONENTS,\r\n  ],\r\n})\r\nexport class THeadModule { }\r\n","import {CommonModule} from '@angular/common';\r\nimport {NgModule} from '@angular/core';\r\nimport {Angular2SmartTableComponent} from './angular2-smart-table.component';\r\nimport {CellModule} from './components/cell/cell.module';\r\nimport {FilterModule} from './components/filter/filter.module';\r\nimport {PagerModule} from './components/pager/pager.module';\r\nimport {TagsModule} from './components/tags/tags.module';\r\nimport {TBodyModule} from './components/tbody/tbody.module';\r\nimport {THeadModule} from './components/thead/thead.module';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    Angular2SmartTableComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    CellModule,\r\n    FilterModule,\r\n    PagerModule,\r\n    TBodyModule,\r\n    THeadModule,\r\n    TagsModule\r\n  ],\r\n  exports: [\r\n    Angular2SmartTableComponent\r\n  ]\r\n})\r\nexport class Angular2SmartTableModule { }\r\n","export class ServerSourceConf {\r\n\r\n  protected static readonly SORT_FIELD_KEY = '_sort';\r\n  protected static readonly SORT_DIR_KEY = '_order';\r\n  protected static readonly PAGER_PAGE_KEY = '_page';\r\n  protected static readonly PAGER_LIMIT_KEY = '_limit';\r\n  protected static readonly FILTER_FIELD_KEY = '#field#_like';\r\n  protected static readonly TOTAL_KEY = 'x-total-count';\r\n  protected static readonly DATA_KEY = '';\r\n\r\n  endPoint: string;\r\n\r\n  sortFieldKey: string;\r\n  sortDirKey: string;\r\n  pagerPageKey: string;\r\n  pagerLimitKey: string;\r\n  filterFieldKey: string;\r\n  totalKey: string;\r\n  dataKey: string;\r\n\r\n  constructor(\r\n    { endPoint = '', sortFieldKey = '', sortDirKey = '',\r\n      pagerPageKey = '', pagerLimitKey = '', filterFieldKey = '', totalKey = '', dataKey = '' } = {}) {\r\n\r\n    this.endPoint = endPoint ? endPoint : '';\r\n\r\n    this.sortFieldKey = sortFieldKey ? sortFieldKey : ServerSourceConf.SORT_FIELD_KEY;\r\n    this.sortDirKey = sortDirKey ? sortDirKey : ServerSourceConf.SORT_DIR_KEY;\r\n    this.pagerPageKey = pagerPageKey ? pagerPageKey : ServerSourceConf.PAGER_PAGE_KEY;\r\n    this.pagerLimitKey = pagerLimitKey ? pagerLimitKey : ServerSourceConf.PAGER_LIMIT_KEY;\r\n    this.filterFieldKey = filterFieldKey ? filterFieldKey : ServerSourceConf.FILTER_FIELD_KEY;\r\n    this.totalKey = totalKey ? totalKey : ServerSourceConf.TOTAL_KEY;\r\n    this.dataKey = dataKey ? dataKey : ServerSourceConf.DATA_KEY;\r\n  }\r\n}\r\n","import {HttpClient, HttpParams} from '@angular/common/http';\r\nimport {Observable} from 'rxjs';\r\n\r\nimport {LocalDataSource} from '../local/local.data-source';\r\nimport {ServerSourceConf} from './server-source.conf';\r\nimport {getDeepFromObject} from '../../helpers';\r\n\r\nimport {map} from 'rxjs/operators';\r\n\r\nexport class ServerDataSource extends LocalDataSource {\r\n\r\n  protected conf: ServerSourceConf;\r\n\r\n  protected lastRequestCount: number = 0;\r\n\r\n  constructor(protected http: HttpClient, conf: ServerSourceConf | {} = {}) {\r\n    super();\r\n\r\n    this.conf = new ServerSourceConf(conf);\r\n\r\n    if (!this.conf.endPoint) {\r\n      throw new Error('At least endPoint must be specified as a configuration of the server data source.');\r\n    }\r\n  }\r\n\r\n  override count(): number {\r\n    return this.lastRequestCount;\r\n  }\r\n\r\n  override getAll(): Promise<any> {\r\n    return this.loadData(false, false, false);\r\n  }\r\n\r\n  override getElements(): Promise<any> {\r\n    return this.loadData(true, true, true);\r\n  }\r\n\r\n  override getFilteredAndSorted(): Promise<any> {\r\n    return this.loadData(true, true, false);\r\n  }\r\n\r\n  protected loadData(filtered: boolean, sorted: boolean, paginated: boolean): Promise<any> {\r\n    return this.requestElements(filtered, sorted, paginated)\r\n      .pipe(map(res => {\r\n        this.lastRequestCount = this.extractTotalFromResponse(res);\r\n        // TODO: the following two lines are obviously incorrect\r\n        //       but whoever hacked this ServerDataSource into the project did not think about compatibility to the interface\r\n        this.data = this.extractDataFromResponse(res);\r\n        this.filteredAndSorted = this.data;\r\n        return this.data;\r\n      })).toPromise();\r\n  }\r\n\r\n  /**\r\n   * Extracts array of data from server response\r\n   * @param res\r\n   * @returns {any}\r\n   */\r\n  protected extractDataFromResponse(res: any): Array<any> {\r\n    const rawData = res.body;\r\n    const data = !!this.conf.dataKey ? getDeepFromObject(rawData, this.conf.dataKey, []) : rawData;\r\n\r\n    if (data instanceof Array) {\r\n      return data;\r\n    }\r\n\r\n    throw new Error(`Data must be an array. Please check that data extracted from the server response by the key '${this.conf.dataKey}' exists and is array.`);\r\n  }\r\n\r\n  /**\r\n   * Extracts total rows count from the server response\r\n   * Looks for the count in the headers first, then in the response body\r\n   * @param res\r\n   * @returns {any}\r\n   */\r\n  protected extractTotalFromResponse(res: any): number {\r\n    if (res.headers.has(this.conf.totalKey)) {\r\n      return +res.headers.get(this.conf.totalKey);\r\n    } else {\r\n      const rawData = res.body;\r\n      return getDeepFromObject(rawData, this.conf.totalKey, 0);\r\n    }\r\n  }\r\n\r\n  protected requestElements(filtered: boolean, sorted: boolean, paginated: boolean): Observable<any> {\r\n    let httpParams = new HttpParams();\r\n\r\n    if (filtered) httpParams = this.addFilterRequestParams(httpParams);\r\n    if (sorted) httpParams = this.addSortRequestParams(httpParams);\r\n    if (paginated) httpParams = this.addPagerRequestParams(httpParams);\r\n\r\n    return this.http.get(this.conf.endPoint, { params: httpParams, observe: 'response' });\r\n  }\r\n\r\n  protected addSortRequestParams(httpParams: HttpParams): HttpParams {\r\n    if (this.sortConf) {\r\n      let fields: string[] = [];\r\n      let directions: string[] = [];\r\n      this.sortConf.forEach((fieldConf) => {\r\n        if (fieldConf.direction !== null) {\r\n          fields.push(fieldConf.field);\r\n          directions.push(fieldConf.direction.toUpperCase());\r\n        }\r\n      });\r\n      httpParams = httpParams.set(this.conf.sortFieldKey, fields.join(','));\r\n      httpParams = httpParams.set(this.conf.sortDirKey, directions.join(','));\r\n    }\r\n\r\n    return httpParams;\r\n  }\r\n\r\n  protected addFilterRequestParams(httpParams: HttpParams): HttpParams {\r\n    this.filterConf.forEach((fieldConf) => {\r\n      if (fieldConf['search']) {\r\n        httpParams = httpParams.set(this.conf.filterFieldKey.replace('#field#', fieldConf['field']), fieldConf['search']);\r\n      }\r\n    });\r\n\r\n    return httpParams;\r\n  }\r\n\r\n  protected addPagerRequestParams(httpParams: HttpParams): HttpParams {\r\n    httpParams = httpParams.set(this.conf.pagerPageKey, this.pagingConf.page);\r\n    httpParams = httpParams.set(this.conf.pagerLimitKey, this.pagingConf.perPage);\r\n    return httpParams;\r\n  }\r\n}\r\n","/*\r\n * Public API Surface of angular2-smart-table\r\n */\r\n\r\nexport * from './lib/angular2-smart-table.module';\r\nexport { DefaultEditor, Editor } from './lib/components/cell/cell-editors/default-editor';\r\nexport { DefaultFilter, Filter } from './lib/components/filter/filter-types/default-filter'\r\nexport { Cell } from './lib/lib/data-set/cell';\r\nexport { Row } from './lib/lib/data-set/row';\r\nexport { Column } from './lib/lib/data-set/column'\r\nexport { DataSet } from './lib/lib/data-set/data-set';\r\nexport { LocalDataSource } from './lib/lib/data-source/local/local.data-source';\r\nexport { ServerDataSource } from './lib/lib/data-source/server/server.data-source';\r\nexport * from './lib/lib/data-source/data-source'\r\nexport * from './lib/angular2-smart-table.component';\r\nexport * from './lib/lib/settings';\r\nexport * from './lib/lib/events';\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["i2.CheckboxEditorComponent","i3.InputEditorComponent","i4.SelectEditorComponent","i5.TextareaEditorComponent","i2.CustomEditComponent","i3.DefaultEditComponent","i1","i2.CustomViewComponent","i3.BypassSecurityTrustPipe","i2.EditCellComponent","i3.ViewCellComponent","i1.BypassSecurityTrustPipe","i2.BypassSecurityTrustPipe","i2.TbodyCustomItemComponent","i2.CellComponent","i3.TbodySaveCancelComponent","i4.TbodyEditDeleteComponent","i5.TbodyCustomComponent","i6.TbodyExpandRowComponent","i2.CheckboxFilterComponent","i3.InputFilterComponent","i4.SelectFilterComponent","i2.DefaultFilterComponent","i3.CustomFilterComponent","i2.FilterComponent","i3.AddButtonComponent","i3.TheadCreateCancelComponent","i1.TableService","i2.NgxResizerDirective","i3.ActionsTitleComponent","i4.ColumnTitleComponent","i2","i3.TheadFitlersRowComponent","i4.TheadFormRowComponent","i5.TheadTitlesRowComponent","i2.TagComponent","i2.PagerComponent","i3.NgxSmartTableTbodyComponent","i4.NgxSmartTableTheadComponent","i5.TagsListComponent"],"mappings":";;;;;;;;;;MA4BsB,UAAU,CAAA;AAEpB,IAAA,eAAe,GAAG,IAAI,OAAO,EAAyB;AACtD,IAAA,aAAa,GAAG,IAAI,OAAO,EAAO;AAClC,IAAA,eAAe,GAAG,IAAI,OAAO,EAAO;AACpC,IAAA,eAAe,GAAG,IAAI,OAAO,EAAO;IAkC9C,OAAO,GAAA;AACL,QAAA,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC;IAC/B;AAEA,IAAA,IAAI,CAAC,IAAgB,EAAA;AACnB,QAAA,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC;AAC1B,QAAA,OAAO,OAAO,CAAC,OAAO,EAAE;IAC1B;IAEA,SAAS,GAAA;AACP,QAAA,OAAO,IAAI,CAAC,eAAe,CAAC,YAAY,EAAE;IAC5C;IAEA,OAAO,GAAA;AACL,QAAA,OAAO,IAAI,CAAC,aAAa,CAAC,YAAY,EAAE;IAC1C;IAEA,SAAS,GAAA;AACP,QAAA,OAAO,IAAI,CAAC,eAAe,CAAC,YAAY,EAAE;IAC5C;IAEA,SAAS,GAAA;AACP,QAAA,OAAO,IAAI,CAAC,eAAe,CAAC,YAAY,EAAE;IAC5C;AAEA,IAAA,OAAO,CAAC,OAAY,EAAA;AAClB,QAAA,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC;AACzB,QAAA,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC;AAC7B,QAAA,OAAO,OAAO,CAAC,OAAO,EAAE;IAC1B;AAEA,IAAA,MAAM,CAAC,OAAY,EAAA;AACjB,QAAA,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC;AACzB,QAAA,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC;AAC5B,QAAA,OAAO,OAAO,CAAC,OAAO,EAAE;IAC1B;AAEA,IAAA,GAAG,CAAC,OAAY,EAAA;AACd,QAAA,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC;AACzB,QAAA,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC;AACzB,QAAA,OAAO,OAAO,CAAC,OAAO,EAAE;IAC1B;AAEA,IAAA,MAAM,CAAC,OAAY,EAAA;AACjB,QAAA,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC;AAC3B,QAAA,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC;AAC5B,QAAA,OAAO,OAAO,CAAC,OAAO,EAAE;IAC1B;IAEA,MAAM,CAAC,OAAY,EAAE,MAAW,EAAA;AAC9B,QAAA,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC;AAC3B,QAAA,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC;AAC5B,QAAA,OAAO,OAAO,CAAC,OAAO,EAAE;IAC1B;IAEA,KAAK,GAAA;AACH,QAAA,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC;AAC3B,QAAA,OAAO,OAAO,CAAC,OAAO,EAAE;IAC1B;AAEA;;;;;;;;;AASG;IACH,OAAO,CAAC,IAAwB,EAAE,MAAgB,EAAA;QAChD,IAAI,MAAM,EAAE;AACV,YAAA,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC;QAC5B;IACF;AAEA;;;;;;;;;AASG;IACH,UAAU,CAAC,IAAwB,EAAE,MAAgB,EAAA;QACnD,IAAI,MAAM,EAAE;AACV,YAAA,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC;QAC5B;IACF;IAEA,SAAS,CAAC,IAA0B,EAAE,MAAgB,EAAA;QACpD,IAAI,MAAM,EAAE;AACV,YAAA,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC;QAC9B;IACF;IAEA,SAAS,CAAC,SAAwB,EAAE,MAAgB,EAAA;QAClD,IAAI,MAAM,EAAE;AACV,YAAA,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC;QAC9B;IACF;IAEA,YAAY,CAAC,SAAiB,EAAE,MAAgB,EAAA;QAC9C,IAAI,MAAM,EAAE;AACV,YAAA,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC;QAC9B;IACF;AAEA,IAAA,SAAS,CAAC,IAAY,EAAE,OAAe,EAAE,MAAgB,EAAA;QACvD,IAAI,MAAM,EAAE;AACV,YAAA,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC;QAC9B;IACF;IAEA,OAAO,CAAC,IAAY,EAAE,MAAgB,EAAA;QACpC,IAAI,MAAM,EAAE;AACV,YAAA,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC;QAC5B;IACF;AAEU,IAAA,aAAa,CAAC,OAAY,EAAA;AAClC,QAAA,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,OAAO,CAAC;IACpC;AAEU,IAAA,aAAa,CAAC,OAAY,EAAA;AAClC,QAAA,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,OAAO,CAAC;IACpC;AAEU,IAAA,WAAW,CAAC,OAAY,EAAA;AAChC,QAAA,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC;IAClC;AAEU,IAAA,aAAa,CAAC,MAAc,EAAA;AACpC,QAAA,IAAI,CAAC,WAAW,EAAE,CAAC,IAAI,CAAC,CAAC,QAAQ,KAAK,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC;AAC9D,YAAA,MAAM,EAAE,MAAM;AACd,YAAA,QAAQ,EAAE,QAAQ;AAClB,YAAA,MAAM,EAAE,IAAI,CAAC,SAAS,EAAE;AACxB,YAAA,MAAM,EAAE,IAAI,CAAC,SAAS,EAAE;AACxB,YAAA,IAAI,EAAE,IAAI,CAAC,OAAO,EAAE;AACrB,SAAA,CAAC,CAAC;IACL;AACD;;SClNe,uBAAuB,CAAC,SAAiB,EAAE,IAAS,EAAE,KAAU,EAAA;IAC9E,IAAI,IAAI,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,EAAE;AACjC,QAAA,OAAO,CAAC;IACV;;IAEA,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,GAAG,KAAM,EAAE;AACjC,QAAA,OAAO,CAAC,CAAC,GAAG,SAAS;IACvB;IACA,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,GAAG,IAAI,EAAE;AACjC,QAAA,OAAO,SAAS;IAClB;;AAEA,IAAA,OAAO,CAAC;AACV;SAEgB,uBAAuB,CAAC,SAAiB,EAAE,IAAmB,EAAE,KAAoB,EAAA;;IAElG,OAAO,uBAAuB,CAAC,SAAS,EAAE,IAAI,EAAE,KAAK,CAAC;AACxD;SAEgB,uBAAuB,CAAC,SAAiB,EAAE,IAAmB,EAAE,KAAoB,EAAA;IAClG,IAAI,IAAI,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,EAAE;AACjC,QAAA,OAAO,CAAC;IACV;AAAO,SAAA,IAAI,IAAI,IAAI,IAAI,EAAE;AACvB,QAAA,OAAO,CAAC,CAAC,GAAG,SAAS;IACvB;AAAO,SAAA,IAAI,KAAK,IAAI,IAAI,EAAE;AACxB,QAAA,OAAO,SAAS;IAClB;SAAO;QACL,OAAO,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,GAAG,SAAS;IAC9C;AACF;AAEA;;;;;;;;;;;;AAYG;SACa,iBAAiB,CAAC,SAAc,EAAE,IAAS,EAAE,KAAU,EAAA;IACrE,MAAM,aAAa,GAAG,IAAI,IAAI,IAAI,KAAK,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC;IACpF,MAAM,cAAc,GAAG,KAAK,IAAI,IAAI,KAAK,CAAC,KAAK,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;AACxF,IAAA,MAAM,YAAY,GAAG,IAAI,IAAI,IAAI,KAAK,OAAO,IAAI,KAAK,QAAQ,CAAC;AAC/D,IAAA,MAAM,aAAa,GAAG,KAAK,IAAI,IAAI,KAAK,OAAO,KAAK,KAAK,QAAQ,CAAC;AAClE,IAAA,IAAI,aAAa,IAAI,cAAc,EAAE;AACnC,QAAA,OAAO,uBAAuB,CAAC,SAAS,EAAE,MAAM,CAAC,IAAI,CAAC,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC;IACxE;AAAO,SAAA,IAAI,YAAY,IAAI,aAAa,EAAE;QACxC,OAAO,uBAAuB,CAAC,SAAS,EAAE,IAAI,EAAE,KAAK,CAAC;IACxD;SAAO;QACL,OAAO,uBAAuB,CAAC,SAAS,EAAE,IAAI,EAAE,KAAK,CAAC;IACxD;AACF;;MCzDa,UAAU,CAAA;AAErB,IAAA,OAAO,QAAQ,CAAC,IAAgB,EAAE,IAAY,EAAE,OAAe,EAAA;AAC7D,QAAA,OAAO,IAAI,CAAC,KAAK,CAAC,OAAO,IAAI,IAAI,GAAG,CAAC,CAAC,EAAE,OAAO,GAAG,IAAI,CAAC;IACzD;AACD;;ACHD;;;;;;;;AAQG;AACI,MAAM,UAAU,GAAG,UAAU,GAAG,OAAmB,EAAA;AACxD,IAAA,IAAI,SAAS,CAAC,MAAM,GAAG,CAAC,IAAI,OAAO,SAAS,CAAC,CAAC,CAAC,KAAK,QAAQ,EAAE;AAC5D,QAAA,OAAO,KAAK;IACd;AAEA,IAAA,IAAI,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;AACxB,QAAA,OAAO,SAAS,CAAC,CAAC,CAAC;IACrB;AAEA,IAAA,MAAM,MAAM,GAAG,SAAS,CAAC,CAAC,CAAC;;AAG3B,IAAA,MAAM,IAAI,GAAG,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC;IAErD,IAAI,GAAG,EAAE,GAAG;AAEZ,IAAA,IAAI,CAAC,OAAO,CAAC,CAAC,GAAQ,KAAI;;AAExB,QAAA,IAAI,OAAO,GAAG,KAAK,QAAQ,IAAI,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;YACjD;QACF;QAEA,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,UAAU,GAAG,EAAA;AACpC,YAAA,GAAG,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;AAClB,YAAA,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC;;AAGf,YAAA,IAAI,GAAG,KAAK,MAAM,EAAE;gBAClB;AAEA;;;AAGG;YACL;iBAAO,IAAI,OAAO,GAAG,KAAK,QAAQ,IAAI,GAAG,KAAK,IAAI,EAAE;AAClD,gBAAA,MAAM,CAAC,GAAG,CAAC,GAAG,GAAG;gBACjB;;YAGF;AAAO,iBAAA,IAAI,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;gBAC7B,MAAM,CAAC,GAAG,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC;gBAC5B;;YAGF;AAAO,iBAAA,IAAI,OAAO,GAAG,KAAK,QAAQ,IAAI,GAAG,KAAK,IAAI,IAAI,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;gBACxE,MAAM,CAAC,GAAG,CAAC,GAAG,UAAU,CAAC,EAAE,EAAE,GAAG,CAAC;gBACjC;;YAGF;iBAAO;gBACL,MAAM,CAAC,GAAG,CAAC,GAAG,UAAU,CAAC,GAAG,EAAE,GAAG,CAAC;gBAClC;YACF;AACF,QAAA,CAAC,CAAC;AACJ,IAAA,CAAC,CAAC;AAEF,IAAA,OAAO,MAAM;AACf,CAAC;MAEY,QAAQ,CAAA;AAEnB,IAAA,OAAO;AAEP,IAAA,OAAO;AACP,IAAA,MAAM;AAEN,IAAA,WAAA,GAAA;QACE,IAAI,CAAC,OAAO,GAAG,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,MAAM,KAAI;AAC7C,YAAA,IAAI,CAAC,OAAO,GAAG,OAAO;AACtB,YAAA,IAAI,CAAC,MAAM,GAAG,MAAM;AACtB,QAAA,CAAC,CAAC;IACJ;AACD;AAED;AACM,SAAU,iBAAiB,CAAC,MAAM,GAAG,EAAE,EAAE,IAAY,EAAE,YAAkB,EAAA;IAC7E,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC;;IAE5B,IAAI,KAAK,GAAG,UAAU,CAAC,EAAE,EAAE,MAAM,CAAC;AAClC,IAAA,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,KAAI;AACjB,QAAA,IAAI,OAAO,KAAK,KAAK,WAAW,EAAE;AAChC,YAAA,KAAK,GAAG,KAAK,CAAC,CAAC,CAAC;QAClB;AACF,IAAA,CAAC,CAAC;AAEF,IAAA,OAAO,OAAO,KAAK,KAAK,WAAW,GAAG,YAAY,GAAG,KAAK;AAC5D;AAEM,SAAU,kBAAkB,CAAC,KAAa,EAAE,OAAe,EAAA;;IAE/D,OAAO,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,OAAO,CAAC,GAAG,CAAC;AACxC;;AChGM,MAAO,eAAgB,SAAQ,UAAU,CAAA;IAEnC,IAAI,GAAe,EAAE;IACrB,iBAAiB,GAAe,EAAE;IAClC,QAAQ,GAAuB,EAAE;IACjC,UAAU,GAAyB,EAAE;IACrC,UAAU,GAAkB,EAAC,IAAI,EAAE,CAAC,EAAE,OAAO,EAAE,EAAE,EAAC;IAEpD,aAAa,GAAe,EAAE;AACtC,IAAA,WAAA,CAAY,OAAmB,EAAE,EAAA;AAC/B,QAAA,KAAK,EAAE;AAEP,QAAA,IAAI,CAAC,IAAI,GAAG,IAAI;IAClB;AAEA,IAAA,IAAI,CAAC,IAAgB,EAAA;AACnB,QAAA,IAAI,CAAC,IAAI,GAAG,IAAI;AAEhB,QAAA,OAAO,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC;IACzB;AAEA,IAAA,OAAO,CAAC,OAAY,EAAA;AAClB,QAAA,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC;AAEhB,QAAA,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC;AAC1B,QAAA,OAAO,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC;IAC/B;AAEA,IAAA,MAAM,CAAC,OAAY,EAAA;AACjB,QAAA,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC;AAEhB,QAAA,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC;AACvB,QAAA,OAAO,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC;IAC9B;AAEA,IAAA,GAAG,CAAC,OAAY,EAAA;AACd,QAAA,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC;AAEvB,QAAA,OAAO,KAAK,CAAC,GAAG,CAAC,OAAO,CAAC;IAC3B;AAEA,IAAA,MAAM,CAAC,OAAY,EAAA;AACjB,QAAA,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,IAAI,EAAE,KAAK,OAAO,CAAC;AAElD,QAAA,OAAO,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC;IAC9B;IAEA,MAAM,CAAC,OAAY,EAAE,MAAW,EAAA;QAC9B,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,MAAM,KAAI;YACrC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,KAAI;AAChC,gBAAA,KAAK,GAAG,UAAU,CAAC,KAAK,EAAE,MAAM,CAAC;AACjC,gBAAA,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC;AACzD,YAAA,CAAC,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC;AAClB,QAAA,CAAC,CAAC;IACJ;AAEA,IAAA,IAAI,CAAC,OAAY,EAAA;AACf,QAAA,MAAM,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,KAAK,OAAO,CAAC;QAClD,IAAI,KAAK,EAAE;AACT,YAAA,OAAO,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC;QAC/B;QAEA,OAAO,OAAO,CAAC,MAAM,CAAC,IAAI,KAAK,CAAC,sCAAsC,CAAC,CAAC;IAC1E;IAEA,WAAW,GAAA;QACT,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;QAC/B,OAAO,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;IAChD;IAEA,oBAAoB,GAAA;QAClB,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;AAC7B,QAAA,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;QACvB,OAAO,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,iBAAiB,CAAC;IAChD;IAEA,MAAM,GAAA;QACJ,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;AAC/B,QAAA,OAAO,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC;IAC9B;IAEA,KAAK,CAAC,MAAM,GAAG,KAAK,EAAA;AAClB,QAAA,IAAI,CAAC,SAAS,CAAC,EAAE,EAAE,KAAK,CAAC;AACzB,QAAA,IAAI,CAAC,OAAO,CAAC,EAAE,EAAE,KAAK,CAAC;QACvB,IAAI,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,MAAM,CAAC;IAC1B;IAEA,KAAK,GAAA;AACH,QAAA,IAAI,CAAC,IAAI,GAAG,EAAE;AAEd,QAAA,OAAO,KAAK,CAAC,KAAK,EAAE;IACtB;IAEA,KAAK,GAAA;AACH,QAAA,OAAO,IAAI,CAAC,iBAAiB,CAAC,MAAM;IACtC;IAEA,UAAU,CAAC,GAAQ,EAAE,UAAmB,EAAA;AACtC,QAAA,IAAI,UAAU;AAAE,YAAA,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,GAAG,CAAC;;AACvC,YAAA,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC;IACvE;;AAGA,IAAA,MAAM,cAAc,CAAC,OAAgB,EAAE,eAAwB,KAAK,EAAA;QAClE,IAAI,OAAO,EAAE;AACX,YAAA,MAAM,aAAa,GAAG,YAAY,GAAG,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,IAAI;YACvE,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC,KAAK,CAAC,CAAC,CAAC;QAC7C;;AAAO,YAAA,IAAI,CAAC,aAAa,GAAG,EAAE;IAChC;AAEA,IAAA,sBAAsB,CAAC,YAAA,GAAwB,KAAK,EAAE,qBAA8B,KAAK,EAAA;AACvF,QAAA,MAAM,YAAY,GAAG,YAAY,GAAG,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,IAAI;AACtE,QAAA,IAAI,YAAY,CAAC,MAAM,KAAK,CAAC,EAAE;YAC7B,OAAO,CAAC,kBAAkB;QAC5B;QACA,IAAI,YAAY,EAAE;;YAEhB,IAAI,YAAY,CAAC,MAAM,KAAK,IAAI,CAAC,aAAa,CAAC,MAAM;AAAE,gBAAA,OAAO,KAAK;AACnE,YAAA,KAAK,MAAM,IAAI,IAAI,YAAY,EAAE;gBAC/B,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,YAAY,CAAC,GAAG,CAAC;AAAE,oBAAA,OAAO,KAAK;YAChE;AACA,YAAA,OAAO,IAAI;QACb;aAAO;YACL,OAAO,YAAY,CAAC,MAAM,KAAK,IAAI,CAAC,aAAa,CAAC,MAAM;QAC1D;IACF;IAEA,gBAAgB,GAAA;QACd,OAAO,IAAI,CAAC,aAAa;IAC3B;AAEA,IAAA,OAAO,CAAC,IAAwB,EAAE,MAAM,GAAG,IAAI,EAAA;AAC7C,QAAA,IAAI,CAAC,QAAQ,GAAG,IAAI;AACpB,QAAA,KAAK,CAAC,OAAO,CAAC,IAAI,EAAE,MAAM,CAAC;IAC7B;AAEA,IAAA,UAAU,CAAC,IAAwB,EAAE,MAAM,GAAG,IAAI,EAAA;AAChD,QAAA,IAAI,IAAI,KAAK,IAAI,EAAE;AACjB,YAAA,IAAI,CAAC,OAAO,CAAC,CAAC,SAAS,KAAI;gBACzB,MAAM,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,KAAK,SAAS,CAAC,KAAK,CAAC;AACvE,gBAAA,IAAI,KAAK,IAAI,CAAC,EAAE;AACd,oBAAA,IAAI,SAAS,CAAC,OAAO,KAAK,SAAS,EAAE;;wBAEnC,SAAS,CAAC,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,OAAO;oBAClD;oBACA,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC;gBAChC;;gBAEA,IAAI,CAAC,QAAQ,GAAG,CAAC,SAAS,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC;AAC/C,YAAA,CAAC,CAAC;QACJ;AACA,QAAA,KAAK,CAAC,OAAO,CAAC,IAAI,EAAE,MAAM,CAAC;IAC7B;AAEA;;;;;;;;;AASG;AACH,IAAA,SAAS,CAAC,IAA0B,EAAE,MAAM,GAAG,IAAI,EAAA;AACjD,QAAA,IAAI,CAAC,UAAU,GAAG,IAAI;AACtB,QAAA,KAAK,CAAC,SAAS,CAAC,IAAI,EAAE,MAAM,CAAC;IAC/B;AAEA;;;;;;;;AAQG;AACH,IAAA,SAAS,CAAC,SAAwB,EAAE,MAAA,GAAkB,IAAI,EAAA;QACxD,IAAI,KAAK,GAAG,KAAK;QACjB,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,gBAA+B,EAAE,KAAa,KAAI;YACzE,IAAI,gBAAgB,CAAC,KAAK,KAAK,SAAS,CAAC,KAAK,EAAE;AAC9C,gBAAA,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,GAAG,SAAS;gBAClC,KAAK,GAAG,IAAI;YACd;AACF,QAAA,CAAC,CAAC;QACF,IAAI,CAAC,KAAK,EAAE;AACV,YAAA,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,SAAS,CAAC;QACjC;AACA,QAAA,KAAK,CAAC,SAAS,CAAC,SAAS,EAAE,MAAM,CAAC;IACpC;AAEA,IAAA,YAAY,CAAC,SAAiB,EAAE,MAAA,GAAkB,IAAI,EAAA;AACpD,QAAA,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,KAAK,SAAS,CAAC;AACpE,QAAA,KAAK,CAAC,YAAY,CAAC,SAAS,EAAE,MAAM,CAAC;IACvC;AAEA,IAAA,SAAS,CAAC,IAAY,EAAE,OAAe,EAAE,SAAkB,IAAI,EAAA;AAC7D,QAAA,IAAI,CAAC,UAAU,CAAC,IAAI,GAAG,IAAI;AAC3B,QAAA,IAAI,CAAC,UAAU,CAAC,OAAO,GAAG,OAAO;QAEjC,KAAK,CAAC,SAAS,CAAC,IAAI,EAAE,OAAO,EAAE,MAAM,CAAC;IACxC;AAEA,IAAA,OAAO,CAAC,IAAY,EAAE,MAAA,GAAkB,IAAI,EAAA;AAC1C,QAAA,IAAI,CAAC,UAAU,CAAC,IAAI,GAAG,IAAI;AAC3B,QAAA,KAAK,CAAC,OAAO,CAAC,IAAI,EAAE,MAAM,CAAC;IAC7B;IAEA,OAAO,GAAA;QACL,OAAO,IAAI,CAAC,QAAQ;IACtB;IAEA,SAAS,GAAA;QACP,OAAO,IAAI,CAAC,UAAU;IACxB;IAEA,SAAS,GAAA;QACP,OAAO,IAAI,CAAC,UAAU;IACxB;AAEU,IAAA,WAAW,CAAC,IAAgB,EAAA;AACpC,QAAA,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;AACxB,QAAA,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;QACtB,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;AAEtC,QAAA,OAAO,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC;IAC5B;AAEU,IAAA,IAAI,CAAC,IAAgB,EAAA;;AAE7B,QAAA,MAAM,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,SAAS,KAAK,IAAI,CAAC;QAElE,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,KAAI;AACxB,YAAA,KAAK,MAAM,EAAE,IAAI,UAAU,EAAE;AAC3B,gBAAA,MAAM,GAAG,GAAW,CAAC,EAAE,CAAC,SAAS,KAAK,KAAK,IAAI,CAAC,GAAG,CAAC,CAAC;AACrD,gBAAA,MAAM,OAAO,GAA0B,EAAE,CAAC,OAAO,GAAG,EAAE,CAAC,OAAO,GAAG,iBAAiB;gBAClF,IAAI,KAAK,GAAG,EAAE,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC;gBAC/B,IAAI,KAAK,GAAG,CAAC;AACb,gBAAA,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,IAAI,OAAO,KAAK,KAAK,WAAW,EAAE,CAAC,EAAE,EAAE;oBACrE,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;gBACzB;gBACA,IAAI,KAAK,GAAG,CAAC;AACb,gBAAA,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,IAAI,OAAO,KAAK,KAAK,WAAW,EAAE,CAAC,EAAE,EAAE;oBACrE,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;gBACzB;AACA,gBAAA,MAAM,MAAM,GAAG,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,GAAG,EAAE,KAAK,EAAE,KAAK,CAAC;gBACpD,IAAI,MAAM,KAAK,CAAC;AAAE,oBAAA,OAAO,MAAM;YACjC;AACA,YAAA,OAAO,CAAC;AACV,QAAA,CAAC,CAAC;IACJ;AAEU,IAAA,MAAM,CAAC,IAAgB,EAAA;AAC/B,QAAA,IAAI,IAAI,CAAC,UAAU,EAAE;AACnB,YAAA,KAAK,MAAM,UAAU,IAAI,IAAI,CAAC,UAAU,EAAE;AACxC,gBAAA,MAAM,MAAM,GAAyB,UAAU,CAAC,MAAM,KAAK,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,EAAE,QAAQ,EAAE,IAAE,EAAE,EAAE,WAAW,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC,CAAC;gBACjI,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,KAAI;oBACxB,IAAI,KAAK,GAAG,UAAU,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC;oBACvC,IAAI,IAAI,GAAG,EAAE;AACb,oBAAA,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,IAAI,OAAO,IAAI,KAAK,WAAW,EAAE,CAAC,EAAE,EAAE;wBACpE,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;oBACvB;AACA,oBAAA,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,UAAU,CAAC,MAAM,CAAC;AACnD,gBAAA,CAAC,CAAC;YACJ;QACF;AACA,QAAA,OAAO,IAAI;IACb;AAEU,IAAA,QAAQ,CAAC,IAAgB,EAAA;AACjC,QAAA,OAAO,UAAU,CAAC,QAAQ,CAAC,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC;IACjF;AACD;;MCpRY,IAAI,CAAA;AAOO,IAAA,KAAA;AAA0B,IAAA,GAAA;AAAoB,IAAA,MAAA;AAL5D,IAAA,WAAW;IACX,mBAAmB,GAAW,EAAE;AAEhC,IAAA,QAAQ;AAEhB,IAAA,WAAA,CAAsB,KAAc,EAAY,GAAQ,EAAY,MAAc,EAAA;QAA5D,IAAA,CAAA,KAAK,GAAL,KAAK;QAAqB,IAAA,CAAA,GAAG,GAAH,GAAG;QAAiB,IAAA,CAAA,MAAM,GAAN,MAAM;QACxE,IAAI,CAAC,UAAU,EAAE;IACnB;IAEA,SAAS,GAAA;QACP,OAAO,IAAI,CAAC,MAAM;IACpB;IAEA,MAAM,GAAA;QACJ,OAAO,IAAI,CAAC,GAAG;IACjB;AAEA;;AAEG;IACH,QAAQ,GAAA;QACN,IAAI,IAAI,CAAC,WAAW,KAAK,IAAI,CAAC,KAAK,EAAE;AACnC,YAAA,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,gBAAgB,EAAE;AAClD,YAAA,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,KAAK;QAC/B;QACA,OAAO,IAAI,CAAC,mBAAmB;IACjC;IAEU,gBAAgB,GAAA;AACxB,QAAA,IAAI;YACF,MAAM,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,oBAAoB,KAAK,CAAC,CAAC,MAAM,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC;AAClF,YAAA,OAAO,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC;QAC7C;QAAE,OAAO,CAAC,EAAE;YACV,OAAO,CAAC,KAAK,CAAC,CAAA,mCAAA,EAAsC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAA,qDAAA,CAAuD,CAAC;AAC1H,YAAA,OAAO,CAAC,KAAK,CAAC,0DAA0D,CAAC;AACzE,YAAA,OAAO,CAAC,KAAK,CAAC,gHAAgH,CAAC;YAC/H,OAAO,IAAI,CAAC,KAAK,EAAE,QAAQ,EAAE,IAAI,EAAE;QACrC;IACF;AAEA;;AAEG;IACH,WAAW,GAAA;QACT,OAAO,IAAI,CAAC,KAAK;IACnB;AAEA,IAAA,QAAQ,CAAC,KAAa,EAAA;AACpB,QAAA,MAAM,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,kBAAkB,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC;AAC1D,QAAA,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE,KAAK,EAAE,IAAI,CAAC;IAC/C;AAEA;;AAEG;IACH,cAAc,GAAA;QACZ,OAAO,IAAI,CAAC,QAAQ;IACtB;IAEA,KAAK,GAAA;AACH,QAAA,OAAO,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE;IAC5B;IAEA,QAAQ,GAAA;AACN,QAAA,OAAO,IAAI,CAAC,SAAS,EAAE,CAAC,KAAK;IAC/B;IAEA,UAAU,GAAA;QACR,IAAI,IAAI,CAAC,MAAM,EAAE,CAAC,KAAK,KAAK,CAAC,CAAC,EAAE;YAC9B,OAAO,IAAI,CAAC,SAAS,EAAE,CAAC,SAAS,IAAI,KAAK;QAC5C;aACK;YACH,OAAO,IAAI,CAAC,SAAS,EAAE,CAAC,UAAU,IAAI,KAAK;QAC7C;IACF;IAEA,UAAU,GAAA;AACR,QAAA,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,KAAK;AAC7B,QAAA,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK;AAC1B,QAAA,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,gBAAgB,EAAE;IACpD;AACD;;MClFY,GAAG,CAAA;AAQK,IAAA,KAAA;AAAyB,IAAA,IAAA;AAAqB,IAAA,QAAA;IANjE,UAAU,GAAY,KAAK;IAC3B,WAAW,GAAY,KAAK;IAC5B,UAAU,GAAY,KAAK;IAC3B,KAAK,GAAgB,EAAE;AAGvB,IAAA,WAAA,CAAmB,KAAa,EAAY,IAAS,EAAY,QAAiB,EAAA;QAA/D,IAAA,CAAA,KAAK,GAAL,KAAK;QAAoB,IAAA,CAAA,IAAI,GAAJ,IAAI;QAAiB,IAAA,CAAA,QAAQ,GAAR,QAAQ;QACvE,IAAI,CAAC,OAAO,EAAE;IAChB;AAEA,IAAA,OAAO,CAAC,MAAc,EAAA;AACpB,QAAA,MAAM,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,CAAC,SAAS,EAAE,KAAK,MAAM,CAAC;AAChE,QAAA,IAAI,CAAC,OAAO;AAAE,YAAA,MAAM,IAAI,KAAK,CAAC,mCAAmC,CAAC;AAClE,QAAA,OAAO,OAAO;IAChB;IAEA,QAAQ,GAAA;QACN,OAAO,IAAI,CAAC,KAAK;IACnB;IAEA,OAAO,GAAA;QACL,OAAO,IAAI,CAAC,IAAI;IAClB;IAEA,aAAa,GAAA;QACX,OAAO,IAAI,CAAC,UAAU;IACxB;IAEA,aAAa,GAAA;QACX,OAAO,IAAI,CAAC,UAAU;IACxB;IAEA,UAAU,GAAA;AACR,QAAA,MAAM,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC,IAAI,CAAC;QAC3C,IAAI,CAAC,QAAQ,EAAE,CAAC,OAAO,CAAC,CAAC,IAAI,KAAK,MAAM,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,cAAc,EAAE,CAAC;AACtF,QAAA,OAAO,MAAM;IACf;AAEA,IAAA,OAAO,CAAC,IAAS,EAAA;AACf,QAAA,IAAI,CAAC,IAAI,GAAG,IAAI;QAChB,IAAI,CAAC,OAAO,EAAE;IAChB;IAEA,OAAO,GAAA;AACL,QAAA,IAAI,CAAC,KAAK,GAAG,EAAE;QACf,IAAI,CAAC,QAAQ,CAAC,UAAU,EAAE,CAAC,OAAO,CAAC,CAAC,MAAc,KAAI;YACpD,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE,IAAI,EAAE,MAAM,CAAC,CAAC;AAC/D,QAAA,CAAC,CAAC;IACJ;AACD;;MCxCY,MAAM,CAAA;AAmCE,IAAA,EAAA;AAAsB,IAAA,QAAA;AAA6B,IAAA,OAAA;AAjCtE,IAAA,WAAW;AACX,IAAA,KAAK;AACL,IAAA,IAAI;AACJ,IAAA,IAAI;AACJ,IAAA,SAAS;AACT,IAAA,WAAW;AACX,IAAA,YAAY;AACZ,IAAA,KAAK;AACL;;;;;;;;AAQG;IACH,YAAY,GAAY,SAAS;AACjC,IAAA,UAAU;AACV,IAAA,UAAU;AACV,IAAA,SAAS;AACT,IAAA,YAAY;AACZ,IAAA,YAAY;AACZ,IAAA,oBAAoB;AACpB,IAAA,MAAM;AACN,IAAA,MAAM;AACN,IAAA,eAAe;AACf,IAAA,eAAe;AACf,IAAA,oBAAoB;AACpB,IAAA,kBAAkB;AAClB,IAAA,cAAc;AACd,IAAA,qBAAqB;AAErB,IAAA,WAAA,CAAmB,EAAU,EAAY,QAAiB,EAAY,OAAgB,EAAA;QAAnE,IAAA,CAAA,EAAE,GAAF,EAAE;QAAoB,IAAA,CAAA,QAAQ,GAAR,QAAQ;QAAqB,IAAA,CAAA,OAAO,GAAP,OAAO;QAC3E,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,IAAI,MAAM;QACxC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,WAAW;QAC5C,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,IAAI,EAAE;QAC9C,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,IAAI,EAAE;QACtC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,WAAW,IAAI,EAAE;QAClD,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,QAAQ,CAAC,YAAY,IAAI,EAAE;QACpD,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,IAAI,MAAM;QAC1C,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,IAAI,KAAK;AACvC,QAAA,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,IAAI,EAAC,IAAI,EAAE,MAAM,EAAC;AACpD,QAAA,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,IAAI,EAAC,IAAI,EAAE,MAAM,EAAC;QACpD,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,QAAQ,CAAC,eAAe;QAEpD,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,QAAQ,CAAC,YAAY,IAAI,IAAI;QACtD,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,UAAU,IAAI,IAAI;QAClD,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,UAAU,IAAI,IAAI;QAClD,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,IAAI,IAAI;QAChD,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,QAAQ,CAAC,YAAY,IAAI,KAAK;QAEvD,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,QAAQ,CAAC,aAAa,IAAI,IAAI;QAE/D,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,QAAQ,CAAC,eAAe;QACpD,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,QAAQ,CAAC,oBAAoB;QAC9D,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,QAAQ,CAAC,kBAAkB;QAC1D,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,QAAQ,CAAC,cAAc;QAClD,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,QAAQ,CAAC,qBAAqB;IAClE;IAEA,SAAS,GAAA;QACP,OAAO,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM;IAC1C;AACD;;MC7EY,OAAO,CAAA;AAQ2B,IAAA,cAAA;IAPnC,IAAI,GAAe,EAAE;IACrB,OAAO,GAAkB,EAAE;IAC3B,IAAI,GAAe,EAAE;IACrB,WAAW,GAAe,IAAI;AAC9B,IAAA,WAAW;IACX,UAAU,GAAiC,SAAS;IAE9D,WAAA,CAAY,IAAA,GAAmB,EAAE,EAAY,cAAwB,EAAA;QAAxB,IAAA,CAAA,cAAc,GAAd,cAAc;AACzD,QAAA,IAAI,CAAC,aAAa,CAAC,cAAc,CAAC;AAClC,QAAA,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;IACpB;AAEA,IAAA,OAAO,CAAC,IAAgB,EAAE,YAAA,GAA2B,EAAE,EAAA;AACrD,QAAA,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,KAAK,KAAI;YACjC,MAAM,GAAG,GAAG,IAAI,GAAG,CAAC,KAAK,EAAE,EAAE,EAAE,IAAI,CAAC;AACpC,YAAA,GAAG,CAAC,UAAU,GAAG,YAAY,CAAC,OAAO,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;AAC9C,YAAA,OAAO,GAAG;AACZ,QAAA,CAAC,CAAC;QACF,IAAI,CAAC,UAAU,EAAE;IACnB;IAEA,UAAU,GAAA;QACR,OAAO,IAAI,CAAC,OAAO;IACrB;IAEA,cAAc,GAAA;AACZ,QAAA,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;AACrB,YAAA,OAAO,CAAC,IAAI,CAAC,wBAAwB,CAAC;AACtC,YAAA,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC;QAC3C;QACA,OAAO,IAAI,CAAC,WAAW;IACzB;IAEA,cAAc,GAAA;QACZ,OAAO,IAAI,CAAC,WAAW;IACzB;IAEA,OAAO,GAAA;AACL,QAAA,OAAO,IAAI,CAAC,IAAI,IAAI,EAAE;IACxB;IAEA,WAAW,GAAA;AACT,QAAA,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;IACrB;IAEA,UAAU,GAAA;AACR,QAAA,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;IACxC;AAEA,IAAA,aAAa,CAAC,IAAS,EAAA;QACrB,MAAM,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAQ,KAAK,GAAG,CAAC,OAAO,EAAE,KAAK,IAAI,CAAC;QAChE,IAAI,CAAC,GAAG,EAAE;AACR,YAAA,OAAO,CAAC,IAAI,CAAC,oBAAoB,EAAE,IAAI,CAAC;AACxC,YAAA,MAAM,IAAI,KAAK,CAAC,eAAe,CAAC;QAClC;AACA,QAAA,OAAO,GAAG;IACZ;IAEA,WAAW,GAAA;QACT,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,GAAG,KAAI;AACxB,YAAA,GAAG,CAAC,UAAU,GAAG,KAAK;AACxB,QAAA,CAAC,CAAC;;AAEF,QAAA,IAAI,CAAC,WAAW,GAAG,IAAI;IACzB;IAEA,cAAc,GAAA;QACZ,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,GAAG,KAAI;AACxB,YAAA,GAAG,CAAC,UAAU,GAAG,KAAK;AACxB,QAAA,CAAC,CAAC;;AAEF,QAAA,IAAI,CAAC,WAAW,GAAG,SAAS;IAC9B;AAEA,IAAA,SAAS,CAAC,GAAQ,EAAA;AAChB,QAAA,MAAM,kBAAkB,GAAG,GAAG,CAAC,UAAU;QACzC,IAAI,CAAC,WAAW,EAAE;AAElB,QAAA,GAAG,CAAC,UAAU,GAAG,CAAC,kBAAkB;AACpC,QAAA,IAAI,CAAC,WAAW,GAAG,GAAG;IACxB;AAEA,IAAA,iBAAiB,CAAC,GAAQ,EAAA;AACxB,QAAA,GAAG,CAAC,UAAU,GAAG,CAAC,GAAG,CAAC,UAAU;AAChC,QAAA,IAAI,CAAC,WAAW,GAAG,GAAG;IACxB;AAEA,IAAA,SAAS,CAAC,GAAQ,EAAA;AAChB,QAAA,MAAM,kBAAkB,GAAG,GAAG,CAAC,UAAU;QACzC,IAAI,CAAC,cAAc,EAAE;QACrB,IAAI,GAAG,CAAC,KAAK,KAAK,IAAI,CAAC,WAAW,EAAE,KAAK,EAAE;AACzC,YAAA,IAAI,CAAC,WAAW,GAAG,SAAS;QAC9B;AACA,QAAA,GAAG,CAAC,UAAU,GAAG,CAAC,kBAAkB;AACpC,QAAA,IAAI,CAAC,WAAW,GAAG,GAAG;QACtB,OAAO,IAAI,CAAC,WAAW;IACzB;IAEA,iBAAiB,GAAA;QACf,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;AACxB,YAAA,IAAI,KAAK,GAAG,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,GAAG,CAAC;YACzD,IAAI,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;gBAChC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC;YAC9B;YACA,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AAChC,YAAA,OAAO,IAAI,CAAC,cAAc,EAAE;QAC9B;aAAO;AACL,YAAA,OAAO,IAAI;QACb;IACF;IAEA,cAAc,GAAA;QACZ,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;YACxB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AAC5B,YAAA,OAAO,IAAI,CAAC,cAAc,EAAE;QAC9B;aAAO;AACL,YAAA,OAAO,IAAI;QACb;IACF;IAEA,aAAa,GAAA;QACX,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;AACxB,YAAA,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;AAC/C,YAAA,OAAO,IAAI,CAAC,cAAc,EAAE;QAC9B;aAAO;AACL,YAAA,OAAO,IAAI;QACb;IACF;IAEA,kBAAkB,GAAA;AAChB,QAAA,IAAI,CAAC,UAAU,GAAG,OAAO;IAC3B;IAEA,iBAAiB,GAAA;AACf,QAAA,IAAI,CAAC,UAAU,GAAG,MAAM;IAC1B;AAEA,IAAA,MAAM,CAAC,KAAa,EAAA;AAClB,QAAA,IAAI,KAAK,IAAI,CAAC,IAAI,IAAI,CAAC,OAAO,EAAE,CAAC,MAAM,KAAK,CAAC,EAAE;AAC7C,YAAA,OAAO,IAAI;QACb;AACA,QAAA,MAAM,UAAU,GAAG,IAAI,CAAC,UAAU;AAClC,QAAA,IAAI,CAAC,UAAU,GAAG,SAAS;AAC3B,QAAA,IAAI,UAAU,KAAK,SAAS,EAAE;AAC5B,YAAA,IAAI,KAAK,IAAI,CAAC,IAAI,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;gBAC1C,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBAChC,OAAO,IAAI,CAAC,WAAW;YACzB;iBAAO;;gBAEL,IAAI,CAAC,WAAW,EAAE;AAClB,gBAAA,OAAO,IAAI;YACb;QACF;AAAO,aAAA,IAAI,UAAU,KAAK,OAAO,EAAE;AACjC,YAAA,OAAO,IAAI,CAAC,cAAc,EAAE;QAC9B;AAAO,aAAA,IAAI,UAAU,KAAK,MAAM,EAAE;AAChC,YAAA,OAAO,IAAI,CAAC,aAAa,EAAE;QAC7B;aAAO;;AAEL,YAAA,OAAO,IAAI;QACb;IACF;AAEA;;;;AAIG;AACH,IAAA,aAAa,CAAC,QAAkB,EAAA;AAC9B,QAAA,KAAK,MAAM,EAAE,IAAI,QAAQ,EAAE;AACzB,YAAA,IAAI,QAAQ,CAAC,cAAc,CAAC,EAAE,CAAC,EAAE;AAC/B,gBAAA,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,MAAM,CAAC,EAAE,EAAE,QAAQ,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC;YACvD;QACF;IACF;AAEA;;;AAGG;IACH,UAAU,GAAA;AACR,QAAA,IAAI,CAAC,IAAI,GAAG,EAAE;QACd,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,EAAE,KAAI;AACvB,YAAA,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC;AACpB,QAAA,CAAC,CAAC;IACJ;AACD;;MClLY,IAAI,CAAA;IAEf,eAAe,GAAY,KAAK;AAChC,IAAA,aAAa;AAEb,IAAA,MAAM;AACN,IAAA,QAAQ;AACR,IAAA,OAAO;AAEP;;;;AAIG;IACH,gBAAgB,GAAG,CAAC,CAAC;AACrB,IAAA,iBAAiB,GAAG,IAAI,OAAO,EAAO;AAE9B,IAAA,2BAA2B;AAC3B,IAAA,2BAA2B;IAEnC,WAAA,CAAY,MAAkB,EAAE,QAAkB,EAAA;AAChD,QAAA,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC;AAC1B,QAAA,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;IACxB;IAGA,MAAM,GAAA;AACJ,QAAA,IAAI,IAAI,CAAC,2BAA2B,EAAE;AACpC,YAAA,IAAI,CAAC,2BAA2B,CAAC,WAAW,EAAE;QAChD;AACA,QAAA,IAAI,IAAI,CAAC,2BAA2B,EAAE;AACpC,YAAA,IAAI,CAAC,2BAA2B,CAAC,WAAW,EAAE;QAChD;IACF;AAEA,IAAA,gBAAgB,CAAC,QAAgB,EAAA;;AAE/B,QAAA,IAAI,IAAI,CAAC,QAAQ,CAAC,OAAO,KAAK,KAAK,IAAI,IAAI,CAAC,QAAQ,CAAC,OAAO,KAAK,SAAS,EAAE;AAC1E,YAAA,OAAO,KAAK;QACd;;QAEA,IAAI,QAAQ,KAAK,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,QAAQ,EAAE;AAChD,YAAA,OAAO,KAAK;QACd;;QAEA,OAAO,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,GAAG,IAAI,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,IAAI,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,MAAM;AAC5F,YAAA,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,MAAM,EAAE,MAAM,IAAI,CAAC,IAAI,CAAC;AAC/C,YAAA,IAAI,CAAC,4BAA4B,EAAE,KAAK,SAAS;IACrD;IAEA,oBAAoB,GAAA;AAClB,QAAA,OAAO,IAAI,CAAC,QAAQ,CAAC,UAAU,KAAK,OAAO,IAAI,IAAI,CAAC,QAAQ,CAAC,UAAU,KAAK,gBAAgB;IAC9F;IAEA,kBAAkB,GAAA;AAChB,QAAA,OAAO,IAAI,CAAC,QAAQ,CAAC,QAAQ,KAAK,QAAQ;IAC5C;IAEA,4BAA4B,GAAA;AAC1B,QAAA,OAAO,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,SAAS;IACxC;AAEA,IAAA,WAAW,CAAC,QAAkB,EAAA;AAC5B,QAAA,IAAI,CAAC,QAAQ,GAAG,QAAQ;QACxB,IAAI,CAAC,eAAe,EAAE;IACxB;IAEA,eAAe,GAAA;AACb,QAAA,IAAI,CAAC,OAAO,GAAG,IAAI,OAAO,CAAC,EAAE,EAAE,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC;AAErD,QAAA,IAAI,IAAI,CAAC,MAAM,EAAE;AACf,YAAA,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE;QACvB;IACF;IAEA,UAAU,GAAA;QACR,OAAO,IAAI,CAAC,OAAO;IACrB;AAEA,IAAA,SAAS,CAAC,MAAkB,EAAA;QAC1B,IAAI,CAAC,MAAM,EAAE;QACb,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC;QAExC,IAAI,CAAC,2BAA2B,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC,SAAS,CAAC,CAAC,OAAY,KAAK,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,CAAC;AAEvH,QAAA,IAAI,CAAC,2BAA2B,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC,SAAS,CAAC,CAAC,IAAS,KAAI;YACjF,MAAM,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,IAAI,CAAC;AACnD,YAAA,UAAU,CAAC,OAAO,CAAC,IAAI,CAAC;AAC1B,QAAA,CAAC,CAAC;IACJ;IAEA,UAAU,GAAA;AACR,QAAA,OAAO,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE;IAClC;IAEA,OAAO,GAAA;AACL,QAAA,OAAO,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE;IAC/B;AAEA,IAAA,SAAS,CAAC,GAAQ,EAAA;AAChB,QAAA,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC;AAC3B,QAAA,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,GAAG,CAAC,OAAO,EAAE,EAAE,GAAG,CAAC,UAAU,CAAC;IACvD;AAEA,IAAA,iBAAiB,CAAC,GAAQ,EAAA;AACxB,QAAA,IAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC,GAAG,CAAC;AACnC,QAAA,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,GAAG,CAAC,OAAO,EAAE,EAAE,GAAG,CAAC,UAAU,CAAC;IACvD;IAEA,WAAW,GAAA;AACT,QAAA,OAAO,IAAI,CAAC,iBAAiB,CAAC,YAAY,EAAE;IAC9C;AAEA,IAAA,SAAS,CAAC,GAAQ,EAAA;AAChB,QAAA,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC;IAC7B;AAEA,IAAA,IAAI,CAAC,GAAQ,EAAA;AACX,QAAA,GAAG,CAAC,WAAW,GAAG,IAAI;IACxB;IAEA,MAAM,CAAC,GAAQ,EAAE,cAAgD,EAAA;AAC/D,QAAA,MAAM,QAAQ,GAAG,IAAI,QAAQ,EAAE;QAC/B,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,OAAO,KAAI;AAChC,YAAA,OAAO,GAAG,OAAO,GAAG,OAAO,GAAG,GAAG,CAAC,UAAU,EAAE;AAC9C,YAAA,IAAI,CAAC,eAAe,GAAG,KAAK;YAC5B,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE;AACrC,QAAA,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,KAAI;;AAEjB,QAAA,CAAC,CAAC;QAEF,IAAI,IAAI,CAAC,QAAQ,CAAC,GAAG,EAAE,aAAa,IAAI,KAAK,EAAE;YAC7C,cAAc,CAAC,IAAI,CAAC;AAClB,gBAAA,OAAO,EAAE,GAAG,CAAC,UAAU,EAAE;gBACzB,MAAM,EAAE,IAAI,CAAC,MAAM;AACnB,gBAAA,OAAO,EAAE,QAAQ;AAClB,aAAA,CAAC;QACJ;aAAO;YACL,QAAQ,CAAC,OAAO,EAAE;QACpB;IACF;IAEA,IAAI,CAAC,GAAQ,EAAE,cAA8C,EAAA;AAE3D,QAAA,MAAM,QAAQ,GAAG,IAAI,QAAQ,EAAE;QAC/B,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,OAAO,KAAI;AAChC,YAAA,OAAO,GAAG,OAAO,GAAG,OAAO,GAAG,GAAG,CAAC,UAAU,EAAE;AAC9C,YAAA,IAAI,QAAQ,CAAC,OAAO,CAAC,QAAQ,EAAE;AAC7B,gBAAA,GAAG,CAAC,WAAW,GAAG,KAAK;YACzB;iBAAO;AACL,gBAAA,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,OAAO,EAAE,EAAE,OAAO,CAAC,CAAC,IAAI,CAAC,MAAK;AACnD,oBAAA,GAAG,CAAC,WAAW,GAAG,KAAK;AACzB,gBAAA,CAAC,CAAC;YACJ;AACF,QAAA,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,KAAI;;AAEjB,QAAA,CAAC,CAAC;QAEF,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,WAAW,IAAI,KAAK,EAAE;YAC5C,cAAc,CAAC,IAAI,CAAC;AAClB,gBAAA,GAAG,EAAE,GAAG;AACR,gBAAA,IAAI,EAAE,GAAG,CAAC,OAAO,EAAE;AACnB,gBAAA,OAAO,EAAE,GAAG,CAAC,UAAU,EAAE;gBACzB,MAAM,EAAE,IAAI,CAAC,MAAM;AACnB,gBAAA,OAAO,EAAE,QAAQ;AAClB,aAAA,CAAC;QACJ;aAAO;YACL,QAAQ,CAAC,OAAO,EAAE;QACpB;IACF;IAEA,MAAM,CAAC,GAAQ,EAAE,cAAgD,EAAA;AAE/D,QAAA,MAAM,QAAQ,GAAG,IAAI,QAAQ,EAAE;AAC/B,QAAA,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,MAAK;YACzB,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC;AACnC,QAAA,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,KAAI;;AAEjB,QAAA,CAAC,CAAC;QAEF,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,aAAa,IAAI,KAAK,EAAE;YAChD,cAAc,CAAC,IAAI,CAAC;AAClB,gBAAA,GAAG,EAAE,GAAG;AACR,gBAAA,IAAI,EAAE,GAAG,CAAC,OAAO,EAAE;gBACnB,MAAM,EAAE,IAAI,CAAC,MAAM;AACnB,gBAAA,OAAO,EAAE,QAAQ;AAClB,aAAA,CAAC;QACJ;aAAO;YACL,QAAQ,CAAC,OAAO,EAAE;QACpB;IACF;AAEA,IAAA,iBAAiB,CAAC,OAA8B,EAAA;AAC9C,QAAA,IAAI,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC,EAAE;AACrC,YAAA,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,QAAQ,EAAE,IAAI,CAAC,gBAAgB,EAAE,CAAC;YAC/D,IAAI,IAAI,CAAC,QAAQ,CAAC,UAAU,KAAK,QAAQ,EAAE;gBACzC,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,MAAM,GAAG,CAAC,EAAE;oBACrC,MAAM,GAAG,GAAG,IAAI,CAAC,oBAAoB,CAAC,OAAO,CAAC;AAC9C,oBAAA,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,GAAG,CAAC;gBAClC;qBAAO;AACL,oBAAA,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC;gBACnC;YACF;QACF;IACF;AAEA,IAAA,mBAAmB,CAAC,OAA8B,EAAA;AAChD,QAAA,IAAI,CAAC,QAAQ,EAAE,MAAM,EAAE,MAAM,EAAE,QAAQ,EAAE,SAAS,EAAE,MAAM,EAAE,OAAO,EAAE,QAAQ,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE;AAC7G,YAAA,OAAO,IAAI;QACb;AAAO,aAAA,IAAI,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,KAAK,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,OAAO,IAAI,IAAI,CAAC,EAAE;AACzG,YAAA,OAAO,IAAI;QACb;AAEA,QAAA,OAAO,KAAK;IACd;AAEA,IAAA,oBAAoB,CAAC,OAA8B,EAAA;QAEjD,IAAI,CAAC,MAAM,EAAE,MAAM,EAAE,QAAQ,EAAE,MAAM,EAAE,SAAS,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE;YAChF,OAAO,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,mBAAmB,EAAE,CAAC;QACxD;AAEA,QAAA,IAAI,IAAI,CAAC,gBAAgB,GAAG,CAAC,EAAE;AAC7B,YAAA,OAAO,IAAI;QACb;AAEA,QAAA,IAAI,OAAO,CAAC,MAAM,KAAK,QAAQ,EAAE;YAC/B,IAAI,OAAO,CAAC,QAAQ,CAAC,MAAM,KAAK,CAAC,EAAE;;AAEjC,gBAAA,IAAI,CAAC,OAAO,CAAC,iBAAiB,EAAE;YAClC;iBAAO;AACL,gBAAA,OAAO,IAAI,CAAC,OAAO,CAAC,iBAAiB,EAAE;YACzC;QACF;AACA,QAAA,IAAI,OAAO,CAAC,MAAM,KAAK,QAAQ,EAAE;;AAE/B,YAAA,IAAI,CAAC,OAAO,CAAC,iBAAiB,EAAE;QAClC;AACA,QAAA,IAAI,OAAO,CAAC,MAAM,KAAK,KAAK,EAAE;AAC5B,YAAA,OAAO,IAAI,CAAC,OAAO,CAAC,cAAc,EAAE;QACtC;AACA,QAAA,IAAI,OAAO,CAAC,MAAM,KAAK,QAAQ,EAAE;AAC/B,YAAA,OAAO,IAAI,CAAC,OAAO,CAAC,cAAc,EAAE;QACtC;AACA,QAAA,IAAI,OAAO,CAAC,MAAM,KAAK,SAAS,EAAE;;AAEhC,YAAA,IAAI,CAAC,OAAO,CAAC,kBAAkB,EAAE;QACnC;AACA,QAAA,OAAO,IAAI;IACb;AAEA,IAAA,aAAa,CAAC,MAAkB,EAAA;QAC9B,IAAI,QAAQ,GAAuB,EAAE;QACrC,KAAK,MAAM,MAAM,IAAI,IAAI,CAAC,UAAU,EAAE,EAAE;YACtC,IAAI,MAAM,CAAC,UAAU,IAAI,MAAM,CAAC,oBAAoB,KAAK,IAAI,EAAE;gBAC7D,QAAQ,CAAC,IAAI,CAAC;oBACZ,KAAK,EAAE,MAAM,CAAC,EAAE;oBAChB,SAAS,EAAE,MAAM,CAAC,oBAAoB;oBACtC,OAAO,EAAE,MAAM,CAAC,eAAe;AAChC,iBAAA,CAAC;YACJ;QACF;AACA,QAAA,MAAM,CAAC,OAAO,CAAC,QAAQ,EAAE,KAAK,CAAC;QAC/B,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,OAAO,IAAI,EAAE,EAAE,KAAK,CAAC;QAEzF,MAAM,CAAC,OAAO,EAAE;AAChB,QAAA,OAAO,MAAM;IACf;IAEA,gBAAgB,GAAA;AACd,QAAA,OAAO,IAAI,CAAC,MAAM,CAAC,gBAAgB,EAAE;IACvC;IAEA,MAAM,aAAa,CAAC,MAAe,EAAA;;AAEjC,QAAA,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,UAAU,GAAG,MAAM,CAAC;;AAG1D,QAAA,MAAM,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,UAAU,KAAK,gBAAgB,CAAC;IACzF;IAEA,WAAW,GAAA;AACT,QAAA,OAAO,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE;IACnC;IAEA,UAAU,GAAA;AACR,QAAA,OAAO,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE;IAClC;IAEQ,gBAAgB,GAAA;QACtB,OAAO;YACL,OAAO,EAAE,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,OAAO,IAAI,EAAE;YAC3C,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,IAAI,IAAI,CAAC;YACpC,gBAAgB,EAAE,IAAI,CAAC,gBAAgB;AACvC,YAAA,2BAA2B,EAAE,IAAI,CAAC,QAAQ,CAAC,2BAA2B,IAAI,KAAK;SAChF;IACH;IAEQ,mBAAmB,GAAA;AACzB,QAAA,MAAM,EAAC,2BAA2B,EAAE,gBAAgB,EAAE,OAAO,EAAC,GAAG,IAAI,CAAC,gBAAgB,EAAE;QACxF,MAAM,UAAU,GAAW,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE;AAC9C;;;;;;;;;;;AAWG;AACH,QAAA,OAAO,CACL,2BAA2B;AAC3B,YAAA,gBAAgB,GAAG,UAAU;AAC7B,YAAA,gBAAgB,IAAI,CAAC;YAErB,gBAAgB,GAAG,OAAO;AAC1B,YAAA,gBAAgB;IACpB;AAEQ,IAAA,eAAe,CAAC,MAAkB,EAAA;AACxC,QAAA,MAAM,EAAC,2BAA2B,EAAE,gBAAgB,EAAE,OAAO,EAAE,IAAI,EAAC,GAAG,IAAI,CAAC,gBAAgB,EAAE;QAC9F,IAAI,YAAY,GAAW,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC;AAC5C,QAAA,IAAI,2BAA2B,IAAI,gBAAgB,IAAI,CAAC,EAAE;AACxD,YAAA,YAAY,GAAG,kBAAkB,CAAC,gBAAgB,EAAE,OAAO,CAAC;QAC9D;AACA,QAAA,MAAM,aAAa,GAAW,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,GAAG,OAAO,CAAC;AACjE,QAAA,OAAO,aAAa,GAAG,IAAI,CAAC,GAAG,CAAC,YAAY,EAAE,aAAa,CAAC,GAAG,YAAY;IAC7E;IAEA,cAAc,GAAA;;QAEZ,IAAI,IAAI,CAAC,eAAe;YAAE;AAE1B,QAAA,MAAM,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC,mBAAmB,KAAK,OAAO,EAAE,CAAC,CAAC;AAC7D,QAAA,IAAI,CAAC,aAAa,GAAG,IAAI,GAAG,CAAC,CAAC,CAAC,EAAE,GAAG,EAAE,EAAE,IAAI,CAAC,OAAO,CAAC;AACrD,QAAA,IAAI,CAAC,aAAa,CAAC,WAAW,GAAG,IAAI;AACrC,QAAA,IAAI,CAAC,eAAe,GAAG,IAAI;IAC7B;AACD;;MClSY,cAAc,CAAA;AAEhB,IAAA,MAAM;AACN,IAAA,aAAa;AACb,IAAA,kBAAkB;AAEjB,IAAA,KAAK;AACL,IAAA,IAAI;IACJ,KAAK,GAAW,CAAC;AACjB,IAAA,OAAO;IAEP,cAAc,GAAwB,IAAI;AAEpD,IAAA,WAAW,CAAC,OAAsB,EAAA;AAChC,QAAA,IAAI,OAAO,CAAC,MAAM,EAAE;AAClB,YAAA,IAAI,IAAI,CAAC,cAAc,KAAK,IAAI,EAAE;AAChC,gBAAA,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE;YACnC;AACA,YAAA,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC,SAAS,CAAC,CAAC,WAAW,KAAI;gBACtE,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC,IAAI;gBACxC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC,OAAO;gBAC9C,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE;AAChC,gBAAA,MAAM,QAAQ,GAAG,IAAI,CAAC,OAAO,EAAE;AAC/B,gBAAA,IAAI,WAAW,CAAC,MAAM,KAAK,SAAS,EAAE;AACpC,oBAAA,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC;gBACxB;AAAO,qBAAA,IAAI,WAAW,CAAC,MAAM,KAAK,QAAQ,EAAE;AAC1C,oBAAA,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC;gBAC/B;AAAO,qBAAA,IAAI,IAAI,CAAC,IAAI,GAAG,QAAQ,EAAE;AAC/B,oBAAA,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC;gBAC/B;AAAO,qBAAA,IAAI,IAAI,CAAC,IAAI,GAAG,CAAC,EAAE;;AAExB,oBAAA,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC;gBACxB;qBAAO;;;;oBAIL,IAAI,CAAC,SAAS,EAAE;gBAClB;AACF,YAAA,CAAC,CAAC;QACJ;IACF;IAEA,WAAW,GAAA;AACT,QAAA,IAAI,IAAI,CAAC,cAAc,KAAK,IAAI,EAAE;AAChC,YAAA,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE;AACjC,YAAA,IAAI,CAAC,cAAc,GAAG,IAAI;QAC5B;IACF;IAEA,UAAU,GAAA;QACR,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,GAAG,IAAI,CAAC,OAAO;IAC3C;AAEA,IAAA,QAAQ,CAAC,IAAY,EAAA;AACnB,QAAA,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC;AACzB,QAAA,IAAI,CAAC,IAAI,GAAG,IAAI;AAChB,QAAA,OAAO,KAAK;IACd;IAEA,IAAI,GAAA;QACF,OAAO,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC;IAC1C;IAEA,IAAI,GAAA;QACF,OAAO,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC;IAC1C;IAEA,OAAO,GAAA;QACL,OAAO,IAAI,CAAC,IAAI;IAClB;IAEA,QAAQ,GAAA;QACN,OAAO,IAAI,CAAC,KAAK;IACnB;IAEA,OAAO,GAAA;AACL,QAAA,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC;QACjD,OAAO,IAAI,KAAK,CAAC,GAAG,CAAC,GAAG,IAAI;IAC9B;IAEA,SAAS,GAAA;AACP,QAAA,MAAM,UAAU,GAAG,IAAI,CAAC,OAAO,EAAE;QACjC,IAAI,cAAc,GAAG,CAAC;AACtB,QAAA,cAAc,GAAG,UAAU,GAAG,cAAc,GAAG,UAAU,GAAG,cAAc;AAC1E,QAAA,IAAI,CAAC,KAAK,GAAG,EAAE;AAEf,QAAA,IAAI,IAAI,CAAC,UAAU,EAAE,EAAE;YAErB,IAAI,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,cAAc,GAAG,CAAC,CAAC;AAC7C,YAAA,SAAS,GAAG,IAAI,CAAC,IAAI,IAAI,SAAS,GAAG,IAAI,CAAC,IAAI,GAAG,SAAS;AAE1D,YAAA,IAAI,OAAO,GAAG,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,GAAG,CAAC,CAAC;AACxD,YAAA,OAAO,GAAG,OAAO,IAAI,UAAU,GAAG,UAAU,GAAG,OAAO;AAEtD,YAAA,MAAM,QAAQ,GAAG,OAAO,GAAG,cAAc,GAAG,CAAC;AAE7C,YAAA,KAAK,IAAI,CAAC,GAAG,QAAQ,EAAE,CAAC,IAAI,OAAO,EAAE,CAAC,EAAE,EAAE;AACxC,gBAAA,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC;YACpB;QACF;IACF;AAEA,IAAA,eAAe,CAAC,UAAkB,EAAA;QAChC,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC,OAAO,GAAG,UAAU;AAC5C,QAAA,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE;QACrB,IAAI,CAAC,SAAS,EAAE;IAClB;uGA1GW,cAAc,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA;AAAd,IAAA,OAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,IAAA,EAAA,cAAc,EAAA,YAAA,EAAA,KAAA,EAAA,QAAA,EAAA,4BAAA,EAAA,MAAA,EAAA,EAAA,MAAA,EAAA,QAAA,EAAA,aAAA,EAAA,eAAA,EAAA,kBAAA,EAAA,oBAAA,EAAA,EAAA,aAAA,EAAA,IAAA,EAAA,QAAA,EAAA,EAAA,EAAA,QAAA,EAvDb,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoDX,EAAA,CAAA,EAAA,QAAA,EAAA,IAAA,EAAA,MAAA,EAAA,CAAA,8hBAAA,CAAA,EAAA,YAAA,EAAA,CAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,OAAA,EAAA,QAAA,EAAA,WAAA,EAAA,MAAA,EAAA,CAAA,OAAA,EAAA,SAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,OAAA,EAAA,QAAA,EAAA,kBAAA,EAAA,MAAA,EAAA,CAAA,SAAA,EAAA,cAAA,EAAA,eAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,IAAA,EAAA,QAAA,EAAA,QAAA,EAAA,MAAA,EAAA,CAAA,MAAA,EAAA,UAAA,EAAA,UAAA,CAAA,EAAA,CAAA,EAAA,CAAA;;2FAGU,cAAc,EAAA,UAAA,EAAA,CAAA;kBA1D1B,SAAS;AACI,YAAA,IAAA,EAAA,CAAA,EAAA,QAAA,EAAA,4BAA4B,EAAA,QAAA,EAE5B,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoDX,EAAA,CAAA,EAAA,UAAA,EACa,KAAK,EAAA,MAAA,EAAA,CAAA,8hBAAA,CAAA,EAAA;8BAIV,MAAM,EAAA,CAAA;sBAAd;gBACQ,aAAa,EAAA,CAAA;sBAArB;gBACQ,kBAAkB,EAAA,CAAA;sBAA1B;;;MC3DU,eAAe,CAAA;AAEjB,IAAA,IAAI;IACJ,UAAU,GAAW,EAAE;AAEtB,IAAA,MAAM,GAAG,IAAI,YAAY,EAAQ;AACjC,IAAA,WAAW,GAAG,IAAI,YAAY,EAAQ;IAEhD,QAAQ,GAAA;AACN,QAAA,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE;AAClB,QAAA,OAAO,KAAK;IACd;IAEA,aAAa,GAAA;AACX,QAAA,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE;AACvB,QAAA,OAAO,KAAK;IACd;AAEA,IAAA,OAAO,CAAC,KAAiB,EAAA;QACvB,KAAK,CAAC,eAAe,EAAE;IACzB;uGApBW,eAAe,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA;AAAf,IAAA,OAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,IAAA,EAAA,eAAe,wLAHd,EAAE,EAAA,QAAA,EAAA,IAAA,EAAA,CAAA;;2FAGH,eAAe,EAAA,UAAA,EAAA,CAAA;kBAJ3B,SAAS;AAAC,YAAA,IAAA,EAAA,CAAA;AACP,oBAAA,QAAQ,EAAE,EAAE;AACZ,oBAAA,UAAU,EAAE;AACf,iBAAA;8BAGU,IAAI,EAAA,CAAA;sBAAZ;gBACQ,UAAU,EAAA,CAAA;sBAAlB;gBAES,MAAM,EAAA,CAAA;sBAAf;gBACS,WAAW,EAAA,CAAA;sBAApB;;;ACHG,MAAO,mBAAoB,SAAQ,eAAe,CAAA;AAEtD,IAAA,eAAe;AACuD,IAAA,aAAa;AAEnF,IAAA,WAAW,CAAC,OAAsB,EAAA;QAChC,IAAI,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE;YACtC,MAAM,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,MAAM;AAC3C,YAAA,IAAI,CAAC,MAAM;gBAAE;AACb,YAAA,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,MAAM,CAAC,SAAS,CAAC;;YAG3E,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI;YAC9C,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU;AAC1D,YAAA,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,aAAa,CAAC,SAAS,CAAC,MAAM,IAAI,CAAC,aAAa,EAAE,CAAC;AACjF,YAAA,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,QAAQ,CAAC,SAAS,CAAC,MAAM,IAAI,CAAC,QAAQ,EAAE,CAAC;YACvE,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,KAAiB,KAAK,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;QAC7F;IACF;IAEA,WAAW,GAAA;AACT,QAAA,IAAI,IAAI,CAAC,eAAe,EAAE;AACxB,YAAA,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE;QAChC;IACF;uGAxBW,mBAAmB,EAAA,IAAA,EAAA,IAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA;2FAAnB,mBAAmB,EAAA,YAAA,EAAA,KAAA,EAAA,QAAA,EAAA,0BAAA,EAAA,WAAA,EAAA,CAAA,EAAA,YAAA,EAAA,eAAA,EAAA,KAAA,EAAA,IAAA,EAAA,SAAA,EAAA,CAAA,eAAA,CAAA,EAAA,WAAA,EAAA,IAAA,EAAA,IAAA,EAGM,gBAAgB,EAAA,MAAA,EAAA,IAAA,EAAA,CAAA,EAAA,eAAA,EAAA,IAAA,EAAA,aAAA,EAAA,IAAA,EAAA,QAAA,EAAA,EAAA,EAAA,QAAA,EARxC,CAAA;;AAEX,EAAA,CAAA,EAAA,QAAA,EAAA,IAAA,EAAA,CAAA;;2FAGU,mBAAmB,EAAA,UAAA,EAAA,CAAA;kBAP/B,SAAS;AAAC,YAAA,IAAA,EAAA,CAAA;AACP,oBAAA,QAAQ,EAAE,0BAA0B;AACpC,oBAAA,QAAQ,EAAE,CAAA;;AAEX,EAAA,CAAA;AACC,oBAAA,UAAU,EAAE;AACf,iBAAA;8BAIuE,aAAa,EAAA,CAAA;sBAAlF,SAAS;uBAAC,eAAe,EAAE,EAAE,IAAI,EAAE,gBAAgB,EAAE,MAAM,EAAE,IAAI,EAAE;;;MCNzD,aAAa,CAAA;AACf,IAAA,IAAI;AACJ,IAAA,UAAU;AAET,IAAA,aAAa,GAAG,IAAI,YAAY,EAAQ;AACxC,IAAA,QAAQ,GAAG,IAAI,YAAY,EAAQ;AACnC,IAAA,OAAO,GAAG,IAAI,YAAY,EAAc;AAElD,IAAA,IAAI,mBAAmB,GAAA;QACrB,OAAO,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,SAAS,EAAE,IAAI,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,SAAS,EAAE,CAAC,mBAAmB;IACnG;uGAVW,aAAa,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA;AAAb,IAAA,OAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,IAAA,EAAA,aAAa,oNAHZ,EAAE,EAAA,QAAA,EAAA,IAAA,EAAA,CAAA;;2FAGH,aAAa,EAAA,UAAA,EAAA,CAAA;kBAJzB,SAAS;AAAC,YAAA,IAAA,EAAA,CAAA;AACP,oBAAA,QAAQ,EAAE,EAAE;AACZ,oBAAA,UAAU,EAAE;AACf,iBAAA;8BAEU,IAAI,EAAA,CAAA;sBAAZ;gBACQ,UAAU,EAAA,CAAA;sBAAlB;gBAES,aAAa,EAAA,CAAA;sBAAtB;gBACS,QAAQ,EAAA,CAAA;sBAAjB;gBACS,OAAO,EAAA,CAAA;sBAAhB;;;ACKG,MAAO,uBAAwB,SAAQ,aAAa,CAAA;IAExD,OAAO,GAAG,MAAM;IAChB,QAAQ,GAAG,OAAO;AAElB,IAAA,WAAA,GAAA;AACE,QAAA,KAAK,EAAE;IACT;IAEA,QAAQ,GAAA;AACN,QAAA,MAAM,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,MAAM,CAAC,MAAM;AAClD,QAAA,IAAI,MAAM,KAAK,SAAS,EAAE;YACxB,MAAM,GAAG,GAAG,MAAgC;AAC5C,YAAA,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC,IAAI;AACvB,YAAA,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC,KAAK;QAC3B;IACF;AAEA,IAAA,QAAQ,CAAC,MAAe,EAAA;AACtB,QAAA,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC;IAC3D;uGApBW,uBAAuB,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA;AAAvB,IAAA,OAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,IAAA,EAAA,uBAAuB,EAAA,YAAA,EAAA,KAAA,EAAA,QAAA,EAAA,iBAAA,EAAA,eAAA,EAAA,IAAA,EAAA,QAAA,EAAA,EAAA,EAAA,QAAA,EAXtB,CAAA;;;;;;;;AAQT,IAAA,CAAA,EAAA,QAAA,EAAA,IAAA,EAAA,MAAA,EAAA,CAAA,+FAAA,CAAA,EAAA,YAAA,EAAA,CAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,OAAA,EAAA,QAAA,EAAA,WAAA,EAAA,MAAA,EAAA,CAAA,OAAA,EAAA,SAAA,CAAA,EAAA,CAAA,EAAA,CAAA;;2FAGQ,uBAAuB,EAAA,UAAA,EAAA,CAAA;kBAdnC,SAAS;AACI,YAAA,IAAA,EAAA,CAAA,EAAA,QAAA,EAAA,iBAAiB,EAAA,QAAA,EAEjB,CAAA;;;;;;;;AAQT,IAAA,CAAA,EAAA,UAAA,EACW,KAAK,EAAA,MAAA,EAAA,CAAA,+FAAA,CAAA,EAAA;;;ACGf,MAAO,oBAAqB,SAAQ,aAAa,CAAA;AAErD,IAAA,WAAA,GAAA;AACE,QAAA,KAAK,EAAE;IACT;uGAJW,oBAAoB,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA;AAApB,IAAA,OAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,IAAA,EAAA,oBAAoB,EAAA,YAAA,EAAA,KAAA,EAAA,QAAA,EAAA,cAAA,EAAA,eAAA,EAAA,IAAA,EAAA,QAAA,EAAA,EAAA,EAAA,QAAA,EAbnB,CAAA;;;;;;;;;;AAUT,IAAA,CAAA,EAAA,QAAA,EAAA,IAAA,EAAA,MAAA,EAAA,CAAA,+FAAA,CAAA,EAAA,YAAA,EAAA,CAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,OAAA,EAAA,QAAA,EAAA,WAAA,EAAA,MAAA,EAAA,CAAA,OAAA,EAAA,SAAA,CAAA,EAAA,CAAA,EAAA,CAAA;;2FAGQ,oBAAoB,EAAA,UAAA,EAAA,CAAA;kBAhBhC,SAAS;AACI,YAAA,IAAA,EAAA,CAAA,EAAA,QAAA,EAAA,cAAc,EAAA,QAAA,EAEd,CAAA;;;;;;;;;;AAUT,IAAA,CAAA,EAAA,UAAA,EACW,KAAK,EAAA,MAAA,EAAA,CAAA,+FAAA,CAAA,EAAA;;;ACOf,MAAO,qBAAsB,SAAQ,aAAa,CAAA;AAEtD,IAAA,WAAA,GAAA;AACE,QAAA,KAAK,EAAE;IACT;AAEA,IAAA,IAAI,YAAY,GAAA;QACd,OAAO,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,SAAS,EAAE;IAC1C;AAEA,IAAA,kBAAkB,CAAC,QAAgB,EAAA;AACjC,QAAA,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC;IAC9B;uGAZW,qBAAqB,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA;AAArB,IAAA,OAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,IAAA,EAAA,qBAAqB,EAAA,YAAA,EAAA,KAAA,EAAA,QAAA,EAAA,eAAA,EAAA,eAAA,EAAA,IAAA,EAAA,QAAA,EAAA,EAAA,EAAA,QAAA,EAjBpB;;;;;;;;;;;;;;AAcT,IAAA,CAAA,EAAA,QAAA,EAAA,IAAA,EAAA,MAAA,EAAA,CAAA,+FAAA,CAAA,EAAA,YAAA,EAAA,CAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,OAAA,EAAA,QAAA,EAAA,WAAA,EAAA,MAAA,EAAA,CAAA,OAAA,EAAA,SAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,OAAA,EAAA,QAAA,EAAA,kBAAA,EAAA,MAAA,EAAA,CAAA,SAAA,EAAA,cAAA,EAAA,eAAA,CAAA,EAAA,CAAA,EAAA,CAAA;;2FAGQ,qBAAqB,EAAA,UAAA,EAAA,CAAA;kBApBjC,SAAS;AACI,YAAA,IAAA,EAAA,CAAA,EAAA,QAAA,EAAA,eAAe,EAAA,QAAA,EAEf;;;;;;;;;;;;;;AAcT,IAAA,CAAA,EAAA,UAAA,EACW,KAAK,EAAA,MAAA,EAAA,CAAA,+FAAA,CAAA,EAAA;;;ACFf,MAAO,uBAAwB,SAAQ,aAAa,CAAA;AAExD,IAAA,WAAA,GAAA;AACE,QAAA,KAAK,EAAE;IACT;uGAJW,uBAAuB,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA;AAAvB,IAAA,OAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,IAAA,EAAA,uBAAuB,EAAA,YAAA,EAAA,KAAA,EAAA,QAAA,EAAA,iBAAA,EAAA,eAAA,EAAA,IAAA,EAAA,QAAA,EAAA,EAAA,EAAA,QAAA,EAdtB,CAAA;;;;;;;;;;;AAWT,IAAA,CAAA,EAAA,QAAA,EAAA,IAAA,EAAA,MAAA,EAAA,CAAA,+FAAA,CAAA,EAAA,YAAA,EAAA,CAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,OAAA,EAAA,QAAA,EAAA,WAAA,EAAA,MAAA,EAAA,CAAA,OAAA,EAAA,SAAA,CAAA,EAAA,CAAA,EAAA,CAAA;;2FAGQ,uBAAuB,EAAA,UAAA,EAAA,CAAA;kBAjBnC,SAAS;AACI,YAAA,IAAA,EAAA,CAAA,EAAA,QAAA,EAAA,iBAAiB,EAAA,QAAA,EAEjB,CAAA;;;;;;;;;;;AAWT,IAAA,CAAA,EAAA,UAAA,EACW,KAAK,EAAA,MAAA,EAAA,CAAA,+FAAA,CAAA,EAAA;;;ACVf,MAAO,oBAAqB,SAAQ,eAAe,CAAA;AAEvD,IAAA,WAAA,GAAA;AACE,QAAA,KAAK,EAAE;IACT;IAEA,aAAa,GAAA;QACX,MAAM,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,MAAM;QAC3C,IAAI,CAAC,MAAM,EAAE;AACX,YAAA,OAAO,SAAS;QAClB;QACA,OAAO,MAAM,CAAC,IAAI;IACpB;uGAZW,oBAAoB,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA;AAApB,IAAA,OAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,IAAA,EAAA,oBAAoB,6GCTjC,+tCA+BA,EAAA,YAAA,EAAA,CAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,QAAA,EAAA,QAAA,EAAA,YAAA,EAAA,MAAA,EAAA,CAAA,UAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,YAAA,EAAA,QAAA,EAAA,gBAAA,EAAA,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,eAAA,EAAA,QAAA,EAAA,mBAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAAA,uBAAA,EAAA,QAAA,EAAA,iBAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAAC,oBAAA,EAAA,QAAA,EAAA,cAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAAC,qBAAA,EAAA,QAAA,EAAA,eAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAAC,uBAAA,EAAA,QAAA,EAAA,iBAAA,EAAA,CAAA,EAAA,CAAA;;2FDtBa,oBAAoB,EAAA,UAAA,EAAA,CAAA;kBALhC,SAAS;AACI,YAAA,IAAA,EAAA,CAAA,EAAA,QAAA,EAAA,2BAA2B,cAEzB,KAAK,EAAA,QAAA,EAAA,+tCAAA,EAAA;;;MEiBR,iBAAiB,CAAA;AAEnB,IAAA,IAAI;IACJ,UAAU,GAAW,EAAE;AAEtB,IAAA,MAAM,GAAG,IAAI,YAAY,EAAQ;AACjC,IAAA,WAAW,GAAG,IAAI,YAAY,EAAQ;IAEhD,QAAQ,GAAA;AACN,QAAA,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;IACxB;IAEA,aAAa,GAAA;QACX,MAAM,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,MAAM;QAC3C,IAAI,CAAC,MAAM,EAAE;AACX,YAAA,OAAO,SAAS;QAClB;QACA,OAAO,MAAM,CAAC,IAAI;IACpB;uGAlBW,iBAAiB,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA;AAAjB,IAAA,OAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,IAAA,EAAA,iBAAiB,EAAA,YAAA,EAAA,KAAA,EAAA,QAAA,EAAA,sBAAA,EAAA,MAAA,EAAA,EAAA,IAAA,EAAA,MAAA,EAAA,UAAA,EAAA,YAAA,EAAA,EAAA,OAAA,EAAA,EAAA,MAAA,EAAA,QAAA,EAAA,WAAA,EAAA,aAAA,EAAA,EAAA,QAAA,EAAA,EAAA,EAAA,QAAA,EAlBhB,CAAA;;;;;;;;;;;;;;;AAeT,IAAA,CAAA,EAAA,QAAA,EAAA,IAAA,EAAA,YAAA,EAAA,CAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,QAAA,EAAA,QAAA,EAAA,YAAA,EAAA,MAAA,EAAA,CAAA,UAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,YAAA,EAAA,QAAA,EAAA,gBAAA,EAAA,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,eAAA,EAAA,QAAA,EAAA,mBAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAAC,mBAAA,EAAA,QAAA,EAAA,0BAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAAC,oBAAA,EAAA,QAAA,EAAA,2BAAA,EAAA,CAAA,EAAA,CAAA;;2FAGQ,iBAAiB,EAAA,UAAA,EAAA,CAAA;kBApB7B,SAAS;AAAC,YAAA,IAAA,EAAA,CAAA;AACP,oBAAA,QAAQ,EAAE,sBAAsB;AAChC,oBAAA,QAAQ,EAAE,CAAA;;;;;;;;;;;;;;;AAeT,IAAA,CAAA;AACD,oBAAA,UAAU,EAAE;AACf,iBAAA;8BAGU,IAAI,EAAA,CAAA;sBAAZ;gBACQ,UAAU,EAAA,CAAA;sBAAlB;gBAES,MAAM,EAAA,CAAA;sBAAf;gBACS,WAAW,EAAA,CAAA;sBAApB;;;MCnBU,mBAAmB,CAAA;AAE9B,IAAA,eAAe;AACN,IAAA,IAAI;AACyD,IAAA,aAAa;IAEnF,QAAQ,GAAA;QACN,IAAI,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE;AACtC,YAAA,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,eAAe,CAAC;YAChG,MAAM,qBAAqB,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,qBAAqB;AACzE,YAAA,IAAI,qBAAqB,KAAK,SAAS,EAAE;AACvC,gBAAA,OAAO,CAAC,KAAK,CAAC,6EAA6E,CAAC;YAC9F;iBAAO;gBACL,qBAAqB,CAAC,IAAI,CAAC,eAAe,CAAC,QAAQ,EAAE,IAAI,CAAC,IAAI,CAAC;YACjE;QACF;IACF;IAEA,WAAW,GAAA;AACT,QAAA,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE;IAChC;uGApBW,mBAAmB,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA;2FAAnB,mBAAmB,EAAA,YAAA,EAAA,KAAA,EAAA,QAAA,EAAA,uBAAA,EAAA,MAAA,EAAA,EAAA,IAAA,EAAA,MAAA,EAAA,EAAA,WAAA,EAAA,CAAA,EAAA,YAAA,EAAA,eAAA,EAAA,KAAA,EAAA,IAAA,EAAA,SAAA,EAAA,CAAA,eAAA,CAAA,EAAA,WAAA,EAAA,IAAA,EAAA,IAAA,EAIM,gBAAgB,EAAA,MAAA,EAAA,IAAA,EAAA,CAAA,EAAA,QAAA,EAAA,EAAA,EAAA,QAAA,EATxC,CAAA;;AAEX,EAAA,CAAA,EAAA,QAAA,EAAA,IAAA,EAAA,CAAA;;2FAGU,mBAAmB,EAAA,UAAA,EAAA,CAAA;kBAP/B,SAAS;AAAC,YAAA,IAAA,EAAA,CAAA;AACP,oBAAA,QAAQ,EAAE,uBAAuB;AACjC,oBAAA,QAAQ,EAAE,CAAA;;AAEX,EAAA,CAAA;AACC,oBAAA,UAAU,EAAE;AACf,iBAAA;8BAIU,IAAI,EAAA,CAAA;sBAAZ;gBACqE,aAAa,EAAA,CAAA;sBAAlF,SAAS;uBAAC,eAAe,EAAE,EAAE,IAAI,EAAE,gBAAgB,EAAE,MAAM,EAAE,IAAI,EAAE;;;MCNzD,uBAAuB,CAAA;AAEZ,IAAA,SAAA;AAAtB,IAAA,WAAA,CAAsB,SAAuB,EAAA;QAAvB,IAAA,CAAA,SAAS,GAAT,SAAS;IAAiB;IAEzC,SAAS,CAAC,KAAa,EAAE,IAAuB,EAAA;QACrD,QAAQ,IAAI;AACV,YAAA,KAAK,MAAM,EAAE,OAAO,IAAI,CAAC,SAAS,CAAC,uBAAuB,CAAC,KAAK,CAAC;AACjE,YAAA,KAAK,OAAO,EAAE,OAAO,IAAI,CAAC,SAAS,CAAC,wBAAwB,CAAC,KAAK,CAAC;AACnE,YAAA,KAAK,QAAQ,EAAE,OAAO,IAAI,CAAC,SAAS,CAAC,yBAAyB,CAAC,KAAK,CAAC;AACrE,YAAA,KAAK,KAAK,EAAE,OAAO,IAAI,CAAC,SAAS,CAAC,sBAAsB,CAAC,KAAK,CAAC;AAC/D,YAAA,KAAK,aAAa,EAAE,OAAO,IAAI,CAAC,SAAS,CAAC,8BAA8B,CAAC,KAAK,CAAC;AAC/E,YAAA,KAAK,MAAM,EAAE,OAAO,KAAK;;IAE7B;uGAbW,uBAAuB,EAAA,IAAA,EAAA,CAAA,EAAA,KAAA,EAAAC,IAAA,CAAA,YAAA,EAAA,CAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,IAAA,EAAA,CAAA;qGAAvB,uBAAuB,EAAA,YAAA,EAAA,KAAA,EAAA,IAAA,EAAA,qBAAA,EAAA,CAAA;;2FAAvB,uBAAuB,EAAA,UAAA,EAAA,CAAA;kBAJnC,IAAI;AAAC,YAAA,IAAA,EAAA,CAAA;AACF,oBAAA,IAAI,EAAE,qBAAqB;AAC3B,oBAAA,UAAU,EAAE;AACf,iBAAA;;;MCSY,iBAAiB,CAAA;AAEnB,IAAA,IAAI;AAEb,IAAA,IAAI,mBAAmB,GAAA;AACrB,QAAA,OAAO,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,SAAS,CAAC,UAAU,GAAG,MAAM,GAAG,MAAM;IACrE;AAEA,IAAA,IAAI,QAAQ,GAAA;QACV,OAAO,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,YAAY;IAC3C;uGAVW,iBAAiB,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA;AAAjB,IAAA,OAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,IAAA,EAAA,iBAAiB,EAAA,YAAA,EAAA,KAAA,EAAA,QAAA,EAAA,sBAAA,EAAA,MAAA,EAAA,EAAA,IAAA,EAAA,MAAA,EAAA,EAAA,QAAA,EAAA,EAAA,EAAA,QAAA,EAThB,CAAA;;;;;;AAMT,IAAA,CAAA,EAAA,QAAA,EAAA,IAAA,EAAA,YAAA,EAAA,CAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,OAAA,EAAA,QAAA,EAAA,WAAA,EAAA,MAAA,EAAA,CAAA,OAAA,EAAA,SAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,QAAA,EAAA,QAAA,EAAA,YAAA,EAAA,MAAA,EAAA,CAAA,UAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,YAAA,EAAA,QAAA,EAAA,gBAAA,EAAA,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,eAAA,EAAA,QAAA,EAAA,mBAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAAC,mBAAA,EAAA,QAAA,EAAA,uBAAA,EAAA,MAAA,EAAA,CAAA,MAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,MAAA,EAAA,IAAA,EAAAC,uBAAA,EAAA,IAAA,EAAA,qBAAA,EAAA,CAAA,EAAA,eAAA,EAAA,EAAA,CAAA,uBAAA,CAAA,MAAA,EAAA,CAAA;;2FAGQ,iBAAiB,EAAA,UAAA,EAAA,CAAA;kBAZ7B,SAAS;AAAC,YAAA,IAAA,EAAA,CAAA;AACP,oBAAA,QAAQ,EAAE,sBAAsB;oBAChC,eAAe,EAAE,uBAAuB,CAAC,MAAM;AAC/C,oBAAA,QAAQ,EAAE,CAAA;;;;;;AAMT,IAAA,CAAA;AACD,oBAAA,UAAU,EAAE;AACf,iBAAA;8BAGU,IAAI,EAAA,CAAA;sBAAZ;;;MCAU,aAAa,CAAA;AAEf,IAAA,IAAI;AACJ,IAAA,GAAG;AACH,IAAA,IAAI;IACJ,UAAU,GAAW,EAAE;IACvB,IAAI,GAAW,QAAQ;IACvB,WAAW,GAAY,KAAK;AAC5B,IAAA,KAAK;;AAEL,IAAA,WAAW;AACX,IAAA,UAAU;;AAEV,IAAA,aAAa;AACb,IAAA,YAAY;IAErB,QAAQ,GAAA;AACN,QAAA,IAAI,IAAI,CAAC,KAAK,EAAE;AACd,YAAA,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,aAAa,CAAC;QAC/D;aAAO;AACL,YAAA,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,WAAW,CAAC;QAC5C;IACF;IAEA,aAAa,GAAA;AACX,QAAA,IAAI,IAAI,CAAC,KAAK,EAAE;AACd,YAAA,IAAI,CAAC,IAAI,CAAC,eAAe,GAAG,KAAK;AACjC,YAAA,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC;gBACrB,aAAa,EAAE,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,UAAU,EAAE;AACnD,gBAAA,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM;AACzB,aAAA,CAAC;QACJ;aAAO;AACL,YAAA,IAAI,CAAC,GAAG,CAAC,WAAW,GAAG,KAAK;AAC5B,YAAA,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC;gBACnB,GAAG,EAAE,IAAI,CAAC,GAAG;AACb,gBAAA,IAAI,EAAE,IAAI,CAAC,GAAG,CAAC,OAAO,EAAE;AACxB,gBAAA,aAAa,EAAE,IAAI,CAAC,GAAG,CAAC,UAAU,EAAE;AACpC,gBAAA,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM;AACzB,aAAA,CAAC;QACJ;IACF;uGAxCW,aAAa,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA;AAAb,IAAA,OAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,IAAA,EAAA,aAAa,EAAA,YAAA,EAAA,KAAA,EAAA,QAAA,EAAA,2BAAA,EAAA,MAAA,EAAA,EAAA,IAAA,EAAA,MAAA,EAAA,GAAA,EAAA,KAAA,EAAA,IAAA,EAAA,MAAA,EAAA,UAAA,EAAA,YAAA,EAAA,IAAA,EAAA,MAAA,EAAA,WAAA,EAAA,aAAA,EAAA,KAAA,EAAA,OAAA,EAAA,WAAA,EAAA,aAAA,EAAA,UAAA,EAAA,YAAA,EAAA,aAAA,EAAA,eAAA,EAAA,YAAA,EAAA,cAAA,EAAA,EAAA,QAAA,EAAA,EAAA,EAAA,QAAA,EAVZ,CAAA;;;;;;;AAOX,EAAA,CAAA,EAAA,QAAA,EAAA,IAAA,EAAA,YAAA,EAAA,CAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,IAAA,EAAA,QAAA,EAAA,QAAA,EAAA,MAAA,EAAA,CAAA,MAAA,EAAA,UAAA,EAAA,UAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAAC,iBAAA,EAAA,QAAA,EAAA,sBAAA,EAAA,MAAA,EAAA,CAAA,MAAA,EAAA,YAAA,CAAA,EAAA,OAAA,EAAA,CAAA,QAAA,EAAA,aAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAAC,iBAAA,EAAA,QAAA,EAAA,sBAAA,EAAA,MAAA,EAAA,CAAA,MAAA,CAAA,EAAA,CAAA,EAAA,CAAA;;2FAGU,aAAa,EAAA,UAAA,EAAA,CAAA;kBAZzB,SAAS;AAAC,YAAA,IAAA,EAAA,CAAA;AACP,oBAAA,QAAQ,EAAE,2BAA2B;AACrC,oBAAA,QAAQ,EAAE,CAAA;;;;;;;AAOX,EAAA,CAAA;AACC,oBAAA,UAAU,EAAE;AACf,iBAAA;8BAGU,IAAI,EAAA,CAAA;sBAAZ;gBACQ,GAAG,EAAA,CAAA;sBAAX;gBACQ,IAAI,EAAA,CAAA;sBAAZ;gBACQ,UAAU,EAAA,CAAA;sBAAlB;gBACQ,IAAI,EAAA,CAAA;sBAAZ;gBACQ,WAAW,EAAA,CAAA;sBAAnB;gBACQ,KAAK,EAAA,CAAA;sBAAb;gBAEQ,WAAW,EAAA,CAAA;sBAAnB;gBACQ,UAAU,EAAA,CAAA;sBAAlB;gBAEQ,aAAa,EAAA,CAAA;sBAArB;gBACQ,YAAY,EAAA,CAAA;sBAApB;;;MCfU,wBAAwB,CAAA;AAE1B,IAAA,IAAI;AACJ,IAAA,GAAG;AACH,IAAA,WAAW;AACX,IAAA,UAAU;AAEnB,IAAA,mBAAmB;AACnB,IAAA,iBAAiB;IACjB,mBAAmB,GAAsB,MAAM;AAE/C,IAAA,MAAM,CAAC,KAAiB,EAAA;QACtB,KAAK,CAAC,cAAc,EAAE;QACtB,KAAK,CAAC,eAAe,EAAE;AAEvB,QAAA,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,WAAW,CAAC;IAC5C;AAEA,IAAA,YAAY,CAAC,KAAiB,EAAA;QAC5B,KAAK,CAAC,cAAc,EAAE;QACtB,KAAK,CAAC,eAAe,EAAE;AAEvB,QAAA,IAAI,CAAC,GAAG,CAAC,WAAW,GAAG,KAAK;AAC5B,QAAA,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC;YACnB,GAAG,EAAE,IAAI,CAAC,GAAG;AACb,YAAA,IAAI,EAAE,IAAI,CAAC,GAAG,CAAC,OAAO,EAAE;AACxB,YAAA,aAAa,EAAE,IAAI,CAAC,GAAG,CAAC,UAAU,EAAE;AACpC,YAAA,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM;AACzB,SAAA,CAAC;IACJ;IAEA,WAAW,GAAA;;AAET,QAAA,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAK,CAAC,iBAAkB;AACpE,QAAA,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAK,CAAC,mBAAoB;QACxE,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,SAAS,EAAE,UAAU,GAAG,MAAM,GAAG,MAAM;IAC7F;uGApCW,wBAAwB,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA;AAAxB,IAAA,OAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,IAAA,EAAA,wBAAwB,EAAA,YAAA,EAAA,KAAA,EAAA,QAAA,EAAA,iCAAA,EAAA,MAAA,EAAA,EAAA,IAAA,EAAA,MAAA,EAAA,GAAA,EAAA,KAAA,EAAA,WAAA,EAAA,aAAA,EAAA,UAAA,EAAA,YAAA,EAAA,EAAA,aAAA,EAAA,IAAA,EAAA,QAAA,EAAA,EAAA,EAAA,QAAA,EARvB,CAAA;;;;;AAKX,EAAA,CAAA,EAAA,QAAA,EAAA,IAAA,EAAA,YAAA,EAAA,CAAA,EAAA,IAAA,EAAA,MAAA,EAAA,IAAA,EAAAC,uBAAA,EAAA,IAAA,EAAA,qBAAA,EAAA,CAAA,EAAA,CAAA;;2FAGU,wBAAwB,EAAA,UAAA,EAAA,CAAA;kBAXpC,SAAS;AAAC,YAAA,IAAA,EAAA,CAAA;;AAEP,oBAAA,QAAQ,EAAE,iCAAiC;AAC3C,oBAAA,QAAQ,EAAE,CAAA;;;;;AAKX,EAAA,CAAA;AACC,oBAAA,UAAU,EAAE;AACf,iBAAA;8BAGU,IAAI,EAAA,CAAA;sBAAZ;gBACQ,GAAG,EAAA,CAAA;sBAAX;gBACQ,WAAW,EAAA,CAAA;sBAAnB;gBACQ,UAAU,EAAA,CAAA;sBAAlB;;;MCDU,wBAAwB,CAAA;AAE1B,IAAA,IAAI;AACJ,IAAA,GAAG;AACH,IAAA,MAAM;AACN,IAAA,aAAa;AAEZ,IAAA,IAAI,GAAG,IAAI,YAAY,EAAa;AACpC,IAAA,MAAM,GAAG,IAAI,YAAY,EAAe;AACxC,IAAA,aAAa,GAAG,IAAI,YAAY,EAAO;AAEjD,IAAA,oBAAoB;IACpB,6BAA6B,GAAsB,MAAM;AACzD,IAAA,sBAAsB,GAA0B,CAAC,CAAC,KAAK,KAAK;AAC5D,IAAA,wBAAwB,GAA0B,CAAC,CAAC,KAAK,KAAK;AAC9D,IAAA,wBAAwB,GAA0B,CAAC,CAAC,KAAK,KAAK;AAC9D,IAAA,0BAA0B,GAA0B,CAAC,CAAC,KAAK,KAAK;AAChE,IAAA,sBAAsB;IACtB,+BAA+B,GAAsB,MAAM;AAE3D,IAAA,MAAM,CAAC,KAAU,EAAA;QACf,KAAK,CAAC,cAAc,EAAE;QACtB,KAAK,CAAC,eAAe,EAAE;QACvB,IAAI,IAAI,CAAC,YAAY;YAAE;QAEvB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC;QAEjC,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,KAAK,UAAU,EAAE;AAC1C,YAAA,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;gBACb,GAAG,EAAE,IAAI,CAAC,GAAG;AACb,gBAAA,IAAI,EAAE,IAAI,CAAC,GAAG,CAAC,OAAO,EAAE;gBACxB,MAAM,EAAE,IAAI,CAAC,MAAM;AACpB,aAAA,CAAC;QACJ;aAAO;YACL,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC;QAC1B;IACF;AAEA,IAAA,QAAQ,CAAC,KAAU,EAAA;QACjB,KAAK,CAAC,cAAc,EAAE;QACtB,KAAK,CAAC,eAAe,EAAE;QACvB,IAAI,IAAI,CAAC,cAAc;YAAE;QAEzB,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,KAAK,UAAU,EAAE;AAC1C,YAAA,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;gBACf,GAAG,EAAE,IAAI,CAAC,GAAG;AACb,gBAAA,IAAI,EAAE,IAAI,CAAC,GAAG,CAAC,OAAO,EAAE;gBACxB,MAAM,EAAE,IAAI,CAAC,MAAM;AACpB,aAAA,CAAC;QACJ;aAAO;AACL,YAAA,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,aAAa,CAAC;QAChD;IACF;AAEA,IAAA,IAAI,WAAW,GAAA;QACb,OAAO,CAAC,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,GAAG,CAAC;IAC/C;AAEA,IAAA,IAAI,YAAY,GAAA;QACd,OAAO,IAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,GAAG,CAAC;IAChD;AAEA,IAAA,IAAI,aAAa,GAAA;QACf,OAAO,CAAC,IAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,GAAG,CAAC;IACjD;AAEA,IAAA,IAAI,cAAc,GAAA;QAChB,OAAO,IAAI,CAAC,0BAA0B,CAAC,IAAI,CAAC,GAAG,CAAC;IAClD;IAEA,WAAW,GAAA;QACT,MAAM,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO;QAC1C,IAAI,OAAO,KAAK,KAAK,IAAI,OAAO,KAAK,SAAS,EAAE;;AAE9C,YAAA,IAAI,CAAC,sBAAsB,GAAG,CAAC,CAAC,MAAM,OAAO,KAAK,KAAK,CAAC;AACxD,YAAA,IAAI,CAAC,wBAAwB,GAAG,CAAC,CAAC,MAAM,OAAO,KAAK,KAAK,CAAC;YAC1D;QACF;AAEA,QAAA,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,iBAAiB,IAAI,MAAM;QAChF,IAAI,CAAC,6BAA6B,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,SAAS,EAAE,UAAU,GAAG,MAAM,GAAG,MAAM;QACrG,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,UAAU,KAAK,CAAC,CAAC,MAAM,OAAO,CAAC,IAAI,KAAK,KAAK,CAAC,CAAC;AACtG,QAAA,IAAI,CAAC,wBAAwB,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,YAAY,IAAI,IAAI,CAAC,wBAAwB;AACtG,QAAA,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,mBAAmB,IAAI,QAAQ;QACxF,IAAI,CAAC,+BAA+B,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,SAAS,EAAE,UAAU,GAAG,MAAM,GAAG,MAAM;QACzG,IAAI,CAAC,wBAAwB,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,UAAU,KAAK,CAAC,CAAC,MAAM,OAAO,CAAC,MAAM,KAAK,KAAK,CAAC,CAAC;AAC5G,QAAA,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,YAAY,IAAI,IAAI,CAAC,0BAA0B;IAC9G;uGAvFW,wBAAwB,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA;AAAxB,IAAA,OAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,IAAA,EAAA,wBAAwB,EAAA,YAAA,EAAA,KAAA,EAAA,QAAA,EAAA,+BAAA,EAAA,MAAA,EAAA,EAAA,IAAA,EAAA,MAAA,EAAA,GAAA,EAAA,KAAA,EAAA,MAAA,EAAA,QAAA,EAAA,aAAA,EAAA,eAAA,EAAA,EAAA,OAAA,EAAA,EAAA,IAAA,EAAA,MAAA,EAAA,MAAA,EAAA,QAAA,EAAA,aAAA,EAAA,eAAA,EAAA,EAAA,aAAA,EAAA,IAAA,EAAA,QAAA,EAAA,EAAA,EAAA,QAAA,EAXvB,CAAA;;;;;;;;AAQX,EAAA,CAAA,EAAA,QAAA,EAAA,IAAA,EAAA,YAAA,EAAA,CAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,OAAA,EAAA,QAAA,EAAA,WAAA,EAAA,MAAA,EAAA,CAAA,OAAA,EAAA,SAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,IAAA,EAAA,QAAA,EAAA,QAAA,EAAA,MAAA,EAAA,CAAA,MAAA,EAAA,UAAA,EAAA,UAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,MAAA,EAAA,IAAA,EAAAC,uBAAA,EAAA,IAAA,EAAA,qBAAA,EAAA,CAAA,EAAA,eAAA,EAAA,EAAA,CAAA,uBAAA,CAAA,MAAA,EAAA,CAAA;;2FAGU,wBAAwB,EAAA,UAAA,EAAA,CAAA;kBAdpC,SAAS;AAAC,YAAA,IAAA,EAAA,CAAA;AACP,oBAAA,QAAQ,EAAE,+BAA+B;oBACzC,eAAe,EAAE,uBAAuB,CAAC,MAAM;AAC/C,oBAAA,QAAQ,EAAE,CAAA;;;;;;;;AAQX,EAAA,CAAA;AACC,oBAAA,UAAU,EAAE;AACf,iBAAA;8BAGU,IAAI,EAAA,CAAA;sBAAZ;gBACQ,GAAG,EAAA,CAAA;sBAAX;gBACQ,MAAM,EAAA,CAAA;sBAAd;gBACQ,aAAa,EAAA,CAAA;sBAArB;gBAES,IAAI,EAAA,CAAA;sBAAb;gBACS,MAAM,EAAA,CAAA;sBAAf;gBACS,aAAa,EAAA,CAAA;sBAAtB;;;MCpBU,wBAAwB,CAAA;AAEnC,IAAA,eAAe;AACN,IAAA,MAAM;AACN,IAAA,GAAG;AAC0D,IAAA,aAAa;IAEnF,QAAQ,GAAA;AACN,QAAA,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC;AACtF,QAAA,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,EAAE,CAAC;IAC/D;IAEA,WAAW,GAAA;AACT,QAAA,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE;IAChC;IAEU,QAAQ,GAAA;QAChB,OAAO;YACL,MAAM,EAAE,IAAI,CAAC,MAAM;AACnB,YAAA,OAAO,EAAE,IAAI,CAAC,GAAG,CAAC,OAAO,EAAE;SAC5B;IACH;uGArBW,wBAAwB,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA;2FAAxB,wBAAwB,EAAA,YAAA,EAAA,KAAA,EAAA,QAAA,EAAA,+BAAA,EAAA,MAAA,EAAA,EAAA,MAAA,EAAA,QAAA,EAAA,GAAA,EAAA,KAAA,EAAA,EAAA,WAAA,EAAA,CAAA,EAAA,YAAA,EAAA,eAAA,EAAA,KAAA,EAAA,IAAA,EAAA,SAAA,EAAA,CAAA,eAAA,CAAA,EAAA,WAAA,EAAA,IAAA,EAAA,IAAA,EAKC,gBAAgB,EAAA,MAAA,EAAA,IAAA,EAAA,CAAA,EAAA,QAAA,EAAA,EAAA,EAAA,QAAA,EAVxC,CAAA;;AAEX,EAAA,CAAA,EAAA,QAAA,EAAA,IAAA,EAAA,CAAA;;2FAGU,wBAAwB,EAAA,UAAA,EAAA,CAAA;kBAPpC,SAAS;AAAC,YAAA,IAAA,EAAA,CAAA;AACP,oBAAA,QAAQ,EAAE,+BAA+B;AACzC,oBAAA,QAAQ,EAAE,CAAA;;AAEX,EAAA,CAAA;AACC,oBAAA,UAAU,EAAE;AACf,iBAAA;8BAIU,MAAM,EAAA,CAAA;sBAAd;gBACQ,GAAG,EAAA,CAAA;sBAAX;gBACqE,aAAa,EAAA,CAAA;sBAAlF,SAAS;uBAAC,eAAe,EAAE,EAAE,IAAI,EAAE,gBAAgB,EAAE,MAAM,EAAE,IAAI,EAAE;;;MCkBzD,oBAAoB,CAAA;AAEtB,IAAA,IAAI;AACJ,IAAA,GAAG;AACH,IAAA,MAAM;AACL,IAAA,MAAM,GAAG,IAAI,YAAY,EAAqB;AAExD,IAAA,IAAI,aAAa,GAAA;QACf,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,KAAK,KAAK;AAAE,YAAA,OAAO,EAAE;QACnD,OAAO,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,MAAM,IAAI,EAAE;IACjD;AAEA,IAAA,aAAa,CAAC,MAAoB,EAAA;QAChC,OAAO,MAAM,CAAC,mBAAmB,IAAI,MAAM,CAAC,KAAK,IAAI,MAAM,CAAC,IAAI;IAClE;AAEA,IAAA,sBAAsB,CAAC,MAAoB,EAAA;AACzC,QAAA,OAAO,CAAC,MAAM,CAAC,SAAS,EAAE,UAAU,IAAI,KAAK,IAAI,MAAM,GAAG,MAAM;IAClE;AAEA,IAAA,UAAU,CAAC,MAAoB,EAAA;AAC7B,QAAA,OAAO,MAAM,CAAC,UAAU,KAAK,SAAS,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC;IACxE;AAEA,IAAA,aAAa,CAAC,MAAoB,EAAA;AAChC,QAAA,OAAO,MAAM,CAAC,YAAY,KAAK,SAAS,IAAI,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,GAAG,CAAC;IAC3E;IAEA,QAAQ,CAAC,MAAoB,EAAE,KAAiB,EAAA;QAC9C,KAAK,CAAC,cAAc,EAAE;QACtB,KAAK,CAAC,eAAe,EAAE;AAEvB,QAAA,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;YACf,MAAM,EAAE,MAAM,CAAC,IAAI;YACnB,GAAG,EAAE,IAAI,CAAC,GAAG;AACb,YAAA,IAAI,EAAE,IAAI,CAAC,GAAG,CAAC,OAAO,EAAE;YACxB,MAAM,EAAE,IAAI,CAAC,MAAM;AACpB,SAAA,CAAC;IACJ;uGAtCW,oBAAoB,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA;AAApB,IAAA,OAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,IAAA,EAAA,oBAAoB,EAAA,YAAA,EAAA,KAAA,EAAA,QAAA,EAAA,0BAAA,EAAA,MAAA,EAAA,EAAA,IAAA,EAAA,MAAA,EAAA,GAAA,EAAA,KAAA,EAAA,MAAA,EAAA,QAAA,EAAA,EAAA,OAAA,EAAA,EAAA,MAAA,EAAA,QAAA,EAAA,EAAA,QAAA,EAAA,EAAA,EAAA,QAAA,EAvBnB,CAAA;;;;;;;;;;;;;;;;;;;;AAoBX,EAAA,CAAA,EAAA,QAAA,EAAA,IAAA,EAAA,YAAA,EAAA,CAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,OAAA,EAAA,QAAA,EAAA,WAAA,EAAA,MAAA,EAAA,CAAA,OAAA,EAAA,SAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,OAAA,EAAA,QAAA,EAAA,kBAAA,EAAA,MAAA,EAAA,CAAA,SAAA,EAAA,cAAA,EAAA,eAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,IAAA,EAAA,QAAA,EAAA,QAAA,EAAA,MAAA,EAAA,CAAA,MAAA,EAAA,UAAA,EAAA,UAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAAC,wBAAA,EAAA,QAAA,EAAA,+BAAA,EAAA,MAAA,EAAA,CAAA,QAAA,EAAA,KAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,MAAA,EAAA,IAAA,EAAAL,uBAAA,EAAA,IAAA,EAAA,qBAAA,EAAA,CAAA,EAAA,eAAA,EAAA,EAAA,CAAA,uBAAA,CAAA,MAAA,EAAA,CAAA;;2FAGU,oBAAoB,EAAA,UAAA,EAAA,CAAA;kBA1BhC,SAAS;AAAC,YAAA,IAAA,EAAA,CAAA;AACP,oBAAA,QAAQ,EAAE,0BAA0B;oBACpC,eAAe,EAAE,uBAAuB,CAAC,MAAM;AAC/C,oBAAA,QAAQ,EAAE,CAAA;;;;;;;;;;;;;;;;;;;;AAoBX,EAAA,CAAA;AACC,oBAAA,UAAU,EAAE;AACf,iBAAA;8BAGU,IAAI,EAAA,CAAA;sBAAZ;gBACQ,GAAG,EAAA,CAAA;sBAAX;gBACQ,MAAM,EAAA,CAAA;sBAAd;gBACS,MAAM,EAAA,CAAA;sBAAf;;;MCxBY,uBAAuB,CAAA;AAEzB,IAAA,IAAI;AACJ,IAAA,GAAG;AAEF,IAAA,WAAW,GAAG,IAAI,YAAY,EAAO;AAE/C,IAAA,aAAa;IACb,mBAAmB,GAAsB,MAAM;AAE/C,IAAA,kBAAkB,GAA0B,CAAC,CAAC,KAAK,KAAK;AACxD,IAAA,oBAAoB,GAA0B,CAAC,CAAC,KAAK,KAAK;AAE1D,IAAA,WAAA,GAAA;IACA;AAEA,IAAA,IAAI,OAAO,GAAA;QACT,OAAO,CAAC,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,GAAG,CAAC;IAC3C;AAEA,IAAA,IAAI,QAAQ,GAAA;QACV,OAAO,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,GAAG,CAAC;IAC5C;AAEA,IAAA,QAAQ,CAAC,KAAU,EAAA;QACf,KAAK,CAAC,cAAc,EAAE;QACtB,KAAK,CAAC,eAAe,EAAE;AACvB,QAAA,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;YAClB,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC;QACjC;IACJ;IAGA,WAAW,GAAA;AACP,QAAA,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,aAAa,IAAI,QAAQ;QACzE,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,SAAS,EAAE,UAAU,GAAG,MAAM,GAAG,MAAM;AAE7F,QAAA,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,UAAU,IAAI,IAAI,CAAC,kBAAkB;AAC1F,QAAA,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,YAAY,IAAI,IAAI,CAAC,oBAAoB;IACpG;uGAvCW,uBAAuB,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA;AAAvB,IAAA,OAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,IAAA,EAAA,uBAAuB,EAAA,YAAA,EAAA,KAAA,EAAA,QAAA,EAAA,0BAAA,EAAA,MAAA,EAAA,EAAA,IAAA,EAAA,MAAA,EAAA,GAAA,EAAA,KAAA,EAAA,EAAA,OAAA,EAAA,EAAA,WAAA,EAAA,aAAA,EAAA,EAAA,aAAA,EAAA,IAAA,EAAA,QAAA,EAAA,EAAA,EAAA,QAAA,EAPxB,CAAA;;;;AAIT,IAAA,CAAA,EAAA,QAAA,EAAA,IAAA,EAAA,YAAA,EAAA,CAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,OAAA,EAAA,QAAA,EAAA,WAAA,EAAA,MAAA,EAAA,CAAA,OAAA,EAAA,SAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,IAAA,EAAA,QAAA,EAAA,QAAA,EAAA,MAAA,EAAA,CAAA,MAAA,EAAA,UAAA,EAAA,UAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,MAAA,EAAA,IAAA,EAAAI,uBAAA,EAAA,IAAA,EAAA,qBAAA,EAAA,CAAA,EAAA,eAAA,EAAA,EAAA,CAAA,uBAAA,CAAA,MAAA,EAAA,CAAA;;2FAGU,uBAAuB,EAAA,UAAA,EAAA,CAAA;kBAVrC,SAAS;AAAC,YAAA,IAAA,EAAA,CAAA;AACP,oBAAA,QAAQ,EAAE,0BAA0B;oBACpC,eAAe,EAAE,uBAAuB,CAAC,MAAM;AAC/C,oBAAA,QAAQ,EAAE,CAAA;;;;AAIT,IAAA,CAAA;AACD,oBAAA,UAAU,EAAE;AACf,iBAAA;wDAGY,IAAI,EAAA,CAAA;sBAAZ;gBACQ,GAAG,EAAA,CAAA;sBAAX;gBAES,WAAW,EAAA,CAAA;sBAApB;;;MCcQ,2BAA2B,CAAA;AAE7B,IAAA,IAAI;AACJ,IAAA,MAAM;AACN,IAAA,aAAa;AACb,IAAA,WAAW;AACX,IAAA,UAAU;AACV,IAAA,gBAAgB;AAEf,IAAA,IAAI,GAAG,IAAI,YAAY,EAAa;AACpC,IAAA,MAAM,GAAG,IAAI,YAAY,EAAe;AACxC,IAAA,MAAM,GAAG,IAAI,YAAY,EAAqB;AAE9C,IAAA,aAAa,GAAG,IAAI,YAAY,EAAO;AACvC,IAAA,aAAa,GAAG,IAAI,YAAY,EAAO;AACvC,IAAA,iBAAiB,GAAG,IAAI,YAAY,EAAO;AAC3C,IAAA,QAAQ,GAAG,IAAI,YAAY,EAAO;AAClC,IAAA,WAAW,GAAG,IAAI,YAAY,EAAO;AAEe,IAAA,gBAAgB;AAE9E,IAAA,oBAAoB;IACpB,iBAAiB,GAAY,KAAK;IAElC,eAAe,GAAA;QACb,IAAI,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,4BAA4B,EAAE;QAClD,IAAI,GAAG,KAAK,SAAS,IAAI,CAAC,IAAI,CAAC,oBAAoB,EAAE;AACnD,YAAA,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,EAAE,CAAC;AAC7C,YAAA,IAAI,CAAC,iBAAiB,GAAG,IAAI;YAC7B,IAAI,CAAC,0BAA0B,EAAE;QACnC;IACF;IAEA,WAAW,GAAA;QACT,IAAI,IAAI,CAAC,oBAAoB;AAAE,YAAA,IAAI,CAAC,oBAAoB,CAAC,OAAO,EAAE;IACpE;IAEQ,0BAA0B,GAAA;QAChC,MAAM,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,4BAA4B,EAAE;AACpD,QAAA,IAAI,GAAG,KAAK,SAAS,EAAE;YACrB,IAAI,CAAC,gBAAgB,CAAC;AACnB,iBAAA,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;AACb,iBAAA,SAAS,CAAC,CAAC,IAAiC,KAAI;AAC/C,gBAAA,IAAI,IAAI,CAAC,MAAM,EAAE;oBACf,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,GAAG,CAAC;AAC3D,oBAAA,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,oBAAoB,CAAC,QAAQ,EAAE,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE;wBAC7E,OAAO,EAAE,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,cAAc,EAAE,CAAC,OAAO,EAAE;AACtD,qBAAA,CAAC;gBACJ;AACF,YAAA,CAAC,CAAC;QACN;IACF;AAEA,IAAA,oBAAoB;AACpB,IAAA,oBAAoB;AACpB,IAAA,qBAAqB;AACrB,IAAA,IAAI;AACJ,IAAA,cAAc;AACd,IAAA,aAAa;AAEb,IAAA,IAAI,iBAAiB,GAAA;AACnB,QAAA,MAAM,YAAY,GAAG,CAAC,IAAI,CAAC,oBAAoB,IAAI,IAAI,CAAC,qBAAqB,IAAI,CAAC,GAAG,CAAC;AACtF,QAAA,MAAM,YAAY,GAAG,IAAI,CAAC,oBAAoB,GAAG,CAAC,GAAG,CAAC;AACtD,QAAA,OAAO,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC,MAAM,GAAG,YAAY,GAAG,YAAY;IACpE;IAEA,WAAW,GAAA;QACT,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,IAAI,CAAC,oBAAoB,EAAE;QAC5D,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC;AAC9D,QAAA,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,IAAI,QAAQ;AAC/C,QAAA,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,UAAU,IAAI,EAAE;QAC/D,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC;QAChE,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,aAAc;IACxD;AAEA,IAAA,eAAe,CAAC,KAAkB,EAAA;QAChC,OAAO,CAAC,KAAK,IAAI,EAAE,EAAE,MAAM,CAAC,CAAC,IAAU,KAAK,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,IAAI,CAAC;IACrE;uGA7EW,2BAA2B,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA;2FAA3B,2BAA2B,EAAA,YAAA,EAAA,KAAA,EAAA,QAAA,EAAA,qBAAA,EAAA,MAAA,EAAA,EAAA,IAAA,EAAA,MAAA,EAAA,MAAA,EAAA,QAAA,EAAA,aAAA,EAAA,eAAA,EAAA,WAAA,EAAA,aAAA,EAAA,UAAA,EAAA,YAAA,EAAA,gBAAA,EAAA,kBAAA,EAAA,EAAA,OAAA,EAAA,EAAA,IAAA,EAAA,MAAA,EAAA,MAAA,EAAA,QAAA,EAAA,MAAA,EAAA,QAAA,EAAA,aAAA,EAAA,eAAA,EAAA,aAAA,EAAA,eAAA,EAAA,iBAAA,EAAA,mBAAA,EAAA,QAAA,EAAA,UAAA,EAAA,WAAA,EAAA,aAAA,EAAA,EAAA,WAAA,EAAA,CAAA,EAAA,YAAA,EAAA,kBAAA,EAAA,SAAA,EAAA,CAAA,kBAAA,CAAA,EAAA,WAAA,EAAA,IAAA,EAAA,IAAA,EAmBI,gBAAgB,EAAA,CAAA,EAAA,aAAA,EAAA,IAAA,EAAA,QAAA,EAAA,EAAA,EAAA,QAAA,ECrD5D,y6IAiGA,EAAA,MAAA,EAAA,CAAA,2WAAA,CAAA,EAAA,YAAA,EAAA,CAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,OAAA,EAAA,QAAA,EAAA,WAAA,EAAA,MAAA,EAAA,CAAA,OAAA,EAAA,SAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,OAAA,EAAA,QAAA,EAAA,kBAAA,EAAA,MAAA,EAAA,CAAA,SAAA,EAAA,cAAA,EAAA,eAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,IAAA,EAAA,QAAA,EAAA,QAAA,EAAA,MAAA,EAAA,CAAA,MAAA,EAAA,UAAA,EAAA,UAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAAE,aAAA,EAAA,QAAA,EAAA,2BAAA,EAAA,MAAA,EAAA,CAAA,MAAA,EAAA,KAAA,EAAA,MAAA,EAAA,YAAA,EAAA,MAAA,EAAA,aAAA,EAAA,OAAA,EAAA,aAAA,EAAA,YAAA,EAAA,eAAA,EAAA,cAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAAC,wBAAA,EAAA,QAAA,EAAA,iCAAA,EAAA,MAAA,EAAA,CAAA,MAAA,EAAA,KAAA,EAAA,aAAA,EAAA,YAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAAC,wBAAA,EAAA,QAAA,EAAA,+BAAA,EAAA,MAAA,EAAA,CAAA,MAAA,EAAA,KAAA,EAAA,QAAA,EAAA,eAAA,CAAA,EAAA,OAAA,EAAA,CAAA,MAAA,EAAA,QAAA,EAAA,eAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAAC,oBAAA,EAAA,QAAA,EAAA,0BAAA,EAAA,MAAA,EAAA,CAAA,MAAA,EAAA,KAAA,EAAA,QAAA,CAAA,EAAA,OAAA,EAAA,CAAA,QAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAAC,uBAAA,EAAA,QAAA,EAAA,0BAAA,EAAA,MAAA,EAAA,CAAA,MAAA,EAAA,KAAA,CAAA,EAAA,OAAA,EAAA,CAAA,aAAA,CAAA,EAAA,CAAA,EAAA,CAAA;;2FD/Da,2BAA2B,EAAA,UAAA,EAAA,CAAA;kBANvC,SAAS;AACI,YAAA,IAAA,EAAA,CAAA,EAAA,QAAA,EAAA,qBAAqB,cAGnB,KAAK,EAAA,QAAA,EAAA,y6IAAA,EAAA,MAAA,EAAA,CAAA,2WAAA,CAAA,EAAA;8BAIV,IAAI,EAAA,CAAA;sBAAZ;gBACQ,MAAM,EAAA,CAAA;sBAAd;gBACQ,aAAa,EAAA,CAAA;sBAArB;gBACQ,WAAW,EAAA,CAAA;sBAAnB;gBACQ,UAAU,EAAA,CAAA;sBAAlB;gBACQ,gBAAgB,EAAA,CAAA;sBAAxB;gBAES,IAAI,EAAA,CAAA;sBAAb;gBACS,MAAM,EAAA,CAAA;sBAAf;gBACS,MAAM,EAAA,CAAA;sBAAf;gBAES,aAAa,EAAA,CAAA;sBAAtB;gBACS,aAAa,EAAA,CAAA;sBAAtB;gBACS,iBAAiB,EAAA,CAAA;sBAA1B;gBACS,QAAQ,EAAA,CAAA;sBAAjB;gBACS,WAAW,EAAA,CAAA;sBAApB;gBAE6D,gBAAgB,EAAA,CAAA;sBAA7E,YAAY;AAAC,gBAAA,IAAA,EAAA,CAAA,kBAAkB,EAAE,EAAE,IAAI,EAAE,gBAAgB,EAAE;;;MEjDjD,YAAY,CAAA;AACvB,IAAA,eAAe,GAAG,IAAI,OAAO,EAAc;uGADhC,YAAY,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,UAAA,EAAA,CAAA;AAAZ,IAAA,OAAA,KAAA,GAAA,EAAA,CAAA,qBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,YAAY,cADA,MAAM,EAAA,CAAA;;2FAClB,YAAY,EAAA,UAAA,EAAA,CAAA;kBADxB,UAAU;mBAAC,EAAC,UAAU,EAAE,MAAM,EAAC;;;MCMnB,aAAa,CAAA;AAEf,IAAA,MAAM;AACN,IAAA,MAAM;IACN,UAAU,GAAW,EAAE;IACvB,YAAY,GAAW,GAAG;IAC1B,KAAK,GAAW,EAAE;AAE3B,IAAA,QAAQ,CAAC,KAAa,EAAA;AACpB,QAAA,IAAI,KAAK,KAAK,EAAE,EAAE;YAChB,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC;QAC1C;aAAO;AACL,YAAA,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC;AACpB,gBAAA,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,EAAE;AACrB,gBAAA,MAAM,EAAE,KAAK;AACb,gBAAA,MAAM,EAAE,IAAI,CAAC,MAAM,CAAC,cAAc;AACnC,aAAA,CAAC;QACJ;IACF;uGAlBW,aAAa,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA;AAAb,IAAA,OAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,IAAA,EAAA,aAAa,iMAHZ,EAAE,EAAA,QAAA,EAAA,IAAA,EAAA,CAAA;;2FAGH,aAAa,EAAA,UAAA,EAAA,CAAA;kBAJzB,SAAS;AAAC,YAAA,IAAA,EAAA,CAAA;AACP,oBAAA,QAAQ,EAAE,EAAE;AACZ,oBAAA,UAAU,EAAE;AACf,iBAAA;8BAGU,MAAM,EAAA,CAAA;sBAAd;gBACQ,MAAM,EAAA,CAAA;sBAAd;gBACQ,UAAU,EAAA,CAAA;sBAAlB;gBACQ,YAAY,EAAA,CAAA;sBAApB;gBACQ,KAAK,EAAA,CAAA;sBAAb;;;MCLU,aAAa,CAAA;AAExB,IAAA,OAAO,GAAG,IAAI,OAAO,EAAU;AAC/B,IAAA,mBAAmB;IACV,KAAK,GAAW,EAAE;AAClB,IAAA,UAAU;IACV,YAAY,GAAW,GAAG;AAC1B,IAAA,MAAM;AACL,IAAA,MAAM,GAAG,IAAI,YAAY,EAAU;IAE7C,QAAQ,GAAA;AACN,QAAA,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;aAC7B,IAAI,CACH,oBAAoB,EAAE,EACtB,YAAY,CAAC,IAAI,CAAC,YAAY,CAAC;aAEhC,SAAS,CAAC,KAAK,IAAI,IAAI,CAAC,SAAS,EAAE,CAAC;IACzC;IAEA,WAAW,GAAA;AACT,QAAA,IAAI,CAAC,mBAAmB,EAAE,WAAW,EAAE;IACzC;AAEA,IAAA,cAAc,CAAC,KAAa,EAAA;AAC1B,QAAA,IAAI,CAAC,KAAK,GAAG,KAAK;AAClB,QAAA,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC;IAC1B;IAEA,SAAS,GAAA;QACP,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;IAC9B;uGA9BW,aAAa,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA;AAAb,IAAA,OAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,IAAA,EAAA,aAAa,8MAHZ,EAAE,EAAA,QAAA,EAAA,IAAA,EAAA,CAAA;;2FAGH,aAAa,EAAA,UAAA,EAAA,CAAA;kBAJzB,SAAS;AAAC,YAAA,IAAA,EAAA,CAAA;AACP,oBAAA,QAAQ,EAAE,EAAE;AACZ,oBAAA,UAAU,EAAE;AACf,iBAAA;8BAKU,KAAK,EAAA,CAAA;sBAAb;gBACQ,UAAU,EAAA,CAAA;sBAAlB;gBACQ,YAAY,EAAA,CAAA;sBAApB;gBACQ,MAAM,EAAA,CAAA;sBAAd;gBACS,MAAM,EAAA,CAAA;sBAAf;;;ACLG,MAAO,uBAAwB,SAAQ,aAAa,CAAA;IAExD,YAAY,GAAY,KAAK;IAC7B,OAAO,GAAY,KAAK;IAExB,OAAO,GAAG,MAAM;IAChB,QAAQ,GAAG,OAAO;IAClB,SAAS,GAAG,OAAO;IAEnB,QAAQ,GAAA;QACN,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,KAAK,SAAS,EAAE;YAC3C,MAAM,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,MAAgC;YAClE,IAAI,CAAC,OAAO,GAAG,MAAM,EAAE,IAAI,IAAI,MAAM;YACrC,IAAI,CAAC,QAAQ,GAAG,MAAM,EAAE,KAAK,IAAI,OAAO;YACxC,IAAI,CAAC,SAAS,GAAG,MAAM,EAAE,SAAS,IAAI,OAAO;QAC/C;QACA,KAAK,CAAC,QAAQ,EAAE;IAClB;AAEA,IAAA,SAAS,CAAC,OAAgB,EAAA;AACxB,QAAA,IAAI,CAAC,YAAY,GAAG,IAAI;AACxB,QAAA,IAAI,CAAC,OAAO,GAAG,OAAO;AACtB,QAAA,IAAI,CAAC,cAAc,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC;IAC7D;AAEA,IAAA,WAAW,CAAC,KAAU,EAAA;QACpB,KAAK,CAAC,cAAc,EAAE;AACtB,QAAA,IAAI,CAAC,KAAK,GAAG,EAAE;AACf,QAAA,IAAI,CAAC,OAAO,GAAG,KAAK;AACpB,QAAA,IAAI,CAAC,YAAY,GAAG,KAAK;QACzB,IAAI,CAAC,SAAS,EAAE;IAClB;uGA/BW,uBAAuB,EAAA,IAAA,EAAA,IAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA;AAAvB,IAAA,OAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,IAAA,EAAA,uBAAuB,EAAA,YAAA,EAAA,KAAA,EAAA,QAAA,EAAA,iBAAA,EAAA,eAAA,EAAA,IAAA,EAAA,QAAA,EAAA,EAAA,EAAA,QAAA,EANtB,CAAA;;;AAGX,EAAA,CAAA,EAAA,QAAA,EAAA,IAAA,EAAA,YAAA,EAAA,CAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,OAAA,EAAA,QAAA,EAAA,WAAA,EAAA,MAAA,EAAA,CAAA,OAAA,EAAA,SAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,IAAA,EAAA,QAAA,EAAA,QAAA,EAAA,MAAA,EAAA,CAAA,MAAA,EAAA,UAAA,EAAA,UAAA,CAAA,EAAA,CAAA,EAAA,CAAA;;2FAGU,uBAAuB,EAAA,UAAA,EAAA,CAAA;kBARnC,SAAS;AAAC,YAAA,IAAA,EAAA,CAAA;AACP,oBAAA,QAAQ,EAAE,iBAAiB;AAC3B,oBAAA,QAAQ,EAAE,CAAA;;;AAGX,EAAA,CAAA;AACC,oBAAA,UAAU,EAAE;AACf,iBAAA;;;ACKK,MAAO,oBAAqB,SAAQ,aAAa,CAAA;uGAA1C,oBAAoB,EAAA,IAAA,EAAA,IAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA;AAApB,IAAA,OAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,IAAA,EAAA,oBAAoB,EAAA,YAAA,EAAA,KAAA,EAAA,QAAA,EAAA,cAAA,EAAA,eAAA,EAAA,IAAA,EAAA,QAAA,EAAA,EAAA,EAAA,QAAA,EAXnB,CAAA;;;;;;;;AAQX,EAAA,CAAA,EAAA,QAAA,EAAA,IAAA,EAAA,YAAA,EAAA,CAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,OAAA,EAAA,QAAA,EAAA,WAAA,EAAA,MAAA,EAAA,CAAA,OAAA,EAAA,SAAA,CAAA,EAAA,CAAA,EAAA,CAAA;;2FAGU,oBAAoB,EAAA,UAAA,EAAA,CAAA;kBAbhC,SAAS;AAAC,YAAA,IAAA,EAAA,CAAA;AACP,oBAAA,QAAQ,EAAE,cAAc;AACxB,oBAAA,QAAQ,EAAE,CAAA;;;;;;;;AAQX,EAAA,CAAA;AACC,oBAAA,UAAU,EAAE;AACf,iBAAA;;;ACGK,MAAO,qBAAsB,SAAQ,aAAa,CAAA;AAEtD,IAAA,MAAM;IAEN,QAAQ,GAAA;QACN,IAAI,CAAC,MAAM,GAAI,IAAI,CAAC,MAAM,CAAC,MAAyB,CAAC,MAA4B;;AAEjF,QAAA,MAAM,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,KAAK,SAAS,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM;QACrE,IAAI,IAAI,CAAC,MAAM,CAAC,cAAc,KAAK,SAAS,IAAI,MAAM,EAAE;AACtD,YAAA,IAAI,CAAC,MAAM,CAAC,cAAc,GAAG,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,EAAE,QAAQ,EAAE,KAAK,CAAC;QAC5D;QACA,KAAK,CAAC,QAAQ,EAAE;IAClB;uGAZW,qBAAqB,EAAA,IAAA,EAAA,IAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA;AAArB,IAAA,OAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,IAAA,EAAA,qBAAqB,EAAA,YAAA,EAAA,KAAA,EAAA,QAAA,EAAA,eAAA,EAAA,eAAA,EAAA,IAAA,EAAA,QAAA,EAAA,EAAA,EAAA,QAAA,EAZpB,CAAA;;;;;;;;;AASX,EAAA,CAAA,EAAA,QAAA,EAAA,IAAA,EAAA,YAAA,EAAA,CAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,OAAA,EAAA,QAAA,EAAA,WAAA,EAAA,MAAA,EAAA,CAAA,OAAA,EAAA,SAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,OAAA,EAAA,QAAA,EAAA,kBAAA,EAAA,MAAA,EAAA,CAAA,SAAA,EAAA,cAAA,EAAA,eAAA,CAAA,EAAA,CAAA,EAAA,CAAA;;2FAGU,qBAAqB,EAAA,UAAA,EAAA,CAAA;kBAdjC,SAAS;AAAC,YAAA,IAAA,EAAA,CAAA;AACP,oBAAA,QAAQ,EAAE,eAAe;AACzB,oBAAA,QAAQ,EAAE,CAAA;;;;;;;;;AASX,EAAA,CAAA;AACC,oBAAA,UAAU,EAAE;AACf,iBAAA;;;ACeK,MAAO,sBAAuB,SAAQ,aAAa,CAAA;uGAA5C,sBAAsB,EAAA,IAAA,EAAA,IAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA;AAAtB,IAAA,OAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,IAAA,EAAA,sBAAsB,EAAA,YAAA,EAAA,KAAA,EAAA,QAAA,EAAA,sBAAA,EAAA,eAAA,EAAA,IAAA,EAAA,QAAA,EAAA,EAAA,EAAA,QAAA,EA3BrB,CAAA;;;;;;;;;;;;;;;;;;;;;;;;AAwBX,EAAA,CAAA,EAAA,QAAA,EAAA,IAAA,EAAA,YAAA,EAAA,CAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,QAAA,EAAA,QAAA,EAAA,YAAA,EAAA,MAAA,EAAA,CAAA,UAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,YAAA,EAAA,QAAA,EAAA,gBAAA,EAAA,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,eAAA,EAAA,QAAA,EAAA,mBAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAAC,uBAAA,EAAA,QAAA,EAAA,iBAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAAC,oBAAA,EAAA,QAAA,EAAA,cAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAAC,qBAAA,EAAA,QAAA,EAAA,eAAA,EAAA,CAAA,EAAA,CAAA;;2FAGU,sBAAsB,EAAA,UAAA,EAAA,CAAA;kBA7BlC,SAAS;AAAC,YAAA,IAAA,EAAA,CAAA;AACP,oBAAA,QAAQ,EAAE,sBAAsB;AAChC,oBAAA,QAAQ,EAAE,CAAA;;;;;;;;;;;;;;;;;;;;;;;;AAwBX,EAAA,CAAA;AACC,oBAAA,UAAU,EAAE;AACf,iBAAA;;;ACvBK,MAAO,qBAAsB,SAAQ,aAAa,CAAA;AACtD,IAAA,eAAe;AACuD,IAAA,aAAa;AAEnF,IAAA,WAAW,CAAC,OAAsB,EAAA;QAChC,IAAI,IAAI,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE;AACxC,YAAA,MAAM,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM;YACjC,IAAI,CAAC,MAAM,EAAE;gBACX;YACF;AACA,YAAA,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,MAAM,CAAC,SAAS,CAAC;;YAG3E,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK;YAChD,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM;YAClD,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM;YAClD,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU;YAC1D,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY;YAC9D,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,KAAU,KAAI,EAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAA,CAAA,CAAC,CAAC;QACzF;QACA,IAAI,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,WAAW,KAAK,SAAS,EAAE;YAC3D,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,WAAW,CAAC,OAAO,CAAC;QACpD;IACF;IAEA,WAAW,GAAA;AACT,QAAA,IAAI,IAAI,CAAC,eAAe,EAAE;AACxB,YAAA,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE;QAChC;IACF;uGA7BW,qBAAqB,EAAA,IAAA,EAAA,IAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA;2FAArB,qBAAqB,EAAA,YAAA,EAAA,KAAA,EAAA,QAAA,EAAA,qBAAA,EAAA,WAAA,EAAA,CAAA,EAAA,YAAA,EAAA,eAAA,EAAA,KAAA,EAAA,IAAA,EAAA,SAAA,EAAA,CAAA,eAAA,CAAA,EAAA,WAAA,EAAA,IAAA,EAAA,IAAA,EAEI,gBAAgB,EAAA,MAAA,EAAA,IAAA,EAAA,CAAA,EAAA,eAAA,EAAA,IAAA,EAAA,aAAA,EAAA,IAAA,EAAA,QAAA,EAAA,EAAA,EAAA,QAAA,EALxC,CAAA,0CAAA,CAA4C,EAAA,QAAA,EAAA,IAAA,EAAA,CAAA;;2FAG7C,qBAAqB,EAAA,UAAA,EAAA,CAAA;kBALjC,SAAS;AAAC,YAAA,IAAA,EAAA,CAAA;AACP,oBAAA,QAAQ,EAAE,qBAAqB;AAC/B,oBAAA,QAAQ,EAAE,CAAA,0CAAA,CAA4C;AACtD,oBAAA,UAAU,EAAE;AACf,iBAAA;8BAGuE,aAAa,EAAA,CAAA;sBAAlF,SAAS;uBAAC,eAAe,EAAE,EAAE,IAAI,EAAE,gBAAgB,EAAE,MAAM,EAAE,IAAI,EAAE;;;ACgBhE,MAAO,eAAgB,SAAQ,aAAa,CAAA;IAChD,KAAK,GAAW,EAAE;AACR,IAAA,cAAc;AAExB,IAAA,WAAW,CAAC,OAAsB,EAAA;AAChC,QAAA,IAAI,OAAO,CAAC,MAAM,EAAE;AAClB,YAAA,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,WAAW,EAAE;AAC/B,gBAAA,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE;YACnC;AACA,YAAA,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC,SAAS,CAAC,CAAC,WAAW,KAAI;gBACtE,IAAI,QAAQ,GAAG,EAAE;AACjB,gBAAA,KAAK,MAAM,CAAC,IAAI,WAAW,CAAC,MAAM,EAAE;oBAClC,IAAI,CAAC,CAAC,KAAK,IAAI,IAAI,CAAC,MAAM,CAAC,EAAE,EAAE;AAC7B,wBAAA,QAAQ,GAAG,CAAC,CAAC,MAAM;wBACnB;oBACF;gBACF;AACA,gBAAA,IAAI,CAAC,KAAK,GAAG,QAAQ;AACvB,YAAA,CAAC,CAAC;QACJ;IACF;uGApBW,eAAe,EAAA,IAAA,EAAA,IAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA;AAAf,IAAA,OAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,IAAA,EAAA,eAAe,EAAA,YAAA,EAAA,KAAA,EAAA,QAAA,EAAA,6BAAA,EAAA,eAAA,EAAA,IAAA,EAAA,aAAA,EAAA,IAAA,EAAA,QAAA,EAAA,EAAA,EAAA,QAAA,EApBd,CAAA;;;;;;;;;;;;;;;;;AAiBT,IAAA,CAAA,EAAA,QAAA,EAAA,IAAA,EAAA,MAAA,EAAA,CAAA,wSAAA,CAAA,EAAA,YAAA,EAAA,CAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,IAAA,EAAA,QAAA,EAAA,QAAA,EAAA,MAAA,EAAA,CAAA,MAAA,EAAA,UAAA,EAAA,UAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,QAAA,EAAA,QAAA,EAAA,YAAA,EAAA,MAAA,EAAA,CAAA,UAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,YAAA,EAAA,QAAA,EAAA,gBAAA,EAAA,MAAA,EAAA,CAAA,cAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,eAAA,EAAA,QAAA,EAAA,mBAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAAC,sBAAA,EAAA,QAAA,EAAA,sBAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAAC,qBAAA,EAAA,QAAA,EAAA,qBAAA,EAAA,CAAA,EAAA,CAAA;;2FAGQ,eAAe,EAAA,UAAA,EAAA,CAAA;kBAvB3B,SAAS;AACI,YAAA,IAAA,EAAA,CAAA,EAAA,QAAA,EAAA,6BAA6B,EAAA,QAAA,EAE7B,CAAA;;;;;;;;;;;;;;;;;AAiBT,IAAA,CAAA,EAAA,UAAA,EACW,KAAK,EAAA,MAAA,EAAA,CAAA,wSAAA,CAAA,EAAA;;;MCTR,kBAAkB,CAAA;AAWT,IAAA,GAAA;AATX,IAAA,IAAI;AACJ,IAAA,MAAM;AACL,IAAA,MAAM,GAAG,IAAI,YAAY,EAAe;AAElD,IAAA,kBAAkB,GAAkB,MAAM,KAAK;AAC/C,IAAA,oBAAoB,GAAkB,MAAM,KAAK;AACjD,IAAA,mBAAmB;IACnB,mBAAmB,GAAsB,MAAM;AAE/C,IAAA,WAAA,CAAoB,GAAe,EAAA;QAAf,IAAA,CAAA,GAAG,GAAH,GAAG;IACvB;IAEA,eAAe,GAAA;AACb,QAAA,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,SAAS,CAAC,GAAG,CAAC,8BAA8B,EAAE,kCAAkC,CAAC;IAC1G;AAEA,IAAA,IAAI,OAAO,GAAA;AACT,QAAA,OAAO,CAAC,IAAI,CAAC,kBAAkB,EAAE;IACnC;AAEA,IAAA,IAAI,QAAQ,GAAA;AACV,QAAA,OAAO,IAAI,CAAC,oBAAoB,EAAE;IACpC;IAEA,WAAW,GAAA;AACT,QAAA,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,EAAE,gBAAgB,IAAI,KAAK;QAC5E,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,EAAE,SAAS,EAAE,UAAU,GAAG,MAAM,GAAG,MAAM;AAE1F,QAAA,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,EAAE,YAAY,IAAI,IAAI,CAAC,oBAAoB;QAC7F,MAAM,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO;QAC1C,IAAI,OAAO,KAAK,KAAK,IAAI,OAAO,KAAK,SAAS,EAAE;YAC9C,IAAI,CAAC,kBAAkB,GAAG,OAAO,OAAO,KAAK,KAAK,CAAC;QACrD;aAAO;YACL,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,EAAE,UAAU,KAAK,OAAO,OAAO,CAAC,GAAG,KAAK,KAAK,CAAC,CAAC;QACjG;IACF;AAEA,IAAA,KAAK,CAAC,KAAU,EAAA;QACd,KAAK,CAAC,cAAc,EAAE;QACtB,KAAK,CAAC,eAAe,EAAE;QACvB,IAAI,IAAI,CAAC,QAAQ;YAAE;QAEnB,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,KAAK,UAAU,EAAE;AAC1C,YAAA,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;gBACf,MAAM,EAAE,IAAI,CAAC,MAAM;AACpB,aAAA,CAAC;QACJ;aAAO;AACL,YAAA,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE;QAC5B;IACF;uGAnDW,kBAAkB,EAAA,IAAA,EAAA,CAAA,EAAA,KAAA,EAAA,EAAA,CAAA,UAAA,EAAA,CAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA;AAAlB,IAAA,OAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,IAAA,EAAA,kBAAkB,EAAA,YAAA,EAAA,KAAA,EAAA,QAAA,EAAA,0BAAA,EAAA,MAAA,EAAA,EAAA,IAAA,EAAA,MAAA,EAAA,MAAA,EAAA,QAAA,EAAA,EAAA,OAAA,EAAA,EAAA,MAAA,EAAA,QAAA,EAAA,EAAA,aAAA,EAAA,IAAA,EAAA,QAAA,EAAA,EAAA,EAAA,QAAA,EAPjB,CAAA;;;;AAIX,EAAA,CAAA,EAAA,QAAA,EAAA,IAAA,EAAA,YAAA,EAAA,CAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,OAAA,EAAA,QAAA,EAAA,WAAA,EAAA,MAAA,EAAA,CAAA,OAAA,EAAA,SAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,IAAA,EAAA,QAAA,EAAA,QAAA,EAAA,MAAA,EAAA,CAAA,MAAA,EAAA,UAAA,EAAA,UAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,MAAA,EAAA,IAAA,EAAAX,uBAAA,EAAA,IAAA,EAAA,qBAAA,EAAA,CAAA,EAAA,CAAA;;2FAGU,kBAAkB,EAAA,UAAA,EAAA,CAAA;kBAT9B,SAAS;AAAC,YAAA,IAAA,EAAA,CAAA;AACP,oBAAA,QAAQ,EAAE,0BAA0B;AACpC,oBAAA,QAAQ,EAAE,CAAA;;;;AAIX,EAAA,CAAA;AACC,oBAAA,UAAU,EAAE;AACf,iBAAA;+EAGU,IAAI,EAAA,CAAA;sBAAZ;gBACQ,MAAM,EAAA,CAAA;sBAAd;gBACS,MAAM,EAAA,CAAA;sBAAf;;;MCoBU,wBAAwB,CAAA;AAE1B,IAAA,IAAI;AACJ,IAAA,MAAM;AAEL,IAAA,MAAM,GAAG,IAAI,YAAY,EAAe;AAElD,IAAA,oBAAoB;AACpB,IAAA,oBAAoB;AACpB,IAAA,qBAAqB;AACrB,IAAA,gBAAgB;IAChB,kBAAkB,GAAW,GAAG;AAEhC,IAAA,WAAW,CAAC,OAAsB,EAAA;AAChC,QAAA,IAAI,OAAO,CAAC,MAAM,CAAC,KAAK,SAAS,EAAE;YACjC,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,IAAI,CAAC,oBAAoB,EAAE;YAC5D,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC;YAC9D,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC;AAChE,YAAA,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,UAAU,IAAI,EAAE;AACnE,YAAA,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,YAAY,IAAI,GAAG;QAC1E;IACF;AAEA,IAAA,iBAAiB,CAAC,OAAsB,EAAA;AACtC,QAAA,OAAO,CAAC,OAAO,IAAI,EAAE,EAAE,MAAM,CAAC,CAAC,MAAc,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC;IACjE;uGAzBW,wBAAwB,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA;AAAxB,IAAA,OAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,IAAA,EAAA,wBAAwB,EAAA,YAAA,EAAA,KAAA,EAAA,QAAA,EAAA,iCAAA,EAAA,MAAA,EAAA,EAAA,IAAA,EAAA,MAAA,EAAA,MAAA,EAAA,QAAA,EAAA,EAAA,OAAA,EAAA,EAAA,MAAA,EAAA,QAAA,EAAA,EAAA,aAAA,EAAA,IAAA,EAAA,QAAA,EAAA,EAAA,EAAA,QAAA,EA/BvB,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BX,EAAA,CAAA,EAAA,QAAA,EAAA,IAAA,EAAA,YAAA,EAAA,CAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,OAAA,EAAA,QAAA,EAAA,kBAAA,EAAA,MAAA,EAAA,CAAA,SAAA,EAAA,cAAA,EAAA,eAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,IAAA,EAAA,QAAA,EAAA,QAAA,EAAA,MAAA,EAAA,CAAA,MAAA,EAAA,UAAA,EAAA,UAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAAY,eAAA,EAAA,QAAA,EAAA,6BAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAAC,kBAAA,EAAA,QAAA,EAAA,0BAAA,EAAA,MAAA,EAAA,CAAA,MAAA,EAAA,QAAA,CAAA,EAAA,OAAA,EAAA,CAAA,QAAA,CAAA,EAAA,CAAA,EAAA,CAAA;;2FAGU,wBAAwB,EAAA,UAAA,EAAA,CAAA;kBAjCpC,SAAS;AAAC,YAAA,IAAA,EAAA,CAAA;AACP,oBAAA,QAAQ,EAAE,iCAAiC;AAC3C,oBAAA,QAAQ,EAAE,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BX,EAAA,CAAA;AACC,oBAAA,UAAU,EAAE;AACf,iBAAA;8BAGU,IAAI,EAAA,CAAA;sBAAZ;gBACQ,MAAM,EAAA,CAAA;sBAAd;gBAES,MAAM,EAAA,CAAA;sBAAf;;;MC5BU,0BAA0B,CAAA;AAE5B,IAAA,IAAI;AACJ,IAAA,aAAa;AACb,IAAA,YAAY;AAErB,IAAA,mBAAmB;AACnB,IAAA,mBAAmB;IACnB,mBAAmB,GAAsB,MAAM;AAE/C,IAAA,QAAQ,CAAC,KAAiB,EAAA;QACxB,KAAK,CAAC,cAAc,EAAE;QACtB,KAAK,CAAC,eAAe,EAAE;AACvB,QAAA,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,aAAa,CAAC;IAC/D;AAEA,IAAA,cAAc,CAAC,KAAiB,EAAA;QAC9B,KAAK,CAAC,cAAc,EAAE;QACtB,KAAK,CAAC,eAAe,EAAE;AACvB,QAAA,IAAI,CAAC,IAAI,CAAC,eAAe,GAAG,KAAK;AACjC,QAAA,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC;YACrB,aAAa,EAAE,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,UAAU,EAAE;AACnD,YAAA,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM;AACzB,SAAA,CAAC;IACJ;IAEA,WAAW,GAAA;;AAET,QAAA,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAI,CAAC,mBAAoB;AACvE,QAAA,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAI,CAAC,mBAAoB;QACvE,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,EAAE,SAAS,EAAE,UAAU,GAAG,MAAM,GAAG,MAAM;IAC5F;uGA/BW,0BAA0B,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA;AAA1B,IAAA,OAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,IAAA,EAAA,0BAA0B,EAAA,YAAA,EAAA,KAAA,EAAA,QAAA,EAAA,qBAAA,EAAA,MAAA,EAAA,EAAA,IAAA,EAAA,MAAA,EAAA,aAAA,EAAA,eAAA,EAAA,YAAA,EAAA,cAAA,EAAA,EAAA,aAAA,EAAA,IAAA,EAAA,QAAA,EAAA,EAAA,EAAA,QAAA,EARzB,CAAA;;;;;AAKX,EAAA,CAAA,EAAA,QAAA,EAAA,IAAA,EAAA,YAAA,EAAA,CAAA,EAAA,IAAA,EAAA,MAAA,EAAA,IAAA,EAAAd,uBAAA,EAAA,IAAA,EAAA,qBAAA,EAAA,CAAA,EAAA,CAAA;;2FAGU,0BAA0B,EAAA,UAAA,EAAA,CAAA;kBAXtC,SAAS;AAAC,YAAA,IAAA,EAAA,CAAA;;AAEP,oBAAA,QAAQ,EAAE,qBAAqB;AAC/B,oBAAA,QAAQ,EAAE,CAAA;;;;;AAKX,EAAA,CAAA;AACC,oBAAA,UAAU,EAAE;AACf,iBAAA;8BAGU,IAAI,EAAA,CAAA;sBAAZ;gBACQ,aAAa,EAAA,CAAA;sBAArB;gBACQ,YAAY,EAAA,CAAA;sBAApB;;;MCUU,qBAAqB,CAAA;AAEvB,IAAA,IAAI;AACJ,IAAA,GAAG;AACH,IAAA,aAAa;AACb,IAAA,YAAY;AACrB,IAAA,oBAAoB;AAEpB,IAAA,oBAAoB;AACpB,IAAA,qBAAqB;AACrB,IAAA,aAAa;IAEb,WAAW,GAAA;QACT,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,IAAI,CAAC,oBAAoB,EAAE;QAC5D,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC;QAC9D,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC;AAChE,QAAA,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,EAAE,UAAU,IAAI,EAAE;IAC/D;AAEA,IAAA,eAAe,CAAC,KAAkB,EAAA;QAChC,OAAO,CAAC,KAAK,IAAI,EAAE,EAAE,MAAM,CAAC,CAAC,IAAU,KAAK,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,IAAI,CAAC;IACrE;uGArBW,qBAAqB,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA;AAArB,IAAA,OAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,IAAA,EAAA,qBAAqB,EAAA,YAAA,EAAA,KAAA,EAAA,QAAA,EAAA,8BAAA,EAAA,MAAA,EAAA,EAAA,IAAA,EAAA,MAAA,EAAA,GAAA,EAAA,KAAA,EAAA,aAAA,EAAA,eAAA,EAAA,YAAA,EAAA,cAAA,EAAA,EAAA,aAAA,EAAA,IAAA,EAAA,QAAA,EAAA,EAAA,EAAA,QAAA,EAtBpB,CAAA;;;;;;;;;;;;;;;;;;;AAmBX,EAAA,CAAA,EAAA,QAAA,EAAA,IAAA,EAAA,YAAA,EAAA,CAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,OAAA,EAAA,QAAA,EAAA,kBAAA,EAAA,MAAA,EAAA,CAAA,SAAA,EAAA,cAAA,EAAA,eAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,IAAA,EAAA,QAAA,EAAA,QAAA,EAAA,MAAA,EAAA,CAAA,MAAA,EAAA,UAAA,EAAA,UAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAAG,aAAA,EAAA,QAAA,EAAA,2BAAA,EAAA,MAAA,EAAA,CAAA,MAAA,EAAA,KAAA,EAAA,MAAA,EAAA,YAAA,EAAA,MAAA,EAAA,aAAA,EAAA,OAAA,EAAA,aAAA,EAAA,YAAA,EAAA,eAAA,EAAA,cAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAAY,0BAAA,EAAA,QAAA,EAAA,qBAAA,EAAA,MAAA,EAAA,CAAA,MAAA,EAAA,eAAA,EAAA,cAAA,CAAA,EAAA,CAAA,EAAA,CAAA;;2FAGU,qBAAqB,EAAA,UAAA,EAAA,CAAA;kBAxBjC,SAAS;AAAC,YAAA,IAAA,EAAA,CAAA;AACP,oBAAA,QAAQ,EAAE,8BAA8B;AACxC,oBAAA,QAAQ,EAAE,CAAA;;;;;;;;;;;;;;;;;;;AAmBX,EAAA,CAAA;AACC,oBAAA,UAAU,EAAE;AACf,iBAAA;8BAGU,IAAI,EAAA,CAAA;sBAAZ;gBACQ,GAAG,EAAA,CAAA;sBAAX;gBACQ,aAAa,EAAA,CAAA;sBAArB;gBACQ,YAAY,EAAA,CAAA;sBAApB;;;MCzBU,mBAAmB,CAAA;AAcV,IAAA,UAAA;AAAgC,IAAA,QAAA;AAA6B,IAAA,YAAA;AAbxE,IAAA,yBAAyB;AAElC,IAAA,SAAS;AAET,IAAA,aAAa;AACb,IAAA,cAAc;IAEd,aAAa,GAAW,CAAC;IACzB,YAAY,GAAW,CAAC;IACxB,aAAa,GAAuB,SAAS;AAE7C,IAAA,UAAU,GAAG,IAAI,OAAO,EAAO;AAE/B,IAAA,WAAA,CAAoB,UAAsB,EAAU,QAAmB,EAAU,YAA0B,EAAA;QAAvF,IAAA,CAAA,UAAU,GAAV,UAAU;QAAsB,IAAA,CAAA,QAAQ,GAAR,QAAQ;QAAqB,IAAA,CAAA,YAAY,GAAZ,YAAY;IAC7F;IAEA,QAAQ,GAAA;QACN,IAAI,CAAC,YAAY,CAAC;AACf,aAAA,IAAI,CACH,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,EAC1B,MAAM,CAAC,MAAM,IAAI,CAAC,SAAS,CAAC;AAE7B,aAAA,SAAS,CAAC,CAAC,KAAiB,KAAI;YAC/B,MAAM,MAAM,GAAG,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC,KAAK;AAC/C,YAAA,MAAM,KAAK,GAAG,IAAI,CAAC,YAAY,GAAG,MAAM;YACxC,IAAI,CAAC,yBAAyB,CAAC,MAAM,CAAC,YAAY,GAAG,KAAK;AAC1D,YAAA,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,aAAa,EAAE,OAAO,EAAE,KAAK,GAAG,IAAI,CAAC;AAEjE,YAAA,MAAM,aAAa,GAAG,IAAI,CAAC,yBAAyB,CAAC,aAAa;YAClE,IAAI,aAAa,KAAK,SAAS,IAAI,IAAI,CAAC,aAAa,KAAK,SAAS,EAAE;AACnE,gBAAA,MAAM,YAAY,GAAG,IAAI,CAAC,aAAa,GAAG,MAAM;AAChD,gBAAA,aAAa,CAAC,YAAY,GAAG,YAAY;AACzC,gBAAA,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,cAAc,EAAE,OAAO,EAAE,YAAY,GAAG,IAAI,CAAC;YAC3E;AACF,QAAA,CAAC,CAAC;IACN;AAEuC,IAAA,YAAY,CAAC,KAAiB,EAAA;AACnE,QAAA,IAAI,CAAC,SAAS,GAAG,IAAI;AACrB,QAAA,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC;AAC5E,QAAA,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,aAAa,CAAC;AACnE,QAAA,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC,KAAK;QAEhC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,aAAa,CAAC,WAAW;QAClD,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,cAAc,EAAE,WAAW;IACvD;IAEkC,WAAW,GAAA;AAC3C,QAAA,IAAI,CAAC,SAAS,GAAG,KAAK;IACxB;IAEA,WAAW,GAAA;AACT,QAAA,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC;IAC5B;uGAtDW,mBAAmB,EAAA,IAAA,EAAA,CAAA,EAAA,KAAA,EAAA,EAAA,CAAA,UAAA,EAAA,EAAA,EAAA,KAAA,EAAA,EAAA,CAAA,SAAA,EAAA,EAAA,EAAA,KAAA,EAAAC,YAAA,EAAA,CAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA;2FAAnB,mBAAmB,EAAA,YAAA,EAAA,KAAA,EAAA,QAAA,EAAA,6BAAA,EAAA,MAAA,EAAA,EAAA,yBAAA,EAAA,2BAAA,EAAA,EAAA,IAAA,EAAA,EAAA,SAAA,EAAA,EAAA,WAAA,EAAA,sBAAA,EAAA,kBAAA,EAAA,eAAA,EAAA,EAAA,EAAA,QAAA,EAAA,EAAA,EAAA,CAAA;;2FAAnB,mBAAmB,EAAA,UAAA,EAAA,CAAA;kBAJ/B,SAAS;AAAC,YAAA,IAAA,EAAA,CAAA;AACP,oBAAA,QAAQ,EAAE,6BAA6B;AACvC,oBAAA,UAAU,EAAE;AACf,iBAAA;+HAEU,yBAAyB,EAAA,CAAA;sBAAjC;gBAqCsC,YAAY,EAAA,CAAA;sBAAlD,YAAY;uBAAC,WAAW,EAAE,CAAC,QAAQ,CAAC;gBAUH,WAAW,EAAA,CAAA;sBAA5C,YAAY;uBAAC,kBAAkB;;;MChDrB,qBAAqB,CAAA;AAMZ,IAAA,GAAA;AAJX,IAAA,IAAI;AAEb,IAAA,kBAAkB;AAElB,IAAA,WAAA,CAAoB,GAAe,EAAA;QAAf,IAAA,CAAA,GAAG,GAAH,GAAG;IACvB;IAEA,eAAe,GAAA;QACb,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,SAAS,CAAC,GAAG,CAAC,wBAAwB,CAAC;IAChE;IAEA,WAAW,GAAA;AACT,QAAA,IAAI,CAAC,kBAAkB,GAAG,SAAS;QACnC,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,KAAK,KAAK,EAAE;AACxC,YAAA,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,WAAW,IAAI,SAAS;QAChF;IACF;uGAlBW,qBAAqB,EAAA,IAAA,EAAA,CAAA,EAAA,KAAA,EAAA,EAAA,CAAA,UAAA,EAAA,CAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA;AAArB,IAAA,OAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,IAAA,EAAA,qBAAqB,EAAA,YAAA,EAAA,KAAA,EAAA,QAAA,EAAA,6BAAA,EAAA,MAAA,EAAA,EAAA,IAAA,EAAA,MAAA,EAAA,EAAA,aAAA,EAAA,IAAA,EAAA,QAAA,EAAA,EAAA,EAAA,QAAA,EALpB,CAAA;;AAEX,EAAA,CAAA,EAAA,QAAA,EAAA,IAAA,EAAA,CAAA;;2FAGU,qBAAqB,EAAA,UAAA,EAAA,CAAA;kBAPjC,SAAS;AAAC,YAAA,IAAA,EAAA,CAAA;AACP,oBAAA,QAAQ,EAAE,6BAA6B;AACvC,oBAAA,QAAQ,EAAE,CAAA;;AAEX,EAAA,CAAA;AACC,oBAAA,UAAU,EAAE;AACf,iBAAA;+EAGU,IAAI,EAAA,CAAA;sBAAZ;;;MC2BU,oBAAoB,CAAA;IAE/B,gBAAgB,GAA0B,IAAI;IACrC,SAAS,GAAG,IAAI;AAChB,IAAA,MAAM;AACN,IAAA,MAAM;AACN,IAAA,UAAU;AACT,IAAA,IAAI,GAAG,IAAI,YAAY,EAAU;IAEjC,cAAc,GAAwB,IAAI;AAEpD,IAAA,WAAW,CAAC,OAAsB,EAAA;AAChC,QAAA,IAAI,OAAO,CAAC,MAAM,EAAE;AAClB,YAAA,IAAI,IAAI,CAAC,cAAc,KAAK,IAAI,EAAE;AAChC,gBAAA,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE;YACnC;AACA,YAAA,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC,SAAS,CAAC,CAAC,IAAG;AAC1D,gBAAA,IAAI,CAAC,gBAAgB,GAAG,IAAI;gBAC5B,MAAM,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE;gBACtC,IAAI,QAAQ,EAAE;AACZ,oBAAA,QAAQ,CAAC,OAAO,CAAC,CAAC,IAAG;wBACnB,IAAI,CAAC,CAAC,KAAK,KAAK,IAAI,CAAC,MAAM,CAAC,EAAE,EAAE;AAC9B,4BAAA,IAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC,SAAS;wBACrC;AACF,oBAAA,CAAC,CAAC;gBACJ;AACF,YAAA,CAAC,CAAC;QACJ;IACF;IAEA,WAAW,GAAA;AACT,QAAA,IAAI,IAAI,CAAC,cAAc,KAAK,IAAI,EAAE;AAChC,YAAA,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE;AACjC,YAAA,IAAI,CAAC,cAAc,GAAG,IAAI;QAC5B;IACF;AAEA,IAAA,KAAK,CAAC,KAAU,EAAA;QACd,KAAK,CAAC,cAAc,EAAE;QACtB,IAAI,CAAC,mBAAmB,EAAE;AAC1B,QAAA,MAAM,IAAI,GAAgB;AACxB,YAAA,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,EAAE;YACrB,SAAS,EAAE,IAAI,CAAC,gBAAgB;AAChC,YAAA,OAAO,EAAE,IAAI,CAAC,MAAM,CAAC,eAAe;SACrC;AACD,QAAA,IAAI,IAAI,CAAC,SAAS,EAAE;YAClB,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,CAAC;QAChC;aAAO;YACL,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC;QAC7B;IACF;AAGA,IAAA,kBAAkB,CAAC,KAAU,EAAA;QAC3B,KAAK,CAAC,cAAc,EAAE;QACtB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC;IAChC;IAGQ,mBAAmB,GAAA;;AAEzB,QAAA,IAAI,IAAI,CAAC,gBAAgB,KAAK,IAAI,EAAE;AAClC,YAAA,IAAI,CAAC,gBAAgB,GAAG,KAAK;QAC/B;AAAO,aAAA,IAAI,IAAI,CAAC,gBAAgB,KAAK,KAAK,EAAE;AAC1C,YAAA,IAAI,CAAC,gBAAgB,GAAG,MAAM;QAChC;AAAO,aAAA,IAAI,IAAI,CAAC,gBAAgB,KAAK,MAAM,EAAE;AAC3C,YAAA,IAAI,CAAC,gBAAgB,GAAG,IAAI;QAC9B;IACF;uGApEW,oBAAoB,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA;AAApB,IAAA,OAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,IAAA,EAAA,oBAAoB,EAAA,YAAA,EAAA,KAAA,EAAA,QAAA,EAAA,0BAAA,EAAA,MAAA,EAAA,EAAA,SAAA,EAAA,WAAA,EAAA,MAAA,EAAA,QAAA,EAAA,MAAA,EAAA,QAAA,EAAA,UAAA,EAAA,YAAA,EAAA,EAAA,OAAA,EAAA,EAAA,IAAA,EAAA,MAAA,EAAA,EAAA,aAAA,EAAA,IAAA,EAAA,QAAA,EAAA,EAAA,EAAA,QAAA,EAdrB,CAAA;;;;;;;;;;;AAWT,EAAA,CAAA,EAAA,QAAA,EAAA,IAAA,EAAA,MAAA,EAAA,CAAA,+JAAA,CAAA,EAAA,YAAA,EAAA,CAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,OAAA,EAAA,QAAA,EAAA,WAAA,EAAA,MAAA,EAAA,CAAA,OAAA,EAAA,SAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,IAAA,EAAA,QAAA,EAAA,QAAA,EAAA,MAAA,EAAA,CAAA,MAAA,EAAA,UAAA,EAAA,UAAA,CAAA,EAAA,CAAA,EAAA,CAAA;;2FAGU,oBAAoB,EAAA,UAAA,EAAA,CAAA;kBAlChC,SAAS;AACE,YAAA,IAAA,EAAA,CAAA,EAAA,QAAA,EAAA,0BAA0B,EAAA,QAAA,EAmB1B,CAAA;;;;;;;;;;;AAWT,EAAA,CAAA,EAAA,UAAA,EACW,KAAK,EAAA,MAAA,EAAA,CAAA,+JAAA,CAAA,EAAA;8BAKR,SAAS,EAAA,CAAA;sBAAjB;gBACQ,MAAM,EAAA,CAAA;sBAAd;gBACQ,MAAM,EAAA,CAAA;sBAAd;gBACQ,UAAU,EAAA,CAAA;sBAAlB;gBACS,IAAI,EAAA,CAAA;sBAAb;;;MCTU,uBAAuB,CAAA;AAEzB,IAAA,IAAI;AACJ,IAAA,aAAa;AACb,IAAA,MAAM;AAEL,IAAA,IAAI,GAAG,IAAI,YAAY,EAAU;AACjC,IAAA,aAAa,GAAG,IAAI,YAAY,EAAQ;IAElD,gBAAgB,GAAW,MAAM;AACjC,IAAA,oBAAoB;AACpB,IAAA,oBAAoB;AACpB,IAAA,qBAAqB;AACrB,IAAA,WAAW;IACX,UAAU,GAAY,KAAK;IAG3B,WAAW,GAAA;QACT,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,IAAI,CAAC,oBAAoB,EAAE;QAC5D,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC;QAC9D,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC;AAChE,QAAA,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,IAAI,KAAK;AACxD,QAAA,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,IAAI,KAAK;IACxD;AAEA,IAAA,IAAI,cAAc,GAAA;QAChB,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,EAAE,EAAE,MAAM,CAAC,CAAC,MAAc,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC;IAChF;uGA3BW,uBAAuB,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA;AAAvB,IAAA,OAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,IAAA,EAAA,uBAAuB,EAAA,YAAA,EAAA,KAAA,EAAA,QAAA,EAAA,gCAAA,EAAA,MAAA,EAAA,EAAA,IAAA,EAAA,MAAA,EAAA,aAAA,EAAA,eAAA,EAAA,MAAA,EAAA,QAAA,EAAA,EAAA,OAAA,EAAA,EAAA,IAAA,EAAA,MAAA,EAAA,aAAA,EAAA,eAAA,EAAA,EAAA,aAAA,EAAA,IAAA,EAAA,QAAA,EAAA,EAAA,EAAA,QAAA,EA9BtB,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BX,EAAA,CAAA,EAAA,QAAA,EAAA,IAAA,EAAA,YAAA,EAAA,CAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,OAAA,EAAA,QAAA,EAAA,WAAA,EAAA,MAAA,EAAA,CAAA,OAAA,EAAA,SAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,OAAA,EAAA,QAAA,EAAA,kBAAA,EAAA,MAAA,EAAA,CAAA,SAAA,EAAA,cAAA,EAAA,eAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,IAAA,EAAA,QAAA,EAAA,QAAA,EAAA,MAAA,EAAA,CAAA,MAAA,EAAA,UAAA,EAAA,UAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAAC,mBAAA,EAAA,QAAA,EAAA,6BAAA,EAAA,MAAA,EAAA,CAAA,2BAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAAC,qBAAA,EAAA,QAAA,EAAA,6BAAA,EAAA,MAAA,EAAA,CAAA,MAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAAC,oBAAA,EAAA,QAAA,EAAA,0BAAA,EAAA,MAAA,EAAA,CAAA,WAAA,EAAA,QAAA,EAAA,QAAA,EAAA,YAAA,CAAA,EAAA,OAAA,EAAA,CAAA,MAAA,CAAA,EAAA,CAAA,EAAA,CAAA;;2FAGU,uBAAuB,EAAA,UAAA,EAAA,CAAA;kBAhCnC,SAAS;AAAC,YAAA,IAAA,EAAA,CAAA;AACP,oBAAA,QAAQ,EAAE,gCAAgC;AAC1C,oBAAA,QAAQ,EAAE,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BX,EAAA,CAAA;AACC,oBAAA,UAAU,EAAE;AACf,iBAAA;8BAGU,IAAI,EAAA,CAAA;sBAAZ;gBACQ,aAAa,EAAA,CAAA;sBAArB;gBACQ,MAAM,EAAA,CAAA;sBAAd;gBAES,IAAI,EAAA,CAAA;sBAAb;gBACS,aAAa,EAAA,CAAA;sBAAtB;;;MChCU,2BAA2B,CAAA;AAelB,IAAA,YAAA;AAbX,IAAA,IAAI;AACJ,IAAA,MAAM;AACN,IAAA,aAAa;AACb,IAAA,aAAa;AACb,IAAA,YAAY;AAEX,IAAA,IAAI,GAAG,IAAI,YAAY,EAAU;AACjC,IAAA,aAAa,GAAG,IAAI,YAAY,EAAQ;AACxC,IAAA,MAAM,GAAG,IAAI,YAAY,EAAe;AAElD,IAAA,YAAY;AACZ,IAAA,eAAe;AAEf,IAAA,WAAA,CAAoB,YAA0B,EAAA;QAA1B,IAAA,CAAA,YAAY,GAAZ,YAAY;IAChC;IAEA,WAAW,GAAA;AACT,QAAA,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,UAAU,IAAI,KAAK;AAC1D,QAAA,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,aAAa,IAAI,KAAK;IAClE;AAGA,IAAA,SAAS,CAAC,KAAiB,EAAA;QACzB,IAAI,CAAC,YAAY,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC;IAC/C;uGA1BW,2BAA2B,EAAA,IAAA,EAAA,CAAA,EAAA,KAAA,EAAAH,YAAA,EAAA,CAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA;AAA3B,IAAA,OAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,IAAA,EAAA,2BAA2B,uXCbxC,wsBAsBA,EAAA,MAAA,EAAA,CAAA,0EAAA,CAAA,EAAA,YAAA,EAAA,CAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAAI,EAAA,CAAA,IAAA,EAAA,QAAA,EAAA,QAAA,EAAA,MAAA,EAAA,CAAA,MAAA,EAAA,UAAA,EAAA,UAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAAC,wBAAA,EAAA,QAAA,EAAA,iCAAA,EAAA,MAAA,EAAA,CAAA,MAAA,EAAA,QAAA,CAAA,EAAA,OAAA,EAAA,CAAA,QAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAAC,qBAAA,EAAA,QAAA,EAAA,8BAAA,EAAA,MAAA,EAAA,CAAA,MAAA,EAAA,KAAA,EAAA,eAAA,EAAA,cAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAAC,uBAAA,EAAA,QAAA,EAAA,gCAAA,EAAA,MAAA,EAAA,CAAA,MAAA,EAAA,eAAA,EAAA,QAAA,CAAA,EAAA,OAAA,EAAA,CAAA,MAAA,EAAA,eAAA,CAAA,EAAA,CAAA,EAAA,CAAA;;2FDTa,2BAA2B,EAAA,UAAA,EAAA,CAAA;kBANvC,SAAS;AACI,YAAA,IAAA,EAAA,CAAA,EAAA,QAAA,EAAA,qBAAqB,cAGnB,KAAK,EAAA,QAAA,EAAA,wsBAAA,EAAA,MAAA,EAAA,CAAA,0EAAA,CAAA,EAAA;8EAIV,IAAI,EAAA,CAAA;sBAAZ;gBACQ,MAAM,EAAA,CAAA;sBAAd;gBACQ,aAAa,EAAA,CAAA;sBAArB;gBACQ,aAAa,EAAA,CAAA;sBAArB;gBACQ,YAAY,EAAA,CAAA;sBAApB;gBAES,IAAI,EAAA,CAAA;sBAAb;gBACS,aAAa,EAAA,CAAA;sBAAtB;gBACS,MAAM,EAAA,CAAA;sBAAf;gBAcD,SAAS,EAAA,CAAA;sBADR,YAAY;uBAAC,WAAW,EAAE,CAAC,QAAQ,CAAC;;;MExB1B,YAAY,CAAA;AAEZ,IAAA,IAAI;AAEH,IAAA,KAAK,GAAG,IAAI,YAAY,EAAU;AAE5C,IAAA,YAAY,CAAC,GAAU,EAAA;QACnB,GAAG,CAAC,eAAe,EAAE;QACrB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC;IAClC;uGATS,YAAY,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA;AAAZ,IAAA,OAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,IAAA,EAAA,YAAY,4ICZzB,gwCAmBA,EAAA,CAAA;;2FDPa,YAAY,EAAA,UAAA,EAAA,CAAA;kBALxB,SAAS;AACI,YAAA,IAAA,EAAA,CAAA,EAAA,QAAA,EAAA,0BAA0B,cAExB,KAAK,EAAA,QAAA,EAAA,gwCAAA,EAAA;8BAIR,IAAI,EAAA,CAAA;sBAAZ;gBAES,KAAK,EAAA,CAAA;sBAAd;;;MERQ,iBAAiB,CAAA;AAEjB,IAAA,IAAI;AAEH,IAAA,KAAK,GAAG,IAAI,YAAY,EAAU;AAE5C,IAAA,SAAS,CAAC,MAAc,EAAA;AACpB,QAAA,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC;IAC3B;uGARS,iBAAiB,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA;AAAjB,IAAA,OAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,IAAA,EAAA,iBAAiB,kJCR9B,mLAOA,EAAA,YAAA,EAAA,CAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,OAAA,EAAA,QAAA,EAAA,kBAAA,EAAA,MAAA,EAAA,CAAA,SAAA,EAAA,cAAA,EAAA,eAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAAC,YAAA,EAAA,QAAA,EAAA,0BAAA,EAAA,MAAA,EAAA,CAAA,MAAA,CAAA,EAAA,OAAA,EAAA,CAAA,OAAA,CAAA,EAAA,CAAA,EAAA,CAAA;;2FDCa,iBAAiB,EAAA,UAAA,EAAA,CAAA;kBAL7B,SAAS;AACI,YAAA,IAAA,EAAA,CAAA,EAAA,QAAA,EAAA,gCAAgC,cAE9B,KAAK,EAAA,QAAA,EAAA,mLAAA,EAAA;8BAIR,IAAI,EAAA,CAAA;sBAAZ;gBAES,KAAK,EAAA,CAAA;sBAAd;;;MEmBQ,2BAA2B,CAAA;AAE7B,IAAA,MAAM;AACN,IAAA,QAAQ;AAEP,IAAA,SAAS,GAAG,IAAI,YAAY,EAAqB;AACjD,IAAA,aAAa,GAAG,IAAI,YAAY,EAAqB;AACrD,IAAA,MAAM,GAAG,IAAI,YAAY,EAAe;AACxC,IAAA,IAAI,GAAG,IAAI,YAAY,EAAa;AACpC,IAAA,MAAM,GAAG,IAAI,YAAY,EAAe;AACxC,IAAA,MAAM,GAAG,IAAI,YAAY,EAAqB;AAC9C,IAAA,aAAa,GAAG,IAAI,YAAY,EAAsB;AACtD,IAAA,WAAW,GAAG,IAAI,YAAY,EAAoB;AAClD,IAAA,UAAU,GAAG,IAAI,YAAY,EAAmB;AAChD,IAAA,aAAa,GAAG,IAAI,YAAY,EAAsB;AACtD,IAAA,YAAY,GAAG,IAAI,YAAY,EAAqB;AACpD,IAAA,QAAQ,GAAsB,IAAI,YAAY,EAAO;AACrD,IAAA,aAAa,GAA0B,IAAI,YAAY,EAAW;AAE5E,IAAA,sBAAsB;AAEtB,IAAA,UAAU;AACV,IAAA,OAAO;AACP,IAAA,aAAa;AACb,IAAA,kBAAkB;AAClB,IAAA,YAAY;AACZ,IAAA,eAAe;AACf,IAAA,cAAc;IACd,cAAc,GAAY,IAAI;AAC9B,IAAA,gBAAgB;IAEhB,IAAI,CAAQ;AAEZ,IAAA,eAAe,GAAa;AAC1B,QAAA,IAAI,EAAE,QAAQ;AACd,QAAA,UAAU,EAAE,QAAQ;AACpB,QAAA,QAAQ,EAAE,OAAO;AACjB,QAAA,2BAA2B,EAAE,KAAK;AAClC,QAAA,UAAU,EAAE,KAAK;AACjB,QAAA,aAAa,EAAE,KAAK;AACpB,QAAA,SAAS,EAAE,KAAK;AAChB,QAAA,QAAQ,EAAE,KAAK;AACf,QAAA,WAAW,EAAE,KAAK;AAClB,QAAA,OAAO,EAAE;AACP,YAAA,WAAW,EAAE,SAAS;AACtB,YAAA,GAAG,EAAE,IAAI;AACT,YAAA,IAAI,EAAE,IAAI;AACV,YAAA,MAAM,EAAE,IAAI;AACZ,YAAA,MAAM,EAAE,EAAE;AACV,YAAA,QAAQ,EAAE,MAAM;AACjB,SAAA;AACD,QAAA,MAAM,EAAE;AACN,YAAA,UAAU,EAAE,EAAE;AACd,YAAA,YAAY,EAAE,GAAG;AAClB,SAAA;AACD,QAAA,IAAI,EAAE;AACJ,YAAA,UAAU,EAAE,EAAE;AACd,YAAA,iBAAiB,EAAE,MAAM;AACzB,YAAA,iBAAiB,EAAE,QAAQ;AAC3B,YAAA,mBAAmB,EAAE,QAAQ;AAC7B,YAAA,WAAW,EAAE,KAAK;AACnB,SAAA;AACD,QAAA,GAAG,EAAE;AACH,YAAA,UAAU,EAAE,EAAE;AACd,YAAA,gBAAgB,EAAE,SAAS;AAC3B,YAAA,mBAAmB,EAAE,QAAQ;AAC7B,YAAA,mBAAmB,EAAE,QAAQ;AAC7B,YAAA,aAAa,EAAE,KAAK;AACrB,SAAA;AACD,QAAA,MAAM,EAAE;AACN,YAAA,mBAAmB,EAAE,QAAQ;AAC7B,YAAA,aAAa,EAAE,KAAK;AACrB,SAAA;AACD,QAAA,MAAM,EAAE;AACN,YAAA,aAAa,EAAE;AAChB,SAAA;AACD,QAAA,IAAI,EAAE;AACJ,YAAA,EAAE,EAAE,EAAE;AACN,YAAA,KAAK,EAAE,EAAE;AACV,SAAA;AACD,QAAA,aAAa,EAAE,eAAe;AAC9B,QAAA,OAAO,EAAE,EAAE;AACX,QAAA,KAAK,EAAE;AACL,YAAA,OAAO,EAAE,IAAI;AACb,YAAA,IAAI,EAAE,CAAC;AACP,YAAA,OAAO,EAAE,EAAE;AACX,YAAA,aAAa,EAAE,EAAE;AACjB,YAAA,kBAAkB,EAAE,WAAW;AAChC,SAAA;AACD,QAAA,gBAAgB,EAAE,CAAC,CAAC,KAAK,EAAE;KAC5B;IAED,aAAa,GAAY,KAAK;AAEtB,IAAA,uBAAuB;AACvB,IAAA,UAAU,GAAkB,IAAI,OAAO,EAAQ;AAEvD,IAAA,WAAW,CAAC,OAAiD,EAAA;AAC3D,QAAA,IAAI,IAAI,CAAC,IAAI,KAAK,SAAS,EAAE;;AAE3B,YAAA,IAAI,OAAO,CAAC,UAAU,CAAC,EAAE;gBACvB,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC;gBAC7C,IAAI,CAAC,6BAA6B,EAAE;YACtC;AACA,YAAA,IAAI,OAAO,CAAC,QAAQ,CAAC,EAAE;AACrB,gBAAA,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,aAAa,EAAE;gBAClC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC;YAClC;QACF;AAAO,aAAA,IAAI,IAAI,CAAC,QAAQ,KAAK,SAAS,IAAI,IAAI,CAAC,MAAM,KAAK,SAAS,EAAE;;AAGnE,YAAA,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,aAAa,EAAE;AAClC,YAAA,IAAI,CAAC,IAAI,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,eAAe,EAAE,CAAC;YACzD,IAAI,CAAC,6BAA6B,EAAE;YAEpC,IAAI,CAAC,sBAAsB,EAAE;;YAE7B,UAAU,CAAC,MAAK;gBACd,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC;YAC5C,CAAC,EAAE,EAAE,CAAC;QACR;;;AAIA,QAAA,IAAI,IAAI,CAAC,IAAI,KAAK,SAAS,EAAE;AAC3B,YAAA,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAK,CAAC,EAAG;AAC3C,YAAA,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAK,CAAC,KAAM;YACjD,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,UAAW;YAClD,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,aAAc;AACxD,YAAA,IAAI,CAAC,cAAc,GAAG,EAAE,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,WAAW,IAAI,KAAK,CAAC;AAChE,YAAA,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAM,CAAC,OAAQ;AACxD,YAAA,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAM,CAAC,aAAc;AAC7D,YAAA,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAM,CAAC,kBAAmB;YACvE,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,gBAAiB;QAC9D;IACF;IAEA,WAAW,GAAA;AACT,QAAA,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE;IACxB;AAEA,IAAA,eAAe,CAAC,GAAQ,EAAA;QACtB,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,UAAU,KAAK,QAAQ,EAAE;AAC9C,YAAA,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC;AACxB,YAAA,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC;QACzB;IACF;AAEA,IAAA,eAAe,CAAC,GAAQ,EAAA;QACtB,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,UAAU,KAAK,QAAQ,EAAE;AAC9C,YAAA,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC;AACxB,YAAA,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC;QAC7B;IACF;AAEA,IAAA,UAAU,CAAC,GAAQ,EAAA;AACjB,QAAA,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC;IACzB;AAEA,IAAA,mBAAmB,CAAC,GAAQ,EAAA;AAC1B,QAAA,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC;;;QAGhC,IAAI,CAAC,GAAG,CAAC,UAAU;AAAE,YAAA,IAAI,CAAC,aAAa,GAAG,KAAK;AAC/C,QAAA,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC;IAC7B;AAEA,IAAA,MAAM,eAAe,GAAA;AACnB,QAAA,IAAI,CAAC,aAAa,GAAG,CAAC,IAAI,CAAC,aAAa;QACxC,MAAM,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,aAAa,CAAC;AACjD,QAAA,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC;IAC9B;AAEA,IAAA,WAAW,CAAC,GAAQ,EAAA;AAClB,QAAA,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC;IAC1B;IAEA,aAAa,GAAA;AACX,QAAA,IAAI,MAAkB;AACtB,QAAA,IAAI,IAAI,CAAC,MAAM,YAAY,UAAU,EAAE;AACrC,YAAA,MAAM,GAAG,IAAI,CAAC,MAAM;QACtB;AAAO,aAAA,IAAI,IAAI,CAAC,MAAM,YAAY,KAAK,EAAE;YACvC,MAAM,GAAG,IAAI,eAAe,CAAC,IAAI,CAAC,MAAM,CAAC;QAC3C;aAAO;AACL,YAAA,MAAM,GAAG,IAAI,eAAe,EAAE;QAChC;;QAGA,IAAI,IAAI,CAAC,sBAAsB;AAAE,YAAA,IAAI,CAAC,sBAAsB,CAAC,WAAW,EAAE;QAC1E,IAAI,CAAC,sBAAsB,GAAG,MAAM,CAAC,SAAS,EAAE,CAAC,SAAS,CAAC,CAAC,OAAY,KAAK,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,CAAC;AAE7G,QAAA,OAAO,MAAM;IACf;AAEA,IAAA,iBAAiB,CAAC,CAAwB,EAAA;;AAExC,QAAA,MAAM,MAAM,GAAG,IAAI,CAAC,MAAoB;AACxC,QAAA,IAAI,CAAC,aAAa,GAAG,MAAM,CAAC,sBAAsB,CAChD,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,UAAU,KAAK,gBAAgB,EAClD,IAAI,CACL;IACH;IAEA,eAAe,GAAA;AACb,QAAA,OAAO,UAAU,CAAC,EAAE,EAAE,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,QAAQ,CAAC;IAC5D;IAEA,oBAAoB,GAAA;QAClB,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,EAAE,MAAM,CAAC,MAAM,IAAI,MAAM,CAAC,IAAI,CAAC;IACtE;IAEA,wBAAwB,GAAoB,EAAE;IAC9C,6BAA6B,GAAA;AAC3B,QAAA,IAAI,CAAC,wBAAwB,GAAG,IAAI,CAAC,oBAAoB,EAAE,CAAC,GAAG,CAAC,CAAC,KAAK;YACpE,GAAG,EAAE,CAAC,CAAC,EAAE;YACT,KAAK,EAAE,CAAC,CAAC,KAAK;AACf,SAAA,CAAC,CAAC;IACL;AAEA,IAAA,YAAY,CAAC,QAAgB,EAAA;AAC3B,QAAA,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,IAAI,GAAG,KAAK;AACjD,QAAA,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE;QAC3B,IAAI,CAAC,6BAA6B,EAAE;IACtC;AAEA,IAAA,YAAY,CAAC,QAAgB,EAAA;AAC3B,QAAA,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,IAAI,GAAG,IAAI;AAChD,QAAA,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE;QAC3B,IAAI,CAAC,6BAA6B,EAAE;IACtC;AAEQ,IAAA,uBAAuB,CAAC,GAAe,EAAA;QAC7C,OAAO;AACL,YAAA,GAAG,EAAE,GAAG;AACR,YAAA,IAAI,EAAE,GAAG,GAAG,GAAG,CAAC,OAAO,EAAE,GAAG,IAAI;AAChC,YAAA,UAAU,EAAE,GAAG,GAAG,GAAG,CAAC,aAAa,EAAE,GAAG,IAAI;YAC5C,MAAM,EAAE,IAAI,CAAC,MAAM;AACnB,YAAA,QAAQ,EAAE,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE;SACvC;IACH;AAEQ,IAAA,iBAAiB,CAAC,GAAe,EAAA;AACvC,QAAA,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,uBAAuB,CAAC,GAAG,CAAC,CAAC;;AAE1D,QAAA,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC;IACzB;AAEQ,IAAA,aAAa,CAAC,GAAe,EAAA;AACnC,QAAA,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,uBAAuB,CAAC,GAAG,CAAC,CAAC;IACxD;AAEQ,IAAA,iBAAiB,CAAC,KAAa,EAAA;QACrC,MAAM,UAAU,GAAG,IAAI,CAAC,MAAM,EAAE,KAAK,EAAE;AACvC,QAAA,OAAO,KAAK,GAAG,CAAC,KAAK,OAAO,UAAU,KAAK,QAAQ,IAAI,KAAK,IAAI,UAAU,CAAC;IAC7E;IAEQ,sBAAsB,GAAA;AAC5B,QAAA,IAAI,IAAI,CAAC,uBAAuB,EAAE;AAChC,YAAA,IAAI,CAAC,uBAAuB,CAAC,WAAW,EAAE;QAC5C;QACA,IAAI,CAAC,uBAAuB,GAAG,IAAI,CAAC,IAAI,CAAC,WAAW;AACjD,aAAA,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC;AAC/B,aAAA,SAAS,CAAC,CAAC,GAAG,KAAI;AACjB,YAAA,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC;AACzB,QAAA,CAAC,CAAC;IACN;uGAzQW,2BAA2B,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA;AAA3B,IAAA,OAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,IAAA,EAAA,2BAA2B,6eC/BxC,2pDA+CA,EAAA,MAAA,EAAA,CAAA,83BAAA,CAAA,EAAA,YAAA,EAAA,CAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,OAAA,EAAA,QAAA,EAAA,WAAA,EAAA,MAAA,EAAA,CAAA,OAAA,EAAA,SAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,IAAA,EAAA,QAAA,EAAA,QAAA,EAAA,MAAA,EAAA,CAAA,MAAA,EAAA,UAAA,EAAA,UAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAAC,cAAA,EAAA,QAAA,EAAA,4BAAA,EAAA,MAAA,EAAA,CAAA,QAAA,EAAA,eAAA,EAAA,oBAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAAC,2BAAA,EAAA,QAAA,EAAA,qBAAA,EAAA,MAAA,EAAA,CAAA,MAAA,EAAA,QAAA,EAAA,eAAA,EAAA,aAAA,EAAA,YAAA,EAAA,kBAAA,CAAA,EAAA,OAAA,EAAA,CAAA,MAAA,EAAA,QAAA,EAAA,QAAA,EAAA,eAAA,EAAA,eAAA,EAAA,mBAAA,EAAA,UAAA,EAAA,aAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAAC,2BAAA,EAAA,QAAA,EAAA,qBAAA,EAAA,MAAA,EAAA,CAAA,MAAA,EAAA,QAAA,EAAA,eAAA,EAAA,eAAA,EAAA,cAAA,CAAA,EAAA,OAAA,EAAA,CAAA,MAAA,EAAA,eAAA,EAAA,QAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAAC,iBAAA,EAAA,QAAA,EAAA,gCAAA,EAAA,MAAA,EAAA,CAAA,MAAA,CAAA,EAAA,OAAA,EAAA,CAAA,OAAA,CAAA,EAAA,CAAA,EAAA,CAAA;;2FDhBa,2BAA2B,EAAA,UAAA,EAAA,CAAA;kBANvC,SAAS;AACE,YAAA,IAAA,EAAA,CAAA,EAAA,QAAA,EAAA,sBAAsB,cAGpB,KAAK,EAAA,QAAA,EAAA,2pDAAA,EAAA,MAAA,EAAA,CAAA,83BAAA,CAAA,EAAA;8BAIR,MAAM,EAAA,CAAA;sBAAd;gBACQ,QAAQ,EAAA,CAAA;sBAAhB;gBAES,SAAS,EAAA,CAAA;sBAAlB;gBACS,aAAa,EAAA,CAAA;sBAAtB;gBACS,MAAM,EAAA,CAAA;sBAAf;gBACS,IAAI,EAAA,CAAA;sBAAb;gBACS,MAAM,EAAA,CAAA;sBAAf;gBACS,MAAM,EAAA,CAAA;sBAAf;gBACS,aAAa,EAAA,CAAA;sBAAtB;gBACS,WAAW,EAAA,CAAA;sBAApB;gBACS,UAAU,EAAA,CAAA;sBAAnB;gBACS,aAAa,EAAA,CAAA;sBAAtB;gBACS,YAAY,EAAA,CAAA;sBAArB;gBACS,QAAQ,EAAA,CAAA;sBAAjB;gBACS,aAAa,EAAA,CAAA;sBAAtB;;;AE7CH,MAAM,KAAK,GAAG;IACZ,uBAAuB;CACxB;MAMY,WAAW,CAAA;uGAAX,WAAW,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,QAAA,EAAA,CAAA;wGAAX,WAAW,EAAA,YAAA,EAAA,CAPtB,uBAAuB,CAAA,EAAA,OAAA,EAAA,CAAvB,uBAAuB,CAAA,EAAA,CAAA;wGAOZ,WAAW,EAAA,CAAA;;2FAAX,WAAW,EAAA,UAAA,EAAA,CAAA;kBAJvB,QAAQ;AAAC,YAAA,IAAA,EAAA,CAAA;AACR,oBAAA,YAAY,EAAE,CAAC,GAAG,KAAK,CAAC;AACxB,oBAAA,OAAO,EAAE,CAAC,GAAG,KAAK,CAAC;AACpB,iBAAA;;;ACOD,MAAM,eAAe,GAAG;IACtB,aAAa;IACb,eAAe;IACf,aAAa;IACb,mBAAmB;IACnB,oBAAoB;IACpB,iBAAiB;IACjB,uBAAuB;IACvB,oBAAoB;IACpB,qBAAqB;IACrB,uBAAuB;IACvB,mBAAmB;IACnB,iBAAiB;CAClB;MAcY,UAAU,CAAA;uGAAV,UAAU,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,QAAA,EAAA,CAAA;AAAV,IAAA,OAAA,IAAA,GAAA,EAAA,CAAA,mBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,UAAU,iBA1BrB,aAAa;YACb,eAAe;YACf,aAAa;YACb,mBAAmB;YACnB,oBAAoB;YACpB,iBAAiB;YACjB,uBAAuB;YACvB,oBAAoB;YACpB,qBAAqB;YACrB,uBAAuB;YACvB,mBAAmB;AACnB,YAAA,iBAAiB,aAKX,YAAY;AACZ,YAAA,WAAW,aAjBjB,aAAa;YACb,eAAe;YACf,aAAa;YACb,mBAAmB;YACnB,oBAAoB;YACpB,iBAAiB;YACjB,uBAAuB;YACvB,oBAAoB;YACpB,qBAAqB;YACrB,uBAAuB;YACvB,mBAAmB;YACnB,iBAAiB,CAAA,EAAA,CAAA;AAeN,IAAA,OAAA,IAAA,GAAA,EAAA,CAAA,mBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,UAAU,YAVf,YAAY;YACZ,WAAW,CAAA,EAAA,CAAA;;2FASN,UAAU,EAAA,UAAA,EAAA,CAAA;kBAZtB,QAAQ;AAAC,YAAA,IAAA,EAAA,CAAA;AACN,oBAAA,OAAO,EAAE;wBACL,YAAY;wBACZ,WAAW;AACd,qBAAA;AACH,oBAAA,YAAY,EAAE;AACZ,wBAAA,GAAG,eAAe;AACnB,qBAAA;AACD,oBAAA,OAAO,EAAE;AACP,wBAAA,GAAG,eAAe;AACnB,qBAAA;AACF,iBAAA;;;AC/BD,MAAM,iBAAiB,GAAG;IACxB,aAAa;IACb,aAAa;IACb,eAAe;IACf,sBAAsB;IACtB,qBAAqB;IACrB,uBAAuB;IACvB,oBAAoB;IACpB,qBAAqB;CACtB;MAaY,YAAY,CAAA;uGAAZ,YAAY,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,QAAA,EAAA,CAAA;AAAZ,IAAA,OAAA,IAAA,GAAA,EAAA,CAAA,mBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,YAAY,iBArBvB,aAAa;YACb,aAAa;YACb,eAAe;YACf,sBAAsB;YACtB,qBAAqB;YACrB,uBAAuB;YACvB,oBAAoB;YACpB,qBAAqB,CAAA,EAAA,OAAA,EAAA,CAKnB,YAAY,CAAA,EAAA,OAAA,EAAA,CAZd,aAAa;YACb,aAAa;YACb,eAAe;YACf,sBAAsB;YACtB,qBAAqB;YACrB,uBAAuB;YACvB,oBAAoB;YACpB,qBAAqB,CAAA,EAAA,CAAA;AAcV,IAAA,OAAA,IAAA,GAAA,EAAA,CAAA,mBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,YAAY,YATrB,YAAY,CAAA,EAAA,CAAA;;2FASH,YAAY,EAAA,UAAA,EAAA,CAAA;kBAXxB,QAAQ;AAAC,YAAA,IAAA,EAAA,CAAA;AACR,oBAAA,OAAO,EAAE;wBACP,YAAY;AACb,qBAAA;AACD,oBAAA,YAAY,EAAE;AACZ,wBAAA,GAAG,iBAAiB;AACrB,qBAAA;AACD,oBAAA,OAAO,EAAE;AACP,wBAAA,GAAG,iBAAiB;AACrB,qBAAA;AACF,iBAAA;;;MCjBY,WAAW,CAAA;uGAAX,WAAW,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,QAAA,EAAA,CAAA;AAAX,IAAA,OAAA,IAAA,GAAA,EAAA,CAAA,mBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAW,EAAA,YAAA,EAAA,CANpB,cAAc,CAAA,EAAA,OAAA,EAAA,CAHd,YAAY,aAMZ,cAAc,CAAA,EAAA,CAAA;AAGL,IAAA,OAAA,IAAA,GAAA,EAAA,CAAA,mBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAW,YATpB,YAAY,CAAA,EAAA,CAAA;;2FASH,WAAW,EAAA,UAAA,EAAA,CAAA;kBAXvB,QAAQ;AAAC,YAAA,IAAA,EAAA,CAAA;AACR,oBAAA,OAAO,EAAE;wBACP,YAAY;AACb,qBAAA;AACD,oBAAA,YAAY,EAAE;wBACZ,cAAc;AACf,qBAAA;AACD,oBAAA,OAAO,EAAE;wBACP,cAAc;AACf,qBAAA;AACF,iBAAA;;;MCGY,UAAU,CAAA;uGAAV,UAAU,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,QAAA,EAAA,CAAA;AAAV,IAAA,OAAA,IAAA,GAAA,EAAA,CAAA,mBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,UAAU,iBARnB,YAAY;YACZ,iBAAiB,CAAA,EAAA,OAAA,EAAA,CAJjB,YAAY,CAAA,EAAA,OAAA,EAAA,CAOZ,YAAY;YACZ,iBAAiB,CAAA,EAAA,CAAA;AAGR,IAAA,OAAA,IAAA,GAAA,EAAA,CAAA,mBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,UAAU,YAXnB,YAAY,CAAA,EAAA,CAAA;;2FAWH,UAAU,EAAA,UAAA,EAAA,CAAA;kBAbtB,QAAQ;AAAC,YAAA,IAAA,EAAA,CAAA;AACR,oBAAA,OAAO,EAAE;wBACP,YAAY;AACb,qBAAA;AACD,oBAAA,YAAY,EAAE;wBACZ,YAAY;wBACZ;AACD,qBAAA;AACD,oBAAA,OAAO,EAAE;wBACP,YAAY;wBACZ;AACD,qBAAA;AACF,iBAAA;;;ACJD,MAAM,gBAAgB,GAAG;IACvB,wBAAwB;IACxB,wBAAwB;IACxB,oBAAoB;IACpB,uBAAuB;IACvB,wBAAwB;IACxB;CACD;MAeY,WAAW,CAAA;uGAAX,WAAW,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,QAAA,EAAA,CAAA;AAAX,IAAA,OAAA,IAAA,GAAA,EAAA,CAAA,mBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAW,iBArBtB,wBAAwB;YACxB,wBAAwB;YACxB,oBAAoB;YACpB,uBAAuB;YACvB,wBAAwB;AACxB,YAAA,2BAA2B,aAKrB,YAAY;YACZ,UAAU;AACV,YAAA,WAAW,aAZjB,wBAAwB;YACxB,wBAAwB;YACxB,oBAAoB;YACpB,uBAAuB;YACvB,wBAAwB;YACxB,2BAA2B,CAAA,EAAA,CAAA;AAgBhB,IAAA,OAAA,IAAA,GAAA,EAAA,CAAA,mBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAW,YAXhB,YAAY;YACZ,UAAU;YACV,WAAW,CAAA,EAAA,CAAA;;2FASN,WAAW,EAAA,UAAA,EAAA,CAAA;kBAbvB,QAAQ;AAAC,YAAA,IAAA,EAAA,CAAA;AACN,oBAAA,OAAO,EAAE;wBACL,YAAY;wBACZ,UAAU;wBACV,WAAW;AACd,qBAAA;AACH,oBAAA,YAAY,EAAE;AACZ,wBAAA,GAAG,gBAAgB;AACpB,qBAAA;AACD,oBAAA,OAAO,EAAE;AACP,wBAAA,GAAG,gBAAgB;AACpB,qBAAA;AACF,iBAAA;;;AC7BD,MAAM,UAAU,GAAG;IACjB;CACD;MAaY,gBAAgB,CAAA;uGAAhB,gBAAgB,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,QAAA,EAAA,CAAA;AAAhB,IAAA,OAAA,IAAA,GAAA,EAAA,CAAA,mBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,gBAAgB,EAAA,YAAA,EAAA,CAd3B,mBAAmB,CAAA,EAAA,OAAA,EAAA,CAKjB,YAAY,aALd,mBAAmB,CAAA,EAAA,CAAA;AAcR,IAAA,OAAA,IAAA,GAAA,EAAA,CAAA,mBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,gBAAgB,YATzB,YAAY,CAAA,EAAA,CAAA;;2FASH,gBAAgB,EAAA,UAAA,EAAA,CAAA;kBAX5B,QAAQ;AAAC,YAAA,IAAA,EAAA,CAAA;AACR,oBAAA,OAAO,EAAE;wBACP;AACD,qBAAA;AACD,oBAAA,YAAY,EAAE;AACZ,wBAAA,GAAG,UAAU;AACd,qBAAA;AACD,oBAAA,OAAO,EAAE;AACP,wBAAA,GAAG,UAAU;AACd,qBAAA;AACF,iBAAA;;;ACFD,MAAM,gBAAgB,GAAG;IACvB,0BAA0B;IAC1B,qBAAqB;IACrB,kBAAkB;IAClB,oBAAoB;IACpB,wBAAwB;IACxB,qBAAqB;IACrB,uBAAuB;IACvB;CACD;MAiBY,WAAW,CAAA;uGAAX,WAAW,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,QAAA,EAAA,CAAA;AAAX,IAAA,OAAA,IAAA,GAAA,EAAA,CAAA,mBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAW,iBAzBtB,0BAA0B;YAC1B,qBAAqB;YACrB,kBAAkB;YAClB,oBAAoB;YACpB,wBAAwB;YACxB,qBAAqB;YACrB,uBAAuB;AACvB,YAAA,2BAA2B,aAKrB,YAAY;YACZ,YAAY;YACZ,UAAU;YACV,gBAAgB;AAChB,YAAA,WAAW,aAhBjB,0BAA0B;YAC1B,qBAAqB;YACrB,kBAAkB;YAClB,oBAAoB;YACpB,wBAAwB;YACxB,qBAAqB;YACrB,uBAAuB;YACvB,2BAA2B,CAAA,EAAA,CAAA;AAkBhB,IAAA,OAAA,IAAA,GAAA,EAAA,CAAA,mBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAW,YAbhB,YAAY;YACZ,YAAY;YACZ,UAAU;YACV,gBAAgB;YAChB,WAAW,CAAA,EAAA,CAAA;;2FASN,WAAW,EAAA,UAAA,EAAA,CAAA;kBAfvB,QAAQ;AAAC,YAAA,IAAA,EAAA,CAAA;AACN,oBAAA,OAAO,EAAE;wBACL,YAAY;wBACZ,YAAY;wBACZ,UAAU;wBACV,gBAAgB;wBAChB;AACH,qBAAA;AACH,oBAAA,YAAY,EAAE;AACZ,wBAAA,GAAG,gBAAgB;AACpB,qBAAA;AACD,oBAAA,OAAO,EAAE;AACP,wBAAA,GAAG,gBAAgB;AACpB,qBAAA;AACF,iBAAA;;;MCdY,wBAAwB,CAAA;uGAAxB,wBAAwB,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,QAAA,EAAA,CAAA;wGAAxB,wBAAwB,EAAA,YAAA,EAAA,CAfjC,2BAA2B,CAAA,EAAA,OAAA,EAAA,CAG3B,YAAY;YACZ,UAAU;YACV,YAAY;YACZ,WAAW;YACX,WAAW;YACX,WAAW;AACX,YAAA,UAAU,aAGV,2BAA2B,CAAA,EAAA,CAAA;AAGlB,IAAA,OAAA,IAAA,GAAA,EAAA,CAAA,mBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,wBAAwB,YAZjC,YAAY;YACZ,UAAU;YACV,YAAY;YACZ,WAAW;YACX,WAAW;YACX,WAAW;YACX,UAAU,CAAA,EAAA,CAAA;;2FAMD,wBAAwB,EAAA,UAAA,EAAA,CAAA;kBAjBpC,QAAQ;AAAC,YAAA,IAAA,EAAA,CAAA;AACR,oBAAA,YAAY,EAAE;wBACZ;AACD,qBAAA;AACD,oBAAA,OAAO,EAAE;wBACP,YAAY;wBACZ,UAAU;wBACV,YAAY;wBACZ,WAAW;wBACX,WAAW;wBACX,WAAW;wBACX;AACD,qBAAA;AACD,oBAAA,OAAO,EAAE;wBACP;AACD;AACF,iBAAA;;;MC3BY,gBAAgB,CAAA;AAEjB,IAAA,OAAgB,cAAc,GAAG,OAAO;AACxC,IAAA,OAAgB,YAAY,GAAG,QAAQ;AACvC,IAAA,OAAgB,cAAc,GAAG,OAAO;AACxC,IAAA,OAAgB,eAAe,GAAG,QAAQ;AAC1C,IAAA,OAAgB,gBAAgB,GAAG,cAAc;AACjD,IAAA,OAAgB,SAAS,GAAG,eAAe;AAC3C,IAAA,OAAgB,QAAQ,GAAG,EAAE;AAEvC,IAAA,QAAQ;AAER,IAAA,YAAY;AACZ,IAAA,UAAU;AACV,IAAA,YAAY;AACZ,IAAA,aAAa;AACb,IAAA,cAAc;AACd,IAAA,QAAQ;AACR,IAAA,OAAO;AAEP,IAAA,WAAA,CACE,EAAE,QAAQ,GAAG,EAAE,EAAE,YAAY,GAAG,EAAE,EAAE,UAAU,GAAG,EAAE,EACjD,YAAY,GAAG,EAAE,EAAE,aAAa,GAAG,EAAE,EAAE,cAAc,GAAG,EAAE,EAAE,QAAQ,GAAG,EAAE,EAAE,OAAO,GAAG,EAAE,EAAE,GAAG,EAAE,EAAA;AAEhG,QAAA,IAAI,CAAC,QAAQ,GAAG,QAAQ,GAAG,QAAQ,GAAG,EAAE;AAExC,QAAA,IAAI,CAAC,YAAY,GAAG,YAAY,GAAG,YAAY,GAAG,gBAAgB,CAAC,cAAc;AACjF,QAAA,IAAI,CAAC,UAAU,GAAG,UAAU,GAAG,UAAU,GAAG,gBAAgB,CAAC,YAAY;AACzE,QAAA,IAAI,CAAC,YAAY,GAAG,YAAY,GAAG,YAAY,GAAG,gBAAgB,CAAC,cAAc;AACjF,QAAA,IAAI,CAAC,aAAa,GAAG,aAAa,GAAG,aAAa,GAAG,gBAAgB,CAAC,eAAe;AACrF,QAAA,IAAI,CAAC,cAAc,GAAG,cAAc,GAAG,cAAc,GAAG,gBAAgB,CAAC,gBAAgB;AACzF,QAAA,IAAI,CAAC,QAAQ,GAAG,QAAQ,GAAG,QAAQ,GAAG,gBAAgB,CAAC,SAAS;AAChE,QAAA,IAAI,CAAC,OAAO,GAAG,OAAO,GAAG,OAAO,GAAG,gBAAgB,CAAC,QAAQ;IAC9D;;;ACxBI,MAAO,gBAAiB,SAAQ,eAAe,CAAA;AAM7B,IAAA,IAAA;AAJZ,IAAA,IAAI;IAEJ,gBAAgB,GAAW,CAAC;IAEtC,WAAA,CAAsB,IAAgB,EAAE,IAAA,GAA8B,EAAE,EAAA;AACtE,QAAA,KAAK,EAAE;QADa,IAAA,CAAA,IAAI,GAAJ,IAAI;QAGxB,IAAI,CAAC,IAAI,GAAG,IAAI,gBAAgB,CAAC,IAAI,CAAC;AAEtC,QAAA,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;AACvB,YAAA,MAAM,IAAI,KAAK,CAAC,mFAAmF,CAAC;QACtG;IACF;IAES,KAAK,GAAA;QACZ,OAAO,IAAI,CAAC,gBAAgB;IAC9B;IAES,MAAM,GAAA;QACb,OAAO,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC;IAC3C;IAES,WAAW,GAAA;QAClB,OAAO,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC;IACxC;IAES,oBAAoB,GAAA;QAC3B,OAAO,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,IAAI,EAAE,KAAK,CAAC;IACzC;AAEU,IAAA,QAAQ,CAAC,QAAiB,EAAE,MAAe,EAAE,SAAkB,EAAA;QACvE,OAAO,IAAI,CAAC,eAAe,CAAC,QAAQ,EAAE,MAAM,EAAE,SAAS;AACpD,aAAA,IAAI,CAAC,GAAG,CAAC,GAAG,IAAG;YACd,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,wBAAwB,CAAC,GAAG,CAAC;;;YAG1D,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,uBAAuB,CAAC,GAAG,CAAC;AAC7C,YAAA,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,IAAI;YAClC,OAAO,IAAI,CAAC,IAAI;AAClB,QAAA,CAAC,CAAC,CAAC,CAAC,SAAS,EAAE;IACnB;AAEA;;;;AAIG;AACO,IAAA,uBAAuB,CAAC,GAAQ,EAAA;AACxC,QAAA,MAAM,OAAO,GAAG,GAAG,CAAC,IAAI;AACxB,QAAA,MAAM,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,GAAG,iBAAiB,CAAC,OAAO,EAAE,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,EAAE,CAAC,GAAG,OAAO;AAE9F,QAAA,IAAI,IAAI,YAAY,KAAK,EAAE;AACzB,YAAA,OAAO,IAAI;QACb;QAEA,MAAM,IAAI,KAAK,CAAC,CAAA,6FAAA,EAAgG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAA,sBAAA,CAAwB,CAAC;IAC5J;AAEA;;;;;AAKG;AACO,IAAA,wBAAwB,CAAC,GAAQ,EAAA;AACzC,QAAA,IAAI,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE;AACvC,YAAA,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC;QAC7C;aAAO;AACL,YAAA,MAAM,OAAO,GAAG,GAAG,CAAC,IAAI;AACxB,YAAA,OAAO,iBAAiB,CAAC,OAAO,EAAE,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC;QAC1D;IACF;AAEU,IAAA,eAAe,CAAC,QAAiB,EAAE,MAAe,EAAE,SAAkB,EAAA;AAC9E,QAAA,IAAI,UAAU,GAAG,IAAI,UAAU,EAAE;AAEjC,QAAA,IAAI,QAAQ;AAAE,YAAA,UAAU,GAAG,IAAI,CAAC,sBAAsB,CAAC,UAAU,CAAC;AAClE,QAAA,IAAI,MAAM;AAAE,YAAA,UAAU,GAAG,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC;AAC9D,QAAA,IAAI,SAAS;AAAE,YAAA,UAAU,GAAG,IAAI,CAAC,qBAAqB,CAAC,UAAU,CAAC;QAElE,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,EAAE,MAAM,EAAE,UAAU,EAAE,OAAO,EAAE,UAAU,EAAE,CAAC;IACvF;AAEU,IAAA,oBAAoB,CAAC,UAAsB,EAAA;AACnD,QAAA,IAAI,IAAI,CAAC,QAAQ,EAAE;YACjB,IAAI,MAAM,GAAa,EAAE;YACzB,IAAI,UAAU,GAAa,EAAE;YAC7B,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,SAAS,KAAI;AAClC,gBAAA,IAAI,SAAS,CAAC,SAAS,KAAK,IAAI,EAAE;AAChC,oBAAA,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC;oBAC5B,UAAU,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC;gBACpD;AACF,YAAA,CAAC,CAAC;AACF,YAAA,UAAU,GAAG,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AACrE,YAAA,UAAU,GAAG,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QACzE;AAEA,QAAA,OAAO,UAAU;IACnB;AAEU,IAAA,sBAAsB,CAAC,UAAsB,EAAA;QACrD,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,SAAS,KAAI;AACpC,YAAA,IAAI,SAAS,CAAC,QAAQ,CAAC,EAAE;gBACvB,UAAU,GAAG,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,SAAS,EAAE,SAAS,CAAC,OAAO,CAAC,CAAC,EAAE,SAAS,CAAC,QAAQ,CAAC,CAAC;YACnH;AACF,QAAA,CAAC,CAAC;AAEF,QAAA,OAAO,UAAU;IACnB;AAEU,IAAA,qBAAqB,CAAC,UAAsB,EAAA;AACpD,QAAA,UAAU,GAAG,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC;AACzE,QAAA,UAAU,GAAG,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC;AAC7E,QAAA,OAAO,UAAU;IACnB;AACD;;AC9HD;;AAEG;;ACFH;;AAEG;;;;"}