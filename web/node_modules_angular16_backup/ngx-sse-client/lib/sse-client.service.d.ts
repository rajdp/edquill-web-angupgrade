import './events-polyfill';
import { HttpClient } from '@angular/common/http';
import { Observable } from 'rxjs';
import { SseRequestOptions } from './sse-request-options.interface';
export declare class SseClient {
    private httpClient;
    private static readonly SEPARATOR;
    private progress;
    private chunk;
    private sseOptions;
    private httpClientOptions;
    constructor(httpClient: HttpClient);
    /**
     * Constructs a request which listen to the SSE and interprets the data as
     * events and returns the full event stream.
     *
     * @param url the endpoint URL.
     * @param options an object of `SseOption`
     * @param requestOptions the HTTP options to send with the request.
     * @param method the HTTP method
     *
     * @returns an observable of all events for the request, with the response body of type `Event`.
     */
    stream(url: string, options?: {
        keepAlive?: boolean;
        reconnectionDelay?: number;
        responseType?: 'event';
    }, requestOptions?: SseRequestOptions, method?: string): Observable<Event>;
    /**
     * Constructs a request which listen to the SSE and interprets the data as a
     * string text and returns the full event stream.
     *
     * @param url the endpoint URL.
     * @param options an object of `SseOption`
     * @param requestOptions the HTTP options to send with the request.
     * @param method the HTTP method
     *
     * @returns an observable of all events for the request, with the response body of type string.
     */
    stream(url: string, options?: {
        keepAlive?: boolean;
        reconnectionDelay?: number;
        responseType?: 'text';
    }, requestOptions?: SseRequestOptions, method?: string): Observable<string>;
    private subscribeStreamRequest;
    private repeatWhen;
    private retryWhen;
    private threatRequestError;
    private isValidStatus;
    private parseStreamEvent;
    private onStreamProgress;
    private onStreamCompleted;
    private parseEventData;
    private parseEventChunk;
    private parseChunkLine;
    private dispatchStreamData;
    private validEvent;
    private messageEvent;
    private errorEvent;
}
