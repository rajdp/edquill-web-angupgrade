import { expect } from 'chai';
import { spy } from 'sinon';
import { addElement, removeElement } from '../../src/Action';
describe('removeElement', function () {
    var setState = spy();
    var sampleStateElement = { id: 0, type: 'test' };
    var stateChanger = function (action) {
        var state = {
            elements: [sampleStateElement]
        };
        return action(state, setState);
    };
    beforeEach(function () {
        setState.resetHistory();
    });
    it('should throw element id exception', function () {
        expect(function () { return removeElement(stateChanger, {}); }).throw('Element id are not defined');
    });
    it('should return element', function () {
        var result = removeElement(stateChanger, sampleStateElement);
        expect(sampleStateElement).deep.equal(result);
    });
    it('should delete element', function () {
        var parameters = {
            type: 'rect',
            x: 1,
            y: 2,
            width: 3,
            height: 4
        };
        var addedElement = addElement(stateChanger, parameters);
        removeElement(stateChanger, addedElement);
        var setStateChangerArgs = setState.getCalls().map(function (call) { return call.args; });
        var expectedSetStateChangerArgs = [[
                { elements: [sampleStateElement, addedElement] }
            ], [
                { elements: [sampleStateElement] }
            ]];
        expect(expectedSetStateChangerArgs).deep.equal(setStateChangerArgs);
    });
});
//# sourceMappingURL=removeElement.test.js.map