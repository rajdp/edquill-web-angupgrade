import { expect } from 'chai';
import { spy } from 'sinon';
import { addElement } from '../../src/Action';
describe('addElement', function () {
    var setState = spy();
    var stateChanger = function (action) {
        var state = {
            elements: [{ id: 0, type: 'test' }]
        };
        return action(state, setState);
    };
    beforeEach(function () {
        setState.resetHistory();
    });
    it('should throw element type exception', function () {
        expect(function () { return addElement(stateChanger, {}); }).throw('Element type is not specified');
    });
    it('should throw group children exception', function () {
        var parameters = {
            type: 'group'
        };
        expect(function () { return addElement(stateChanger, parameters); }).throw('Group children is not specified');
    });
    it('should return element', function () {
        var parameters = { type: 'test' };
        var result = addElement(stateChanger, parameters);
        var expectedResult = {
            children: undefined,
            class: undefined,
            domId: undefined,
            fill: undefined,
            fontSize: undefined,
            text: undefined,
            height: 0,
            id: 1,
            points: undefined,
            stroke: undefined,
            type: "test",
            width: 0,
            x: 0,
            y: 0
        };
        expect(expectedResult).deep.equal(result);
    });
    it('should add element', function () {
        var parameters = {
            type: 'rect',
            x: 1,
            y: 2,
            width: 3,
            height: 4
        };
        addElement(stateChanger, parameters);
        var setStateChangerArgs = setState.getCalls().map(function (call) { return call.args; });
        var expectedSetStateChangerArgs = [[{
                    elements: [
                        { id: 0, type: "test" },
                        {
                            id: 1,
                            type: "rect",
                            x: 1,
                            y: 2,
                            width: 3,
                            height: 4,
                            children: undefined,
                            class: undefined,
                            domId: undefined,
                            fill: undefined,
                            points: undefined,
                            stroke: undefined,
                            fontSize: undefined,
                            text: undefined
                        }
                    ]
                }]];
        expect(expectedSetStateChangerArgs).deep.equal(setStateChangerArgs);
    });
});
//# sourceMappingURL=addElement.test.js.map